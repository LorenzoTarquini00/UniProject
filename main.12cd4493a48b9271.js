"use strict";(self.webpackChunkUniProject=self.webpackChunkUniProject||[]).push([[179],{2011:(Mt,Pe,O)=>{O.d(Pe,{Dh:()=>_e,GT:()=>ie,cc:()=>ke,hO:()=>Oe,on:()=>K,pX:()=>we,xv:()=>Ee});var h=O(4650),j=O(9260),L=O(7064);Mt=O.hmd(Mt);const ee=["ngOnDestroy"],we=(Ne,Be,qe,Se={})=>new Proxy(Ne,{get:(De,Re)=>qe.runOutsideAngular(()=>{var Ze;if(Ne[Re])return!(null===(Ze=Se?.spy)||void 0===Ze)&&Ze.get&&Se.spy.get(Re,Ne[Re]),Ne[Re];if(ee.indexOf(Re)>-1)return()=>{};const je=Be.toPromise().then(ae=>{const lt=ae&&ae[Re];return"function"==typeof lt?lt.bind(ae):lt&&lt.then?lt.then(Ft=>qe.run(()=>Ft)):qe.run(()=>lt)});return new Proxy(()=>{},{get:(ae,lt)=>je[lt],apply:(ae,lt,Ft)=>je.then(at=>{var rn;const _t=at&&at(...Ft);return!(null===(rn=Se?.spy)||void 0===rn)&&rn.apply&&Se.spy.apply(Re,Ft,_t),_t})})})}),ie=(Ne,Be)=>{Be.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Se=>{Object.defineProperty(Ne.prototype,Se,Object.getOwnPropertyDescriptor(qe.prototype||qe,Se))})})};class Ce{constructor(Be){return Be}}const _e=new h.OlP("angularfire2.app.options"),Ee=new h.OlP("angularfire2.app.name");function K(Ne,Be,qe){const De="object"==typeof qe&&qe||{};De.name=De.name||"string"==typeof qe&&qe||"[DEFAULT]";const Ze=j.Z.apps.filter(je=>je&&je.name===De.name)[0]||Be.runOutsideAngular(()=>j.Z.initializeApp(Ne,De));try{JSON.stringify(Ne)!==JSON.stringify(Ze.options)&&W("error",`${Ze.name} Firebase App already initialized with different options${Mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ce(Ze)}const W=(Ne,...Be)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ne](...Be)},Q={provide:Ce,useFactory:K,deps:[_e,h.R0b,[new h.FiY,Ee]]};let Oe=(()=>{class Ne{constructor(qe){j.Z.registerVersion("angularfire",L.q4.full,"core"),j.Z.registerVersion("angularfire",L.q4.full,"app-compat"),j.Z.registerVersion("angular",h.q4F.full,qe.toString())}static initializeApp(qe,Se){return{ngModule:Ne,providers:[{provide:_e,useValue:qe},{provide:Ee,useValue:Se}]}}}return Ne.\u0275fac=function(qe){return new(qe||Ne)(h.LFG(h.Lbi))},Ne.\u0275mod=h.oAB({type:Ne}),Ne.\u0275inj=h.cJS({providers:[Q]}),Ne})();function ke(Ne,Be,qe,Se,De){const[,Re,Ze]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Ne)||[];if(Re)return function $e(Ne,Be){try{return Ne.toString()===Be.toString()}catch{return Ne===Be}}(De,Ze)||(ve("error",`${Be} was already initialized on the ${qe} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:De,was:Ze})),Re;{const je=Se();return globalThis.\u0275AngularfireInstanceCache.push([Ne,je,De]),je}}const ft=!!Mt.hot,ve=(Ne,...Be)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ne](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7064:(Mt,Pe,O)=>{O.d(Pe,{q4:()=>Yr,iC:()=>Ah,HU:()=>Sh,vb:()=>Vo,JM:()=>Ea,nk:()=>ba,_J:()=>Ki,u3:()=>gu});var h=O(4650),j=O(259),L=O(4880),ee=O(5861),ie=(O(4727),O(4859));const Ce=(F,z)=>z.some(fe=>F instanceof fe);let _e,Ee;const Q=new WeakMap,Oe=new WeakMap,ke=new WeakMap,$e=new WeakMap,ft=new WeakMap;let Be={get(F,z,fe){if(F instanceof IDBTransaction){if("done"===z)return Oe.get(F);if("objectStoreNames"===z)return F.objectStoreNames||ke.get(F);if("store"===z)return fe.objectStoreNames[1]?void 0:fe.objectStore(fe.objectStoreNames[0])}return Re(F[z])},set:(F,z,fe)=>(F[z]=fe,!0),has:(F,z)=>F instanceof IDBTransaction&&("done"===z||"store"===z)||z in F};function De(F){return"function"==typeof F?function Se(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function W(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...z){return F.apply(Ze(this),z),Re(Q.get(this))}:function(...z){return Re(F.apply(Ze(this),z))}:function(z,...fe){const He=F.call(Ze(this),z,...fe);return ke.set(He,z.sort?z.sort():[z]),Re(He)}}(F):(F instanceof IDBTransaction&&function Ne(F){if(Oe.has(F))return;const z=new Promise((fe,He)=>{const yt=()=>{F.removeEventListener("complete",Dt),F.removeEventListener("error",en),F.removeEventListener("abort",en)},Dt=()=>{fe(),yt()},en=()=>{He(F.error||new DOMException("AbortError","AbortError")),yt()};F.addEventListener("complete",Dt),F.addEventListener("error",en),F.addEventListener("abort",en)});Oe.set(F,z)}(F),Ce(F,function K(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,Be):F)}function Re(F){if(F instanceof IDBRequest)return function ve(F){const z=new Promise((fe,He)=>{const yt=()=>{F.removeEventListener("success",Dt),F.removeEventListener("error",en)},Dt=()=>{fe(Re(F.result)),yt()},en=()=>{He(F.error),yt()};F.addEventListener("success",Dt),F.addEventListener("error",en)});return z.then(fe=>{fe instanceof IDBCursor&&Q.set(fe,F)}).catch(()=>{}),ft.set(z,F),z}(F);if($e.has(F))return $e.get(F);const z=De(F);return z!==F&&($e.set(F,z),ft.set(z,F)),z}const Ze=F=>ft.get(F);function je(F,z,{blocked:fe,upgrade:He,blocking:yt,terminated:Dt}={}){const en=indexedDB.open(F,z),cr=Re(en);return He&&en.addEventListener("upgradeneeded",Dr=>{He(Re(en.result),Dr.oldVersion,Dr.newVersion,Re(en.transaction))}),fe&&en.addEventListener("blocked",()=>fe()),cr.then(Dr=>{Dt&&Dr.addEventListener("close",()=>Dt()),yt&&Dr.addEventListener("versionchange",()=>yt())}).catch(()=>{}),cr}function ae(F,{blocked:z}={}){const fe=indexedDB.deleteDatabase(F);return z&&fe.addEventListener("blocked",()=>z()),Re(fe).then(()=>{})}const lt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],at=new Map;function rn(F,z){if(!(F instanceof IDBDatabase)||z in F||"string"!=typeof z)return;if(at.get(z))return at.get(z);const fe=z.replace(/FromIndex$/,""),He=z!==fe,yt=Ft.includes(fe);if(!(fe in(He?IDBIndex:IDBObjectStore).prototype)||!yt&&!lt.includes(fe))return;const Dt=function(){var en=(0,ee.Z)(function*(cr,...Dr){const Ci=this.transaction(cr,yt?"readwrite":"readonly");let ao=Ci.store;return He&&(ao=ao.index(Dr.shift())),(yield Promise.all([ao[fe](...Dr),yt&&Ci.done]))[0]});return function(Dr){return en.apply(this,arguments)}}();return at.set(z,Dt),Dt}!function qe(F){Be=F(Be)}(F=>({...F,get:(z,fe,He)=>rn(z,fe)||F.get(z,fe,He),has:(z,fe)=>!!rn(z,fe)||F.has(z,fe)}));var _t=O(2090),me=O(6881);const ye="/firebase-messaging-sw.js",Ae="/firebase-cloud-messaging-push-scope",Fe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Je="https://fcmregistrations.googleapis.com/v1",Ye="google.c.a.c_id",Et="google.c.a.c_l",ze="google.c.a.ts",zt="google.c.a.e";var Ut=(()=>{return(F=Ut||(Ut={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",Ut;var F})();function wt(F){const z=new Uint8Array(F);return btoa(String.fromCharCode(...z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kt(F){const fe=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),He=atob(fe),yt=new Uint8Array(He.length);for(let Dt=0;Dt<He.length;++Dt)yt[Dt]=He.charCodeAt(Dt);return yt}const Bn="fcm_token_details_db",Un=5,dr="fcm_token_object_Store";function Tr(){return Tr=(0,ee.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Dt=>Dt.name).includes(Bn))return null;let z=null;return(yield je(Bn,Un,{upgrade:(He=(0,ee.Z)(function*(yt,Dt,en,cr){var Dr;if(Dt<2||!yt.objectStoreNames.contains(dr))return;const Ci=cr.objectStore(dr),ao=yield Ci.index("fcmSenderId").get(F);if(yield Ci.clear(),ao)if(2===Dt){const Gn=ao;if(!Gn.auth||!Gn.p256dh||!Gn.endpoint)return;z={token:Gn.fcmToken,createTime:null!==(Dr=Gn.createTime)&&void 0!==Dr?Dr:Date.now(),subscriptionOptions:{auth:Gn.auth,p256dh:Gn.p256dh,endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:"string"==typeof Gn.vapidKey?Gn.vapidKey:wt(Gn.vapidKey)}}}else if(3===Dt){const Gn=ao;z={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:wt(Gn.auth),p256dh:wt(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:wt(Gn.vapidKey)}}}else if(4===Dt){const Gn=ao;z={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:wt(Gn.auth),p256dh:wt(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:wt(Gn.vapidKey)}}}}),function(Dt,en,cr,Dr){return He.apply(this,arguments)})})).close(),yield ae(Bn),yield ae("fcm_vapid_details_db"),yield ae("undefined"),function hr(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:z}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof z.auth&&z.auth.length>0&&"string"==typeof z.p256dh&&z.p256dh.length>0&&"string"==typeof z.endpoint&&z.endpoint.length>0&&"string"==typeof z.swScope&&z.swScope.length>0&&"string"==typeof z.vapidKey&&z.vapidKey.length>0}(z)?z:null;var He}),Tr.apply(this,arguments)}const Kr="firebase-messaging-database",ar=1,ot="firebase-messaging-store";let oe=null;function ce(){return oe||(oe=je(Kr,ar,{upgrade:(F,z)=>{0===z&&F.createObjectStore(ot)}})),oe}function st(F){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,ee.Z)(function*(F){const z=At(F),He=yield(yield ce()).transaction(ot).objectStore(ot).get(z);if(He)return He;{const yt=yield function zn(F){return Tr.apply(this,arguments)}(F.appConfig.senderId);if(yt)return yield Vt(F,yt),yt}}),Lt.apply(this,arguments)}function Vt(F,z){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,ee.Z)(function*(F,z){const fe=At(F),yt=(yield ce()).transaction(ot,"readwrite");return yield yt.objectStore(ot).put(z,fe),yield yt.done,z})).apply(this,arguments)}function jt(){return(jt=(0,ee.Z)(function*(F){const z=At(F),He=(yield ce()).transaction(ot,"readwrite");yield He.objectStore(ot).delete(z),yield He.done})).apply(this,arguments)}function At({appConfig:F}){return F.appId}const ut=new _t.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kn(F,z){return _n.apply(this,arguments)}function _n(){return(_n=(0,ee.Z)(function*(F,z){const fe=yield lr(F),He=ci(z),yt={method:"POST",headers:fe,body:JSON.stringify(He)};let Dt;try{Dt=yield(yield fetch(Nt(F.appConfig),yt)).json()}catch(en){throw ut.create("token-subscribe-failed",{errorInfo:en?.toString()})}if(Dt.error)throw ut.create("token-subscribe-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw ut.create("token-subscribe-no-token");return Dt.token})).apply(this,arguments)}function Qn(){return(Qn=(0,ee.Z)(function*(F,z){const fe=yield lr(F),He=ci(z.subscriptionOptions),yt={method:"PATCH",headers:fe,body:JSON.stringify(He)};let Dt;try{Dt=yield(yield fetch(`${Nt(F.appConfig)}/${z.token}`,yt)).json()}catch(en){throw ut.create("token-update-failed",{errorInfo:en?.toString()})}if(Dt.error)throw ut.create("token-update-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw ut.create("token-update-no-token");return Dt.token})).apply(this,arguments)}function An(F,z){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,ee.Z)(function*(F,z){const He={method:"DELETE",headers:yield lr(F)};try{const Dt=yield(yield fetch(`${Nt(F.appConfig)}/${z}`,He)).json();if(Dt.error)throw ut.create("token-unsubscribe-failed",{errorInfo:Dt.error.message})}catch(yt){throw ut.create("token-unsubscribe-failed",{errorInfo:yt?.toString()})}})).apply(this,arguments)}function Nt({projectId:F}){return`${Je}/projects/${F}/registrations`}function lr(F){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,ee.Z)(function*({appConfig:F,installations:z}){const fe=yield z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${fe}`})})).apply(this,arguments)}function ci({p256dh:F,auth:z,endpoint:fe,vapidKey:He}){const yt={web:{endpoint:fe,auth:z,p256dh:F}};return He!==Fe&&(yt.web.applicationPubKey=He),yt}const Jt=6048e5;function Hn(){return Hn=(0,ee.Z)(function*(F){const z=yield function $(F,z){return R.apply(this,arguments)}(F.swRegistration,F.vapidKey),fe={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:z.endpoint,auth:wt(z.getKey("auth")),p256dh:wt(z.getKey("p256dh"))},He=yield st(F.firebaseDependencies);if(He){if(function N(F,z){return z.vapidKey===F.vapidKey&&z.endpoint===F.endpoint&&z.auth===F.auth&&z.p256dh===F.p256dh}(He.subscriptionOptions,fe))return Date.now()>=He.createTime+Jt?function Sr(F,z){return Mr.apply(this,arguments)}(F,{token:He.token,createTime:Date.now(),subscriptionOptions:fe}):He.token;try{yield An(F.firebaseDependencies,He.token)}catch(yt){console.warn(yt)}return ti(F.firebaseDependencies,fe)}return ti(F.firebaseDependencies,fe)}),Hn.apply(this,arguments)}function nr(){return nr=(0,ee.Z)(function*(F){const z=yield st(F.firebaseDependencies);z&&(yield An(F.firebaseDependencies,z.token),yield function Tn(F){return jt.apply(this,arguments)}(F.firebaseDependencies));const fe=yield F.swRegistration.pushManager.getSubscription();return!fe||fe.unsubscribe()}),nr.apply(this,arguments)}function Mr(){return Mr=(0,ee.Z)(function*(F,z){try{const fe=yield function Fn(F,z){return Qn.apply(this,arguments)}(F.firebaseDependencies,z),He=Object.assign(Object.assign({},z),{token:fe,createTime:Date.now()});return yield Vt(F.firebaseDependencies,He),fe}catch(fe){throw yield function fr(F){return nr.apply(this,arguments)}(F),fe}}),Mr.apply(this,arguments)}function ti(F,z){return G.apply(this,arguments)}function G(){return(G=(0,ee.Z)(function*(F,z){const He={token:yield kn(F,z),createTime:Date.now(),subscriptionOptions:z};return yield Vt(F,He),He.token})).apply(this,arguments)}function R(){return(R=(0,ee.Z)(function*(F,z){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kt(z)})})).apply(this,arguments)}function x(F){const z={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function Z(F,z){if(!z.notification)return;F.notification={};const fe=z.notification.title;fe&&(F.notification.title=fe);const He=z.notification.body;He&&(F.notification.body=He);const yt=z.notification.image;yt&&(F.notification.image=yt);const Dt=z.notification.icon;Dt&&(F.notification.icon=Dt)}(z,F),function Ie(F,z){z.data&&(F.data=z.data)}(z,F),function Y(F,z){var fe,He,yt,Dt,en;if(!(z.fcmOptions||null!==(fe=z.notification)&&void 0!==fe&&fe.click_action))return;F.fcmOptions={};const cr=null!==(yt=null===(He=z.fcmOptions)||void 0===He?void 0:He.link)&&void 0!==yt?yt:null===(Dt=z.notification)||void 0===Dt?void 0:Dt.click_action;cr&&(F.fcmOptions.link=cr);const Dr=null===(en=z.fcmOptions)||void 0===en?void 0:en.analytics_label;Dr&&(F.fcmOptions.analyticsLabel=Dr)}(z,F),z}function he(F,z){const fe=[];for(let He=0;He<F.length;He++)fe.push(F.charAt(He)),He<z.length&&fe.push(z.charAt(He));return fe.join("")}function xe(F){return ut.create("missing-app-config-values",{valueName:F})}he("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),he("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ht{constructor(z,fe,He){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const yt=function Le(F){if(!F||!F.options)throw xe("App Configuration Object");if(!F.name)throw xe("App Name");const z=["projectId","apiKey","appId","messagingSenderId"],{options:fe}=F;for(const He of z)if(!fe[He])throw xe(He);return{appName:F.name,projectId:fe.projectId,apiKey:fe.apiKey,appId:fe.appId,senderId:fe.messagingSenderId}}(z);this.firebaseDependencies={app:z,appConfig:yt,installations:fe,analyticsProvider:He}}_delete(){return Promise.resolve()}}function rt(F){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,ee.Z)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(ye,{scope:Ae}),F.swRegistration.update().catch(()=>{})}catch(z){throw ut.create("failed-service-worker-registration",{browserErrorMessage:z?.message})}})).apply(this,arguments)}function le(){return(le=(0,ee.Z)(function*(F,z){if(!z&&!F.swRegistration&&(yield rt(F)),z||!F.swRegistration){if(!(z instanceof ServiceWorkerRegistration))throw ut.create("invalid-sw-registration");F.swRegistration=z}})).apply(this,arguments)}function Ve(){return(Ve=(0,ee.Z)(function*(F,z){z?F.vapidKey=z:F.vapidKey||(F.vapidKey=Fe)})).apply(this,arguments)}function Rt(){return Rt=(0,ee.Z)(function*(F,z){if(!navigator)throw ut.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ut.create("permission-blocked");return yield function ne(F,z){return Ve.apply(this,arguments)}(F,z?.vapidKey),yield function on(F,z){return le.apply(this,arguments)}(F,z?.serviceWorkerRegistration),function sr(F){return Hn.apply(this,arguments)}(F)}),Rt.apply(this,arguments)}function xt(){return(xt=(0,ee.Z)(function*(F,z,fe){const He=function Ln(F){switch(F){case Ut.NOTIFICATION_CLICKED:return"notification_open";case Ut.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(z);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(He,{message_id:fe[Ye],message_name:fe[Et],message_time:fe[ze],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Rr(){return Rr=(0,ee.Z)(function*(F,z){const fe=z.data;if(!fe.isFirebaseMessaging)return;F.onMessageHandler&&fe.messageType===Ut.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(x(fe)):F.onMessageHandler.next(x(fe)));const He=fe.data;(function ue(F){return"object"==typeof F&&!!F&&Ye in F})(He)&&"1"===He[zt]&&(yield function yn(F,z,fe){return xt.apply(this,arguments)}(F,fe.messageType,He))}),Rr.apply(this,arguments)}const pr="@firebase/messaging",ya=F=>{const z=new ht(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",fe=>function bn(F,z){return Rr.apply(this,arguments)}(z,fe)),z},oo=F=>{const z=F.getProvider("messaging").getImmediate();return{getToken:He=>function Ct(F,z){return Rt.apply(this,arguments)}(z,He)}};function pt(){return an.apply(this,arguments)}function an(){return(an=(0,ee.Z)(function*(){try{yield(0,_t.eu)()}catch{return!1}return typeof window<"u"&&(0,_t.hl)()&&(0,_t.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vr(){(0,me._registerComponent)(new ie.wA("messaging",ya,"PUBLIC")),(0,me._registerComponent)(new ie.wA("messaging-internal",oo,"PRIVATE")),(0,me.registerVersion)(pr,"0.12.4"),(0,me.registerVersion)(pr,"0.12.4","esm2017")}();var dn=O(3008),Fo=O(4408),te=O(7565);const it=new class be extends te.v{}(class H extends Fo.o{constructor(z,fe){super(z,fe),this.scheduler=z,this.work=fe}schedule(z,fe=0){return fe>0?super.schedule(z,fe):(this.delay=fe,this.state=z,this.scheduler.flush(this),this)}execute(z,fe){return fe>0||this.closed?super.execute(z,fe):this._execute(z,fe)}requestAsyncId(z,fe,He=0){return null!=He&&He>0||null==He&&this.delay>0?super.requestAsyncId(z,fe,He):(z.flush(this),0)}});var cn=O(4986),mn=O(9751),ir=O(8505),br=O(9468),hn=O(5363);const Yr=new h.GfV("7.5.0"),va="__angularfire_symbol__analyticsIsSupportedValue",Lo="__angularfire_symbol__analyticsIsSupported",Vs="__angularfire_symbol__remoteConfigIsSupportedValue",Bs="__angularfire_symbol__remoteConfigIsSupported",Vi="__angularfire_symbol__messagingIsSupportedValue",Ur="__angularfire_symbol__messagingIsSupported";globalThis[Lo]||(globalThis[Lo]=(0,dn.Gb)().then(F=>globalThis[va]=F).catch(()=>globalThis[va]=!1)),globalThis[Ur]||(globalThis[Ur]=pt().then(F=>globalThis[Vi]=F).catch(()=>globalThis[Vi]=!1)),globalThis[Bs]||(globalThis[Bs]=(0,L.Gb)().then(F=>globalThis[Vs]=F).catch(()=>globalThis[Vs]=!1));const hu=F=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${F} in the constructor, first ensure that ${F} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${F})\`.`,Ki={async:()=>globalThis[Bs],sync:()=>{const F=globalThis[Vs];if(void 0===F)throw new Error(hu("RemoteConfig"));return F}},ba={async:()=>globalThis[Lo],sync:()=>{const F=globalThis[va];if(void 0===F)throw new Error(hu("Analytics"));return F}};function Ea(F,z,fe){if(z){if(1===z.length)return z[0];const Dt=z.filter(en=>en.app===fe);if(1===Dt.length)return Dt[0]}return fe.container.getProvider(F).getImmediate({optional:!0})}const Vo=(F,z)=>{const fe=z?[z]:(0,j.C6)(),He=[];return fe.forEach(yt=>{yt.container.getProvider(F).instances.forEach(en=>{He.includes(en)||He.push(en)})}),He};function Pr(){}class us{constructor(z,fe=it){this.zone=z,this.delegate=fe}now(){return this.delegate.now()}schedule(z,fe,He){const yt=this.zone;return this.delegate.schedule(function(en){yt.runGuarded(()=>{z.apply(this,[en])})},fe,He)}}class fu{constructor(z){this.zone=z,this.task=null}call(z,fe){const He=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pr,{},Pr,Pr)),fe.pipe((0,ir.b)({next:He,complete:He,error:He})).subscribe(z).add(He)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sh=(()=>{class F{constructor(fe){this.ngZone=fe,this.outsideAngular=fe.runOutsideAngular(()=>new us(Zone.current)),this.insideAngular=fe.run(()=>new us(Zone.current,cn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(fe){return new(fe||F)(h.LFG(h.R0b))},F.\u0275prov=h.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function ui(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function Us(F){return ui().ngZone.run(()=>F())}function Ah(F){return ui(),function pu(F){return function(fe){return(fe=fe.lift(new fu(F.ngZone))).pipe((0,br.R)(F.outsideAngular),(0,hn.Q)(F.insideAngular))}}(ui())(F)}const mu=(F,z)=>function(){const He=arguments;return z&&setTimeout(()=>{"scheduled"===z.state&&z.invoke()},10),Us(()=>F.apply(void 0,He))},gu=(F,z)=>function(){let fe;const He=arguments;for(let Dt=0;Dt<arguments.length;Dt++)"function"==typeof He[Dt]&&(z&&(fe||(fe=Us(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pr,{},Pr,Pr)))),He[Dt]=mu(He[Dt],fe));const yt=function Sm(F){return ui().ngZone.runOutsideAngular(()=>F())}(()=>F.apply(this,He));if(!z){if(yt instanceof mn.y){const Dt=ui();return yt.pipe((0,br.R)(Dt.outsideAngular),(0,hn.Q)(Dt.insideAngular))}return Us(()=>yt)}return yt instanceof mn.y?yt.pipe(Ah):yt instanceof Promise?Us(()=>new Promise((Dt,en)=>yt.then(cr=>Us(()=>Dt(cr)),cr=>Us(()=>en(cr))))):"function"==typeof yt&&fe?function(){return setTimeout(()=>{fe&&"scheduled"===fe.state&&fe.invoke()},10),yt.apply(this,arguments)}:Us(()=>yt)}},8502:(Mt,Pe,O)=>{O.d(Pe,{$:()=>ln,A:()=>W,D:()=>ke,I:()=>Kn,J:()=>H,L:()=>ui,N:()=>Mr,P:()=>hs,Q:()=>en,R:()=>ku,U:()=>ao,V:()=>Gn,W:()=>Am,X:()=>Ci,Y:()=>_u,Z:()=>Uy,_:()=>Mm,a:()=>ki,a0:()=>cw,a1:()=>Pm,a2:()=>Hy,a3:()=>$y,a4:()=>js,a5:()=>Nm,a6:()=>Lm,a7:()=>Ri,a8:()=>rl,a9:()=>Bo,aA:()=>ae,aB:()=>ig,aC:()=>nr,aD:()=>ti,aE:()=>Oi,aF:()=>ml,aG:()=>pl,aH:()=>On,aL:()=>jo,aO:()=>wa,aa:()=>Vm,ab:()=>uw,ac:()=>dw,ad:()=>Bm,ae:()=>zy,af:()=>Gy,ai:()=>jm,aj:()=>hw,ak:()=>Pi,an:()=>jy,ao:()=>Uh,aq:()=>Hh,ar:()=>uc,as:()=>Ft,at:()=>he,au:()=>Ie,av:()=>Se,aw:()=>wl,ax:()=>Zr,ay:()=>Le,az:()=>De,b:()=>Au,c:()=>ef,d:()=>ka,e:()=>yc,f:()=>Hs,g:()=>ps,h:()=>$s,i:()=>Yh,j:()=>ov,k:()=>Go,l:()=>Xh,m:()=>ff,o:()=>Hu,p:()=>_e,r:()=>bw,s:()=>dl,u:()=>ds,x:()=>il});var h=O(5861),j=O(2090),L=O(6881),ee=O(655),we=O(1877),ie=O(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},$e=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new we.Yd("@firebase/auth");function qe(b,...m){Ne.logLevel<=we.in.ERROR&&Ne.error(`Auth (${L.SDK_VERSION}): ${b}`,...m)}function Se(b,...m){throw je(b,...m)}function De(b,...m){return je(b,...m)}function Re(b,m,y){const w=Object.assign(Object.assign({},$e()),{[m]:y});return new j.LL("auth","Firebase",w).create(m,{appName:b.name})}function Ze(b,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Se(b,"argument-error"),Re(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(b,...m){if("string"!=typeof b){const y=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(y,...w)}return ft.create(b,...m)}function ae(b,m,...y){if(!b)throw je(m,...y)}function lt(b){const m="INTERNAL ASSERTION FAILED: "+b;throw qe(m),new Error(m)}function Ft(b,m){b||lt(m)}function at(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function rn(){return"http:"===_t()||"https:"===_t()}function _t(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ae{constructor(m,y){this.shortDelay=m,this.longDelay=y,Ft(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rn()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fe(b,m){Ft(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class Je{static initialize(m,y,w){this.fetchImpl=m,y&&(this.headersImpl=y),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Et=new Ae(3e4,6e4);function ze(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function zt(b,m,y,w){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(b,m,y,w,D={}){return Ut(b,D,(0,h.Z)(function*(){let P={},J={};w&&("GET"===m?J=w:P={body:JSON.stringify(w)});const pe=(0,j.xO)(Object.assign({key:b.config.apiKey},J)).slice(1),Qe=yield b._getAdditionalHeaders();return Qe["Content-Type"]="application/json",b.languageCode&&(Qe["X-Firebase-Locale"]=b.languageCode),Je.fetch()(Un(b,b.config.apiHost,y,pe),Object.assign({method:m,headers:Qe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Ut(b,m,y){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(b,m,y){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ye),m);try{const D=new dr(b),P=yield Promise.race([y(),D.promise]);D.clearNetworkTimeout();const J=yield P.json();if("needConfirmation"in J)throw zn(b,"account-exists-with-different-credential",J);if(P.ok&&!("errorMessage"in J))return J;{const pe=P.ok?J.errorMessage:J.error.message,[Qe,dt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw zn(b,"credential-already-in-use",J);if("EMAIL_EXISTS"===Qe)throw zn(b,"email-already-in-use",J);if("USER_DISABLED"===Qe)throw zn(b,"user-disabled",J);const Bt=w[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw Re(b,Bt,dt);Se(b,Bt)}}catch(D){if(D instanceof j.ZR)throw D;Se(b,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function Kt(b,m,y,w){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(b,m,y,w,D={}){const P=yield zt(b,m,y,w,D);return"mfaPendingCredential"in P&&Se(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Un(b,m,y,w){const D=`${m}${y}?${w}`;return b.config.emulator?Fe(b.config,D):`${b.config.apiScheme}://${D}`}class dr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,w)=>{this.timer=setTimeout(()=>w(De(this.auth,"network-request-failed")),Et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(b,m,y){const w={appName:b.name};y.email&&(w.email=y.email),y.phoneNumber&&(w.phoneNumber=y.phoneNumber);const D=De(b,m,w);return D.customData._tokenResponse=y,D}function hr(){return(hr=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function oe(){return(oe=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function ce(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Vt(){return(Vt=(0,h.Z)(function*(b,m=!1){const y=(0,j.m9)(b),w=yield y.getIdToken(m),D=Tn(w);ae(D&&D.exp&&D.auth_time&&D.iat,y.auth,"internal-error");const P="object"==typeof D.firebase?D.firebase:void 0,J=P?.sign_in_provider;return{claims:D,token:w,authTime:ce(Zt(D.auth_time)),issuedAtTime:ce(Zt(D.iat)),expirationTime:ce(Zt(D.exp)),signInProvider:J||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Zt(b){return 1e3*Number(b)}function Tn(b){const[m,y,w]=b.split(".");if(void 0===m||void 0===y||void 0===w)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,j.tV)(y);return D?JSON.parse(D):(qe("Failed to decode base64 JWT payload"),null)}catch(D){return qe("Caught error parsing JWT payload as JSON",D?.toString()),null}}function At(b,m){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(b,m,y=!1){if(y)return m;try{return yield m}catch(w){throw w instanceof j.ZR&&function ut({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class kn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const D=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,h.Z)(function*(){yield y.iteration()}),w)}iteration(){var m=this;return(0,h.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class _n{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=ce(this.lastLoginAt),this.creationTime=ce(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(b){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,h.Z)(function*(b){var m;const y=b.auth,w=yield b.getIdToken(),D=yield At(b,function ot(b,m){return oe.apply(this,arguments)}(y,{idToken:w}));ae(D?.users.length,y,"internal-error");const P=D.users[0];b._notifyReloadListener(P);const J=null!==(m=P.providerUserInfo)&&void 0!==m&&m.length?function lr(b){return b.map(m=>{var{providerId:y}=m,w=(0,ee._T)(m,["providerId"]);return{providerId:y,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(P.providerUserInfo):[],pe=function Nt(b,m){return[...b.filter(w=>!m.some(D=>D.providerId===w.providerId)),...m]}(b.providerData,J),Bt=!!b.isAnonymous&&!(b.email&&P.passwordHash||pe?.length),gn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:pe,metadata:new _n(P.createdAt,P.lastLoginAt),isAnonymous:Bt};Object.assign(b,gn)}),Qn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(b){const m=(0,j.m9)(b);yield Fn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(b,m){const y=yield Ut(b,{},(0,h.Z)(function*(){const w=(0,j.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:D,apiKey:P}=b.config,J=Un(b,D,"/v1/token",`key=${P}`),pe=yield b._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(J,{method:"POST",headers:pe,body:w})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ae(m.idToken,"internal-error"),ae(typeof m.idToken<"u","internal-error"),ae(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function jt(b){const m=Tn(b);return ae(m,"internal-error"),ae(typeof m.exp<"u","internal-error"),ae(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var w=this;return(0,h.Z)(function*(){return ae(!w.accessToken||w.refreshToken,m,"user-token-expired"),y||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var w=this;return(0,h.Z)(function*(){const{accessToken:D,refreshToken:P,expiresIn:J}=yield function Qt(b,m){return ci.apply(this,arguments)}(m,y);w.updateTokensAndExpiration(D,P,Number(J))})()}updateTokensAndExpiration(m,y,w){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,y){const{refreshToken:w,accessToken:D,expirationTime:P}=y,J=new Jt;return w&&(ae("string"==typeof w,"internal-error",{appName:m}),J.refreshToken=w),D&&(ae("string"==typeof D,"internal-error",{appName:m}),J.accessToken=D),P&&(ae("number"==typeof P,"internal-error",{appName:m}),J.expirationTime=P),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Jt,this.toJSON())}_performRefresh(){return lt("not implemented")}}function sr(b,m){ae("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class Hn{constructor(m){var{uid:y,auth:w,stsTokenManager:D}=m,P=(0,ee._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=w,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new _n(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,h.Z)(function*(){const w=yield At(y,y.stsTokenManager.getToken(y.auth,m));return ae(w,y.auth,"internal-error"),y.accessToken!==w&&(y.accessToken=w,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),w})()}getIdTokenResult(m){return function Lt(b){return Vt.apply(this,arguments)}(this,m)}reload(){return function An(b){return Sn.apply(this,arguments)}(this)}_assign(m){this!==m&&(ae(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new Hn(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var w=this;return(0,h.Z)(function*(){let D=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),D=!0),y&&(yield Fn(w)),yield w.auth._persistUserIfCurrent(w),D&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,h.Z)(function*(){const y=yield m.getIdToken();return yield At(m,function Tr(b,m){return hr.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var w,D,P,J,pe,Qe,dt,Bt;const gn=null!==(w=y.displayName)&&void 0!==w?w:void 0,Ti=null!==(D=y.email)&&void 0!==D?D:void 0,fo=null!==(P=y.phoneNumber)&&void 0!==P?P:void 0,qo=null!==(J=y.photoURL)&&void 0!==J?J:void 0,wc=null!==(pe=y.tenantId)&&void 0!==pe?pe:void 0,Ds=null!==(Qe=y._redirectEventId)&&void 0!==Qe?Qe:void 0,_f=null!==(dt=y.createdAt)&&void 0!==dt?dt:void 0,$u=null!==(Bt=y.lastLoginAt)&&void 0!==Bt?Bt:void 0,{uid:Cc,emailVerified:Ko,isAnonymous:zu,providerData:Gu,stsTokenManager:Sl}=y;ae(Cc&&Sl,m,"internal-error");const Wu=Jt.fromJSON(this.name,Sl);ae("string"==typeof Cc,m,"internal-error"),sr(gn,m.name),sr(Ti,m.name),ae("boolean"==typeof Ko,m,"internal-error"),ae("boolean"==typeof zu,m,"internal-error"),sr(fo,m.name),sr(qo,m.name),sr(wc,m.name),sr(Ds,m.name),sr(_f,m.name),sr($u,m.name);const Dl=new Hn({uid:Cc,auth:m,email:Ti,emailVerified:Ko,displayName:gn,isAnonymous:zu,photoURL:qo,phoneNumber:fo,tenantId:wc,stsTokenManager:Wu,createdAt:_f,lastLoginAt:$u});return Gu&&Array.isArray(Gu)&&(Dl.providerData=Gu.map(Yo=>Object.assign({},Yo))),Ds&&(Dl._redirectEventId=Ds),Dl}static _fromIdTokenResponse(m,y,w=!1){return(0,h.Z)(function*(){const D=new Jt;D.updateFromServerResponse(y);const P=new Hn({uid:y.localId,auth:m,stsTokenManager:D,isAnonymous:w});return yield Fn(P),P})()}}const fr=new Map;function nr(b){Ft(b instanceof Function,"Expected a class definition");let m=fr.get(b);return m?(Ft(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,fr.set(b,m),m)}const Mr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(y,w){var D=this;return(0,h.Z)(function*(){D.storage[y]=w})()}_get(y){var w=this;return(0,h.Z)(function*(){const D=w.storage[y];return void 0===D?null:D})()}_remove(y){var w=this;return(0,h.Z)(function*(){delete w.storage[y]})()}_addListener(y,w){}_removeListener(y,w){}}return b.type="NONE",b})();function ti(b,m,y){return`firebase:${b}:${m}:${y}`}class G{constructor(m,y,w){this.persistence=m,this.auth=y,this.userKey=w;const{config:D,name:P}=this.auth;this.fullUserKey=ti(this.userKey,D.apiKey,P),this.fullPersistenceKey=ti("persistence",D.apiKey,P),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,h.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?Hn._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,h.Z)(function*(){if(y.persistence===m)return;const w=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,w?y.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,w="authUser"){return(0,h.Z)(function*(){if(!y.length)return new G(nr(Mr),m,w);const D=(yield Promise.all(y.map(function(){var dt=(0,h.Z)(function*(Bt){if(yield Bt._isAvailable())return Bt});return function(Bt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let P=D[0]||nr(Mr);const J=ti(w,m.config.apiKey,m.name);let pe=null;for(const dt of y)try{const Bt=yield dt._get(J);if(Bt){const gn=Hn._fromJSON(m,Bt);dt!==P&&(pe=gn),P=dt;break}}catch{}const Qe=D.filter(dt=>dt._shouldAllowMigration);return P._shouldAllowMigration&&Qe.length?(P=Qe[0],pe&&(yield P._set(J,pe.toJSON())),yield Promise.all(y.map(function(){var dt=(0,h.Z)(function*(Bt){if(Bt!==P)try{yield Bt._remove(J)}catch{}});return function(Bt){return dt.apply(this,arguments)}}())),new G(P,m,w)):new G(P,m,w)})()}}function $(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Z(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(R(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Y(m))return"Blackberry";if(ue(m))return"Webos";if(N(m))return"Safari";if((m.includes("chrome/")||x(m))&&!m.includes("edge/"))return"Chrome";if(Ie(m))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function R(b=(0,j.z$)()){return/firefox\//i.test(b)}function N(b=(0,j.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function x(b=(0,j.z$)()){return/crios\//i.test(b)}function Z(b=(0,j.z$)()){return/iemobile/i.test(b)}function Ie(b=(0,j.z$)()){return/android/i.test(b)}function Y(b=(0,j.z$)()){return/blackberry/i.test(b)}function ue(b=(0,j.z$)()){return/webos/i.test(b)}function he(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Le(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function rt(b=(0,j.z$)()){return he(b)||Ie(b)||ue(b)||Y(b)||/windows phone/i.test(b)||Z(b)}function on(b,m=[]){let y;switch(b){case"Browser":y=$((0,j.z$)());break;case"Worker":y=`${$((0,j.z$)())}-${b}`;break;default:y=b}const w=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${L.SDK_VERSION}/${w}`}function ne(){return(ne=(0,h.Z)(function*(b){return(yield zt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ve(b,m){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,h.Z)(function*(b,m){return zt(b,"GET","/v2/recaptchaConfig",ze(b,m))})).apply(this,arguments)}function Rt(b){return void 0!==b&&void 0!==b.getResponse}function yn(b){return void 0!==b&&void 0!==b.enterprise}class xt{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function bn(b){return new Promise((m,y)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=m,w.onerror=D=>{const P=De("internal-error");P.customData=D,y(P)},w.type="text/javascript",w.charset="UTF-8",function Ln(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(w)})}function Rr(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ya="NO_RECAPTCHA";class oo{constructor(m){this.type="recaptcha-enterprise",this.auth=On(m)}verify(m="verify",y=!1){var w=this;return(0,h.Z)(function*(){function P(){return P=(0,h.Z)(function*(pe){if(!y){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var Qe=(0,h.Z)(function*(dt,Bt){Ve(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(gn=>{if(void 0!==gn.recaptchaKey){const Ti=new xt(gn);return null==pe.tenantId?pe._agentRecaptchaConfig=Ti:pe._tenantRecaptchaConfigs[pe.tenantId]=Ti,dt(Ti.siteKey)}Bt(new Error("recaptcha Enterprise site key undefined"))}).catch(gn=>{Bt(gn)})});return function(dt,Bt){return Qe.apply(this,arguments)}}())}),P.apply(this,arguments)}function J(pe,Qe,dt){const Bt=window.grecaptcha;yn(Bt)?Bt.enterprise.ready(()=>{Bt.enterprise.execute(pe,{action:m}).then(gn=>{Qe(gn)}).catch(()=>{Qe(ya)})}):dt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,Qe)=>{(function D(pe){return P.apply(this,arguments)})(w.auth).then(dt=>{if(!y&&yn(window.grecaptcha))J(dt,pe,Qe);else{if(typeof window>"u")return void Qe(new Error("RecaptchaVerifier is only supported in browser"));bn("https://www.google.com/recaptcha/enterprise.js?render="+dt).then(()=>{J(dt,pe,Qe)}).catch(Bt=>{Qe(Bt)})}}).catch(dt=>{Qe(dt)})})})()}}function vr(b,m,y){return pt.apply(this,arguments)}function pt(){return(pt=(0,h.Z)(function*(b,m,y,w=!1){const D=new oo(b);let P;try{P=yield D.verify(y)}catch{P=yield D.verify(y,!0)}const J=Object.assign({},m);return Object.assign(J,w?{captchaResp:P}:{captchaResponse:P}),Object.assign(J,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(J,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),J})).apply(this,arguments)}class an{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const w=P=>new Promise((J,pe)=>{try{J(m(P))}catch(Qe){pe(Qe)}});w.onAbort=y,this.queue.push(w);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,h.Z)(function*(){if(y.auth.currentUser===m)return;const w=[];try{for(const D of y.queue)yield D(m),D.onAbort&&w.push(D.onAbort)}catch(D){w.reverse();for(const P of w)try{P()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class rr{constructor(m,y,w,D){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=w,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.beforeStateQueue=new an(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(m,y){var w=this;return y&&(this._popupRedirectResolver=nr(y)),this._initializationPromise=this.queue((0,h.Z)(function*(){var D,P;if(!w._deleted&&(w.persistenceManager=yield G.create(w,m),!w._deleted)){if(null!==(D=w._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(y),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,h.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,h.Z)(function*(){var w;const D=yield y.assertedPersistence.getCurrentUser();let P=D,J=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const pe=null===(w=y.redirectUser)||void 0===w?void 0:w._redirectEventId,Qe=P?._redirectEventId,dt=yield y.tryRedirectSignIn(m);(!pe||pe===Qe)&&dt?.user&&(P=dt.user,J=!0)}if(!P)return y.directlySetCurrentUser(null);if(!P._redirectEventId){if(J)try{yield y.beforeStateQueue.runMiddleware(P)}catch(pe){P=D,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(pe))}return P?y.reloadAndSetCurrentUserOrClear(P):y.directlySetCurrentUser(null)}return ae(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===P._redirectEventId?y.directlySetCurrentUser(P):y.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(m){var y=this;return(0,h.Z)(function*(){let w=null;try{w=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,h.Z)(function*(){try{yield Fn(m)}catch(w){if("auth/network-request-failed"!==w?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ye(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,h.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,h.Z)(function*(){const w=m?(0,j.m9)(m):null;return w&&ae(w.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(w&&w._clone(y))})()}_updateCurrentUser(m,y=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return m&&ae(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),y||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,h.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,h.Z)(function*(){yield y.assertedPersistence.setPersistence(nr(m))}))}initializeRecaptchaConfig(){var m=this;return(0,h.Z)(function*(){const y=yield Ve(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new xt(y);null==m.tenantId?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,w.emailPasswordEnabled&&new oo(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new j.LL("auth","Firebase",m())}onAuthStateChanged(m,y,w){return this.registerStateListener(this.authStateSubscription,m,y,w)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,w){return this.registerStateListener(this.idTokenSubscription,m,y,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var w=this;return(0,h.Z)(function*(){const D=yield w.getOrInitRedirectPersistenceManager(y);return null===m?D.removeCurrentUser():D.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,h.Z)(function*(){if(!y.redirectPersistenceManager){const w=m&&nr(m)||y._popupRedirectResolver;ae(w,y,"argument-error"),y.redirectPersistenceManager=yield G.create(y,[nr(w._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,h.Z)(function*(){var w,D;return y._isInitialized&&(yield y.queue((0,h.Z)(function*(){}))),(null===(w=y._currentUser)||void 0===w?void 0:w._redirectEventId)===m?y._currentUser:(null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,h.Z)(function*(){if(m===y.currentUser)return y.queue((0,h.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,w,D){if(this._deleted)return()=>{};const P="function"==typeof y?y:y.next.bind(y),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(J,this,"internal-error"),J.then(()=>P(this.currentUser)),"function"==typeof y?m.addObserver(y,w,D):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,h.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=on(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,h.Z)(function*(){var y;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const D=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();D&&(w["X-Firebase-Client"]=D);const P=yield m._getAppCheckToken();return P&&(w["X-Firebase-AppCheck"]=P),w})()}_getAppCheckToken(){var m=this;return(0,h.Z)(function*(){var y;const w=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return w?.error&&function Be(b,...m){Ne.logLevel<=we.in.WARN&&Ne.warn(`Auth (${L.SDK_VERSION}): ${b}`,...m)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function On(b){return(0,j.m9)(b)}class ls{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,j.ne)(y=>this.observer=y)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kn(b,m,y){const w=On(b);ae(w._canInitEmulator,w,"emulator-config-failed"),ae(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const D=!!y?.disableWarnings,P=No(m),{host:J,port:pe}=function Ls(b){const m=No(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!y)return{host:"",port:null};const w=y[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(w);if(D){const P=D[1];return{host:P,port:dn(w.substr(P.length+1))}}{const[P,J]=w.split(":");return{host:P,port:dn(J)}}}(m);w.config.emulator={url:`${P}//${J}${null===pe?"":`:${pe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:pe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Fo(){function b(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function No(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function dn(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class H{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return lt("not implemented")}_getIdTokenResponse(m){return lt("not implemented")}_linkToIdToken(m,y){return lt("not implemented")}_getReauthenticationResolver(m){return lt("not implemented")}}function te(b,m){return be.apply(this,arguments)}function be(){return(be=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:resetPassword",ze(b,m))})).apply(this,arguments)}function it(b,m){return En.apply(this,arguments)}function En(){return(En=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:update",ze(b,m))})).apply(this,arguments)}function ir(b,m){return br.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(b,m){return Kt(b,"POST","/v1/accounts:signInWithPassword",ze(b,m))})).apply(this,arguments)}function hn(b,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:sendOobCode",ze(b,m))})).apply(this,arguments)}function Lo(){return(Lo=(0,h.Z)(function*(b,m){return hn(b,m)})).apply(this,arguments)}function Vs(b,m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(b,m){return hn(b,m)})).apply(this,arguments)}function Vi(b,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,h.Z)(function*(b,m){return hn(b,m)})).apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(b,m){return hn(b,m)})).apply(this,arguments)}function ba(){return(ba=(0,h.Z)(function*(b,m){return Kt(b,"POST","/v1/accounts:signInWithEmailLink",ze(b,m))})).apply(this,arguments)}function Vo(){return(Vo=(0,h.Z)(function*(b,m){return Kt(b,"POST","/v1/accounts:signInWithEmailLink",ze(b,m))})).apply(this,arguments)}class Pr extends H{constructor(m,y,w,D=null){super("password",w),this._email=m,this._password=y,this._tenantId=D}static _fromEmailAndPassword(m,y){return new Pr(m,y,"password")}static _fromEmailAndCode(m,y,w=null){return new Pr(m,y,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,h.Z)(function*(){var w;switch(y.signInMethod){case"password":const D={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const P=yield vr(m,D,"signInWithPassword");return ir(m,P)}return ir(m,D).catch(function(){var P=(0,h.Z)(function*(J){if("auth/missing-recaptcha-token"===J.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pe=yield vr(m,D,"signInWithPassword");return ir(m,pe)}return Promise.reject(J)});return function(J){return P.apply(this,arguments)}}());case"emailLink":return function Ki(b,m){return ba.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Se(m,"internal-error")}})()}_linkToIdToken(m,y){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return it(m,{idToken:y,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ea(b,m){return Vo.apply(this,arguments)}(m,{idToken:y,email:w._email,oobCode:w._password});default:Se(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function us(b,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,h.Z)(function*(b,m){return Kt(b,"POST","/v1/accounts:signInWithIdp",ze(b,m))})).apply(this,arguments)}class ui extends H{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new ui(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Se("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:D}=y,P=(0,ee._T)(y,["providerId","signInMethod"]);if(!w||!D)return null;const J=new ui(w,D);return J.idToken=P.idToken||void 0,J.accessToken=P.accessToken||void 0,J.secret=P.secret,J.nonce=P.nonce,J.pendingToken=P.pendingToken||null,J}_getIdTokenResponse(m){return us(m,this.buildRequest())}_linkToIdToken(m,y){const w=this.buildRequest();return w.idToken=y,us(m,w)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,us(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,j.xO)(y)}return m}}function Us(){return(Us=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:sendVerificationCode",ze(b,m))})).apply(this,arguments)}function Dh(){return(Dh=(0,h.Z)(function*(b,m){return Kt(b,"POST","/v1/accounts:signInWithPhoneNumber",ze(b,m))})).apply(this,arguments)}function pu(){return(pu=(0,h.Z)(function*(b,m){const y=yield Kt(b,"POST","/v1/accounts:signInWithPhoneNumber",ze(b,m));if(y.temporaryProof)throw zn(b,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const mu={USER_NOT_FOUND:"user-not-found"};function F(){return(F=(0,h.Z)(function*(b,m){return Kt(b,"POST","/v1/accounts:signInWithPhoneNumber",ze(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),mu)})).apply(this,arguments)}class z extends H{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new z({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new z({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function Dm(b,m){return Dh.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Ah(b,m){return pu.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function gu(b,m){return F.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:w,verificationCode:D}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:w,code:D}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:w,phoneNumber:D,temporaryProof:P}=m;return w||y||D||P?new z({verificationId:y,verificationCode:w,phoneNumber:D,temporaryProof:P}):null}}class yt{constructor(m){var y,w,D,P,J,pe;const Qe=(0,j.zd)((0,j.pd)(m)),dt=null!==(y=Qe.apiKey)&&void 0!==y?y:null,Bt=null!==(w=Qe.oobCode)&&void 0!==w?w:null,gn=function fe(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Qe.mode)&&void 0!==D?D:null);ae(dt&&Bt&&gn,"argument-error"),this.apiKey=dt,this.operation=gn,this.code=Bt,this.continueUrl=null!==(P=Qe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(J=Qe.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(pe=Qe.tenantId)&&void 0!==pe?pe:null}static parseLink(m){const y=function He(b){const m=(0,j.zd)((0,j.pd)(b)).link,y=m?(0,j.zd)((0,j.pd)(m)).deep_link_id:null,w=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(w?(0,j.zd)((0,j.pd)(w)).link:null)||w||y||m||b}(m);try{return new yt(y)}catch{return null}}}let en=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,w){return Pr._fromEmailAndPassword(y,w)}static credentialWithLink(y,w){const D=yt.parseLink(w);return ae(D,"argument-error"),Pr._fromEmailAndCode(y,D.code,D.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class cr{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Dr extends cr{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ci extends Dr{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return ae("providerId"in y&&"signInMethod"in y,"argument-error"),ui._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ae(m.idToken||m.accessToken,"argument-error"),ui._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ci.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ci.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:P,nonce:J,providerId:pe}=m;if(!w&&!D&&!y&&!P||!pe)return null;try{return new Ci(pe)._credential({idToken:y,accessToken:w,nonce:J,pendingToken:P})}catch{return null}}}let ao=(()=>{class b extends Dr{constructor(){super("facebook.com")}static credential(y){return ui._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Gn=(()=>{class b extends Dr{constructor(){super("google.com"),this.addScope("profile")}static credential(y,w){return ui._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:w})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:w,oauthAccessToken:D}=y;if(!w&&!D)return null;try{return b.credential(w,D)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Am=(()=>{class b extends Dr{constructor(){super("github.com")}static credential(y){return ui._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class wa extends H{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return us(m,this.buildRequest())}_linkToIdToken(m,y){const w=this.buildRequest();return w.idToken=y,us(m,w)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,us(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:D,pendingToken:P}=y;return w&&D&&P&&w===D?new wa(w,P):null}static _create(m,y){return new wa(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _u extends cr{constructor(m){ae(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return _u.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return _u.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=wa.fromJSON(m);return ae(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:w}=m;if(!y||!w)return null;try{return wa._create(w,y)}catch{return null}}}let Uy=(()=>{class b extends Dr{constructor(){super("twitter.com")}static credential(y,w){return ui._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:w})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:w,oauthTokenSecret:D}=y;if(!w||!D)return null;try{return b.credential(w,D)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function tc(b,m){return nc.apply(this,arguments)}function nc(){return(nc=(0,h.Z)(function*(b,m){return Kt(b,"POST","/v1/accounts:signUp",ze(b,m))})).apply(this,arguments)}class kr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,w,D=!1){return(0,h.Z)(function*(){const P=yield Hn._fromIdTokenResponse(m,w,D),J=xh(w);return new kr({user:P,providerId:J,_tokenResponse:w,operationType:y})})()}static _forOperation(m,y,w){return(0,h.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const D=xh(w);return new kr({user:m,providerId:D,_tokenResponse:w,operationType:y})})()}}function xh(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Mm(b){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(b){var m;const y=On(b);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new kr({user:y.currentUser,providerId:null,operationType:"signIn"});const w=yield tc(y,{returnSecureToken:!0}),D=yield kr._fromIdTokenResponse(y,"signIn",w,!0);return yield y._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ca extends j.ZR{constructor(m,y,w,D){var P;super(y.code,y.message),this.operationType=w,this.user=D,Object.setPrototypeOf(this,Ca.prototype),this.customData={appName:m.name,tenantId:null!==(P=m.tenantId)&&void 0!==P?P:void 0,_serverResponse:y.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,y,w,D){return new Ca(m,y,w,D)}}function rc(b,m,y,w){return("reauthenticate"===m?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ca._fromErrorAndOperation(b,P,m,w):P})}function mi(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function jy(b,m){return yu.apply(this,arguments)}function yu(){return yu=(0,h.Z)(function*(b,m){const y=(0,j.m9)(b);yield vu(!0,y,m);const{providerUserInfo:w}=yield function Kr(b,m){return ar.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),D=mi(w||[]);return y.providerData=y.providerData.filter(P=>D.has(P.providerId)),D.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),yu.apply(this,arguments)}function Ia(b,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,h.Z)(function*(b,m,y=!1){const w=yield At(b,m._linkToIdToken(b.auth,yield b.getIdToken()),y);return kr._forOperation(b,"link",w)})).apply(this,arguments)}function vu(b,m,y){return tl.apply(this,arguments)}function tl(){return(tl=(0,h.Z)(function*(b,m,y){yield Fn(m);const D=!1===b?"provider-already-linked":"no-such-provider";ae(mi(m.providerData).has(y)===b,m.auth,D)})).apply(this,arguments)}function Rm(b,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(b,m,y=!1){const{auth:w}=b,D="reauthenticate";try{const P=yield At(b,rc(w,D,m,b),y);ae(P.idToken,w,"internal-error");const J=Tn(P.idToken);ae(J,w,"internal-error");const{sub:pe}=J;return ae(b.uid===pe,w,"user-mismatch"),kr._forOperation(b,D,P)}catch(P){throw"auth/user-not-found"===P?.code&&Se(w,"user-mismatch"),P}})).apply(this,arguments)}function Mh(b,m){return ic.apply(this,arguments)}function ic(){return(ic=(0,h.Z)(function*(b,m,y=!1){const w="signIn",D=yield rc(b,w,m),P=yield kr._fromIdTokenResponse(b,w,D);return y||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function ln(b,m){return bu.apply(this,arguments)}function bu(){return(bu=(0,h.Z)(function*(b,m){return Mh(On(b),m)})).apply(this,arguments)}function cw(b,m){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,h.Z)(function*(b,m){const y=(0,j.m9)(b);return yield vu(!1,y,m.providerId),Ia(y,m)})).apply(this,arguments)}function Pm(b,m){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,h.Z)(function*(b,m){return Rm((0,j.m9)(b),m)})).apply(this,arguments)}function Om(){return(Om=(0,h.Z)(function*(b,m){return Kt(b,"POST","/v1/accounts:signInWithCustomToken",ze(b,m))})).apply(this,arguments)}function Hy(b,m){return Te.apply(this,arguments)}function Te(){return Te=(0,h.Z)(function*(b,m){const y=On(b),w=yield function km(b,m){return Om.apply(this,arguments)}(y,{token:m,returnSecureToken:!0}),D=yield kr._fromIdTokenResponse(y,"signIn",w);return yield y._updateCurrentUser(D.user),D}),Te.apply(this,arguments)}class Mn{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?kh._fromServerResponse(m,y):"totpInfo"in y?Oh._fromServerResponse(m,y):Se(m,"internal-error")}}class kh extends Mn{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new kh(y)}}class Oh extends Mn{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new Oh(y)}}function jr(b,m,y){var w;ae((null===(w=y.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),ae(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ae(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(ae(y.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function $y(b,m,y){return nl.apply(this,arguments)}function nl(){return nl=(0,h.Z)(function*(b,m,y){var w;const D=On(b),P={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const J=yield vr(D,P,"getOobCode",!0);y&&jr(D,J,y),yield Vs(D,J)}else y&&jr(D,P,y),yield Vs(D,P).catch(function(){var J=(0,h.Z)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Qe=yield vr(D,P,"getOobCode",!0);y&&jr(D,Qe,y),yield Vs(D,Qe)}});return function(pe){return J.apply(this,arguments)}}())}),nl.apply(this,arguments)}function js(b,m,y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,h.Z)(function*(b,m,y){yield te((0,j.m9)(b),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Nm(b,m){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,h.Z)(function*(b,m){yield function cn(b,m){return mn.apply(this,arguments)}((0,j.m9)(b),{oobCode:m})}),Fm.apply(this,arguments)}function Lm(b,m){return wu.apply(this,arguments)}function wu(){return(wu=(0,h.Z)(function*(b,m){const y=(0,j.m9)(b),w=yield te(y,{oobCode:m}),D=w.requestType;switch(ae(D,y,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(w.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(w.mfaInfo,y,"internal-error");default:ae(w.email,y,"internal-error")}let P=null;return w.mfaInfo&&(P=Mn._fromServerResponse(On(y),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:D}})).apply(this,arguments)}function Ri(b,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(b,m){const{data:y}=yield Lm((0,j.m9)(b),m);return y.email})).apply(this,arguments)}function rl(b,m,y){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,h.Z)(function*(b,m,y){var w;const D=On(b),P={returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"};let J;if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const dt=yield vr(D,P,"signUpPassword");J=tc(D,dt)}else J=tc(D,P).catch(function(){var dt=(0,h.Z)(function*(Bt){if("auth/missing-recaptcha-token"===Bt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const gn=yield vr(D,P,"signUpPassword");return tc(D,gn)}return Promise.reject(Bt)});return function(Bt){return dt.apply(this,arguments)}}());const pe=yield J.catch(dt=>Promise.reject(dt)),Qe=yield kr._fromIdTokenResponse(D,"signIn",pe);return yield D._updateCurrentUser(Qe.user),Qe}),Ta.apply(this,arguments)}function Bo(b,m,y){return ln((0,j.m9)(b),en.credential(m,y))}function Vm(b,m,y){return sc.apply(this,arguments)}function sc(){return sc=(0,h.Z)(function*(b,m,y){var w;const D=On(b),P={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function J(pe,Qe){ae(Qe.handleCodeInApp,D,"argument-error"),Qe&&jr(D,pe,Qe)}if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const pe=yield vr(D,P,"getOobCode",!0);J(pe,y),yield Vi(D,pe)}else J(P,y),yield Vi(D,P).catch(function(){var pe=(0,h.Z)(function*(Qe){if("auth/missing-recaptcha-token"!==Qe.code)return Promise.reject(Qe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const dt=yield vr(D,P,"getOobCode",!0);J(dt,y),yield Vi(D,dt)}});return function(Qe){return pe.apply(this,arguments)}}())}),sc.apply(this,arguments)}function uw(b,m){return"EMAIL_SIGNIN"===yt.parseLink(m)?.operation}function dw(b,m,y){return oc.apply(this,arguments)}function oc(){return(oc=(0,h.Z)(function*(b,m,y){const w=(0,j.m9)(b),D=en.credentialWithLink(m,y||at());return ae(D._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ln(w,D)})).apply(this,arguments)}function Nh(){return(Nh=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:createAuthUri",ze(b,m))})).apply(this,arguments)}function Bm(b,m){return Um.apply(this,arguments)}function Um(){return Um=(0,h.Z)(function*(b,m){const w={identifier:m,continueUri:rn()?at():"http://localhost"},{signinMethods:D}=yield function Cu(b,m){return Nh.apply(this,arguments)}((0,j.m9)(b),w);return D||[]}),Um.apply(this,arguments)}function zy(b,m){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,h.Z)(function*(b,m){const y=(0,j.m9)(b),D={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&jr(y.auth,D,m);const{email:P}=yield function va(b,m){return Lo.apply(this,arguments)}(y.auth,D);P!==b.email&&(yield b.reload())}),Iu.apply(this,arguments)}function Gy(b,m,y){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,h.Z)(function*(b,m,y){const w=(0,j.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};y&&jr(w.auth,P,y);const{email:J}=yield function hu(b,m){return wi.apply(this,arguments)}(w.auth,P);J!==b.email&&(yield b.reload())}),Fh.apply(this,arguments)}function Lh(){return(Lh=(0,h.Z)(function*(b,m){return zt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function jm(b,m){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,h.Z)(function*(b,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const w=(0,j.m9)(b),P={idToken:yield w.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},J=yield At(w,function Wy(b,m){return Lh.apply(this,arguments)}(w.auth,P));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const pe=w.providerData.find(({providerId:Qe})=>"password"===Qe);pe&&(pe.displayName=w.displayName,pe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)}),Vh.apply(this,arguments)}function hw(b,m){return Uo((0,j.m9)(b),m,null)}function Pi(b,m){return Uo((0,j.m9)(b),null,m)}function Uo(b,m,y){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(b,m,y){const{auth:w}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(P.email=m),y&&(P.password=y);const J=yield At(b,it(w,P));yield b._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class ac{constructor(m,y,w={}){this.isNewUser=m,this.providerId=y,this.profile=w}}class Ky extends ac{constructor(m,y,w,D){super(m,y,w),this.username=D}}class fw extends ac{constructor(m,y){super(m,"facebook.com",y)}}class pw extends Ky{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class mw extends ac{constructor(m,y){super(m,"google.com",y)}}class Bh extends Ky{constructor(m,y,w){super(m,"twitter.com",y,w)}}function Uh(b){const{user:m,_tokenResponse:y}=b;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function qy(b){var m,y;if(!b)return null;const{providerId:w}=b,D=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const J=null===(y=null===(m=Tn(b.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(J)return new ac(P,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new fw(P,D);case"github.com":return new pw(P,D);case"google.com":return new mw(P,D);case"twitter.com":return new Bh(P,D,b.screenName||null);case"custom":case"anonymous":return new ac(P,null);default:return new ac(P,w,D)}}(y)}function il(b,m,y,w){return(0,j.m9)(b).onAuthStateChanged(m,y,w)}class Da{constructor(m,y,w){this.type=m,this.credential=y,this.auth=w}static _fromIdtoken(m,y){return new Da("enroll",m,y)}static _fromMfaPendingCredential(m){return new Da("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,w;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Da._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return Da._fromIdtoken(m.multiFactorSession.idToken)}return null}}class jh{constructor(m,y,w){this.session=m,this.hints=y,this.signInResolver=w}static _fromError(m,y){const w=On(m),D=y.customData._serverResponse,P=(D.mfaInfo||[]).map(pe=>Mn._fromServerResponse(w,pe));ae(D.mfaPendingCredential,w,"internal-error");const J=Da._fromMfaPendingCredential(D.mfaPendingCredential);return new jh(J,P,function(){var pe=(0,h.Z)(function*(Qe){const dt=yield Qe._process(w,J);delete D.mfaInfo,delete D.mfaPendingCredential;const Bt=Object.assign(Object.assign({},D),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(y.operationType){case"signIn":const gn=yield kr._fromIdTokenResponse(w,y.operationType,Bt);return yield w._updateCurrentUser(gn.user),gn;case"reauthenticate":return ae(y.user,w,"internal-error"),kr._forOperation(y.user,y.operationType,Bt);default:Se(w,"internal-error")}});return function(Qe){return pe.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,h.Z)(function*(){return y.signInResolver(m)})()}}function Hh(b,m){var y;const w=(0,j.m9)(b),D=m;return ae(m.customData.operationType,w,"argument-error"),ae(null===(y=D.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,w,"argument-error"),jh._fromError(w,D)}class ol{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(w=>Mn._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new ol(m)}getSession(){var m=this;return(0,h.Z)(function*(){return Da._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,y){var w=this;return(0,h.Z)(function*(){const D=m,P=yield w.getSession(),J=yield At(w.user,D._process(w.user.auth,P,y));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(m){var y=this;return(0,h.Z)(function*(){const w="string"==typeof m?m:m.uid,D=yield y.user.getIdToken();try{const P=yield At(y.user,function Aa(b,m){return zt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ze(b,m))}(y.user.auth,{idToken:D,mfaEnrollmentId:w}));y.enrolledFactors=y.enrolledFactors.filter(({uid:J})=>J!==w),yield y.user._updateTokensIfNecessary(P),yield y.user.reload()}catch(P){throw P}})()}}const cc=new WeakMap;function uc(b){const m=(0,j.m9)(b);return cc.has(m)||cc.set(m,ol._fromUser(m)),cc.get(m)}const Du="__sak";class dc{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Du,"1"),this.storage.removeItem(Du),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Au=(()=>{class b extends dc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,w)=>this.onStorageEvent(y,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zh(){const b=(0,j.z$)();return N(b)||he(b)}()&&function Wt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const w of Object.keys(this.listeners)){const D=this.storage.getItem(w),P=this.localCache[w];D!==P&&y(w,P,D)}}onStorageEvent(y,w=!1){if(!y.key)return void this.forAllChangedKeys((pe,Qe,dt)=>{this.notifyListeners(pe,dt)});const D=y.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(D);if(y.newValue!==pe)null!==y.newValue?this.storage.setItem(D,y.newValue):this.storage.removeItem(D);else if(this.localCache[D]===y.newValue&&!w)return}const P=()=>{const pe=this.storage.getItem(D);!w&&this.localCache[D]===pe||this.notifyListeners(D,pe)},J=this.storage.getItem(D);!function ht(){return(0,j.w1)()&&10===document.documentMode}()||J===y.newValue||y.newValue===y.oldValue?P():setTimeout(P,10)}notifyListeners(y,w){this.localCache[y]=w;const D=this.listeners[y];if(D)for(const P of Array.from(D))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,w,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:w,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,w){var D=()=>super._set,P=this;return(0,h.Z)(function*(){yield D().call(P,y,w),P.localCache[y]=JSON.stringify(w)})()}_get(y){var w=()=>super._get,D=this;return(0,h.Z)(function*(){const P=yield w().call(D,y);return D.localCache[y]=JSON.stringify(P),P})()}_remove(y){var w=()=>super._remove,D=this;return(0,h.Z)(function*(){yield w().call(D,y),delete D.localCache[y]})()}}return b.type="LOCAL",b})(),ki=(()=>{class b extends dc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,w){}_removeListener(y,w){}}return b.type="SESSION",b})();let xu=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const w=this.receivers.find(P=>P.isListeningto(y));if(w)return w;const D=new b(y);return this.receivers.push(D),D}isListeningto(y){return this.eventTarget===y}handleEvent(y){var w=this;return(0,h.Z)(function*(){const D=y,{eventId:P,eventType:J,data:pe}=D.data,Qe=w.handlersMap[J];if(!Qe?.size)return;D.ports[0].postMessage({status:"ack",eventId:P,eventType:J});const dt=Array.from(Qe).map(function(){var gn=(0,h.Z)(function*(Ti){return Ti(D.origin,pe)});return function(Ti){return gn.apply(this,arguments)}}()),Bt=yield function Gh(b){return Promise.all(b.map(function(){var m=(0,h.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(w){return{fulfilled:!1,reason:w}}});return function(y){return m.apply(this,arguments)}}()))}(dt);D.ports[0].postMessage({status:"done",eventId:P,eventType:J,response:Bt})})()}_subscribe(y,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(w)}_unsubscribe(y,w){this.handlersMap[y]&&w&&this.handlersMap[y].delete(w),(!w||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function jo(b="",m=10){let y="";for(let w=0;w<m;w++)y+=Math.floor(10*Math.random());return b+y}class Wh{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,w=50){var D=this;return(0,h.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let J,pe;return new Promise((Qe,dt)=>{const Bt=jo("",20);P.port1.start();const gn=setTimeout(()=>{dt(new Error("unsupported_event"))},w);pe={messageChannel:P,onMessage(Ti){const fo=Ti;if(fo.data.eventId===Bt)switch(fo.data.status){case"ack":clearTimeout(gn),J=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Qe(fo.data.response);break;default:clearTimeout(gn),clearTimeout(J),dt(new Error("invalid_response"))}}},D.handlers.add(pe),P.port1.addEventListener("message",pe.onMessage),D.target.postMessage({eventType:m,eventId:Bt,data:y},[P.port2])}).finally(()=>{pe&&D.removeMessageHandler(pe)})})()}}function Or(){return window}function Mu(){return typeof Or().WorkerGlobalScope<"u"&&"function"==typeof Or().importScripts}function pc(){return(pc=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zm="firebaseLocalStorageDb",al=1,co="firebaseLocalStorage",Qy="fbase_key";class xa{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ru(b,m){return b.transaction([co],m?"readwrite":"readonly").objectStore(co)}function qh(){const b=indexedDB.open(Zm,al);return new Promise((m,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(co,{keyPath:Qy})}catch(D){y(D)}}),b.addEventListener("success",(0,h.Z)(function*(){const w=b.result;w.objectStoreNames.contains(co)?m(w):(w.close(),yield function ll(){const b=indexedDB.deleteDatabase(Zm);return new xa(b).toPromise()}(),m(yield qh()))}))})}function Kh(b,m,y){return cl.apply(this,arguments)}function cl(){return(cl=(0,h.Z)(function*(b,m,y){const w=Ru(b,!0).put({[Qy]:m,value:y});return new xa(w).toPromise()})).apply(this,arguments)}function mc(){return(mc=(0,h.Z)(function*(b,m){const y=Ru(b,!1).get(m),w=yield new xa(y).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function gc(b,m){const y=Ru(b,!0).delete(m);return new xa(y).toPromise()}const Yh=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,h.Z)(function*(){return y.db||(y.db=yield qh()),y.db})()}_withRetries(y){var w=this;return(0,h.Z)(function*(){let D=0;for(;;)try{const P=yield w._openDb();return yield y(P)}catch(P){if(D++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,h.Z)(function*(){return Mu()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,h.Z)(function*(){y.receiver=xu._getInstance(function Ym(){return Mu()?self:null}()),y.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(D,P){return{keyProcessed:(yield y._poll()).includes(P.key)}});return function(D,P){return w.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(D,P){return["keyChanged"]});return function(D,P){return w.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,h.Z)(function*(){var w,D;if(y.activeServiceWorker=yield function qm(){return pc.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Wh(y.activeServiceWorker);const P=yield y.sender._send("ping",{},800);P&&null!==(w=P[0])&&void 0!==w&&w.fulfilled&&null!==(D=P[0])&&void 0!==D&&D.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Km(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:y},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const y=yield qh();return yield Kh(y,Du,"1"),yield gc(y,Du),!0}catch{}return!1})()}_withPendingWrite(y){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield y()}finally{w.pendingWrites--}})()}_set(y,w){var D=this;return(0,h.Z)(function*(){return D._withPendingWrite((0,h.Z)(function*(){return yield D._withRetries(P=>Kh(P,y,w)),D.localCache[y]=w,D.notifyServiceWorker(y)}))})()}_get(y){var w=this;return(0,h.Z)(function*(){const D=yield w._withRetries(P=>function Xy(b,m){return mc.apply(this,arguments)}(P,y));return w.localCache[y]=D,D})()}_remove(y){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(D=>gc(D,y)),delete w.localCache[y],w.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,h.Z)(function*(){const w=yield y._withRetries(J=>{const pe=Ru(J,!1).getAll();return new xa(pe).toPromise()});if(!w)return[];if(0!==y.pendingWrites)return[];const D=[],P=new Set;for(const{fbase_key:J,value:pe}of w)P.add(J),JSON.stringify(y.localCache[J])!==JSON.stringify(pe)&&(y.notifyListeners(J,pe),D.push(J));for(const J of Object.keys(y.localCache))y.localCache[J]&&!P.has(J)&&(y.notifyListeners(J,null),D.push(J));return D})()}notifyListeners(y,w){this.localCache[y]=w;const D=this.listeners[y];if(D)for(const P of Array.from(D))P(w)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Zh=1e12;class vw{constructor(m){this.auth=m,this.counter=Zh,this._widgets=new Map}render(m,y){const w=this.counter;return this._widgets.set(w,new eg(m,this.auth.name,y||{})),this.counter++,w}reset(m){var y;const w=m||Zh;null===(y=this._widgets.get(w))||void 0===y||y.delete(),this._widgets.delete(w)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Zh))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,h.Z)(function*(){var w;return null===(w=y._widgets.get(m||Zh))||void 0===w||w.execute(),""})()}}class eg{constructor(m,y,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof m?document.getElementById(m):m;ae(D,"argument-error",{appName:y}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jy(b){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ev=Rr("rcb"),mA=new Ae(3e4,6e4);class _c{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Or().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return ae(function _A(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&Rt(Or().grecaptcha)?Promise.resolve(Or().grecaptcha):new Promise((w,D)=>{const P=Or().setTimeout(()=>{D(De(m,"network-request-failed"))},mA.get());Or()[ev]=()=>{Or().clearTimeout(P),delete Or()[ev];const pe=Or().grecaptcha;if(!pe||!Rt(pe))return void D(De(m,"internal-error"));const Qe=pe.render;pe.render=(dt,Bt)=>{const gn=Qe(dt,Bt);return this.counter++,gn},this.hostLanguage=y,w(pe)},bn(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:ev,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(P),D(De(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=Or().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yA{load(m){return(0,h.Z)(function*(){return new vw(m)})()}clearedOneInstance(){}}const ii="recaptcha",tg={theme:"light",type:"image"};class ku{constructor(m,y=Object.assign({},tg),w){this.parameters=y,this.type=ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(w),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof m?document.getElementById(m):m;ae(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yA:new _c,this.validateStartingState()}verify(){var m=this;return(0,h.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(y)||new Promise(P=>{const J=pe=>{pe&&(m.tokenChangeListeners.delete(J),P(pe))};m.tokenChangeListeners.add(J),m.isInvisible&&w.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(w=>w(y)),"function"==typeof m)m(y);else if("string"==typeof m){const w=Or()[m];"function"==typeof w&&w(y)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,h.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const w=document.createElement("div");y.appendChild(w),y=w}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,h.Z)(function*(){ae(rn()&&!Mu(),m.auth,"internal-error"),yield function tv(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function le(b){return ne.apply(this,arguments)}(m.auth);ae(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zi{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=z._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function dl(b,m,y){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,h.Z)(function*(b,m,y){const w=On(b),D=yield Nu(w,m,(0,j.m9)(y));return new Zi(D,P=>ln(w,P))})).apply(this,arguments)}function Xh(b,m,y){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(b,m,y){const w=(0,j.m9)(b);yield vu(!1,w,"phone");const D=yield Nu(w.auth,m,(0,j.m9)(y));return new Zi(D,P=>cw(w,P))})).apply(this,arguments)}function bw(b,m,y){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,h.Z)(function*(b,m,y){const w=(0,j.m9)(b),D=yield Nu(w.auth,m,(0,j.m9)(y));return new Zi(D,P=>Pm(w,P))})).apply(this,arguments)}function Nu(b,m,y){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,h.Z)(function*(b,m,y){var w;const D=yield y.verify();try{let P;if(ae("string"==typeof D,b,"argument-error"),ae(y.type===ii,b,"argument-error"),P="string"==typeof m?{phoneNumber:m}:m,"session"in P){const J=P.session;if("phoneNumber"in P)return ae("enroll"===J.type,b,"internal-error"),(yield function $h(b,m){return zt(b,"POST","/v2/accounts/mfaEnrollment:start",ze(b,m))}(b,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{ae("signin"===J.type,b,"internal-error");const pe=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return ae(pe,b,"missing-multi-factor-info"),(yield function Qm(b,m){return zt(b,"POST","/v2/accounts/mfaSignIn:start",ze(b,m))}(b,{mfaPendingCredential:J.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield function Sm(b,m){return Us.apply(this,arguments)}(b,{phoneNumber:P.phoneNumber,recaptchaToken:D});return J}}finally{y._reset()}}),Jh.apply(this,arguments)}function ds(b,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(b,m){yield Ia((0,j.m9)(b),m)})).apply(this,arguments)}let hs=(()=>{class b{constructor(y){this.providerId=b.PROVIDER_ID,this.auth=On(y)}verifyPhoneNumber(y,w){return Nu(this.auth,y,(0,j.m9)(w))}static credential(y,w){return z._fromVerification(y,w)}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:w,temporaryProof:D}=y;return w&&D?z._fromTokenResponse(w,D):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ct(b,m){return m?nr(m):(ae(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class $n extends H{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return us(m,this._buildIdpRequest())}_linkToIdToken(m,y){return us(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return us(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function fs(b){return Mh(b.auth,new $n(b),b.bypassAuthState)}function nv(b){const{auth:m,user:y}=b;return ae(y,m,"internal-error"),Rm(y,new $n(b),b.bypassAuthState)}function Fu(b){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(b){const{auth:m,user:y}=b;return ae(y,m,"internal-error"),Ia(y,new $n(b),b.bypassAuthState)})).apply(this,arguments)}class ng{constructor(m,y,w,D,P=!1){this.auth=m,this.resolver=w,this.user=D,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,h.Z)(function*(w,D){m.pendingPromise={resolve:w,reject:D};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(P){m.reject(P)}});return function(w,D){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:D,postBody:P,tenantId:J,error:pe,type:Qe}=m;if(pe)return void y.reject(pe);const dt={auth:y.auth,requestUri:w,sessionId:D,tenantId:J||void 0,postBody:P||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Qe)(dt))}catch(Bt){y.reject(Bt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return fs;case"linkViaPopup":case"linkViaRedirect":return Fu;case"reauthViaPopup":case"reauthViaRedirect":return nv;default:Se(this.auth,"internal-error")}}resolve(m){Ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rv=new Ae(2e3,1e4);function ef(b,m,y){return fl.apply(this,arguments)}function fl(){return(fl=(0,h.Z)(function*(b,m,y){const w=On(b);Ze(b,m,cr);const D=ct(w,y);return new tf(w,"signInViaPopup",m,D).executeNotNull()})).apply(this,arguments)}function yc(b,m,y){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,h.Z)(function*(b,m,y){const w=(0,j.m9)(b);Ze(w.auth,m,cr);const D=ct(w.auth,y);return new tf(w.auth,"reauthViaPopup",m,D,w).executeNotNull()})).apply(this,arguments)}function ka(b,m,y){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(b,m,y){const w=(0,j.m9)(b);Ze(w.auth,m,cr);const D=ct(w.auth,y);return new tf(w.auth,"linkViaPopup",m,D,w).executeNotNull()})).apply(this,arguments)}let tf=(()=>{class b extends ng{constructor(y,w,D,P,J){super(y,w,P,J),this.provider=D,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var y=this;return(0,h.Z)(function*(){const w=yield y.execute();return ae(w,y.auth,"internal-error"),w})()}onExecution(){var y=this;return(0,h.Z)(function*(){Ft(1===y.filter.length,"Popup operations only handle one event");const w=jo();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],w),y.authWindow.associatedEvent=w,y.resolver._originValidation(y.auth).catch(D=>{y.reject(D)}),y.resolver._isIframeWebStorageSupported(y.auth,D=>{D||y.reject(De(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const y=()=>{var w,D;this.pollId=null!==(D=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,rv.get())};y()}}return b.currentPopupAction=null,b})();const rg="pendingRedirect",Ts=new Map;class vc extends ng{constructor(m,y,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,h.Z)(function*(){let w=Ts.get(y.auth._key());if(!w){try{const P=(yield function or(b,m){return nf.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;w=()=>Promise.resolve(P)}catch(D){w=()=>Promise.reject(D)}Ts.set(y.auth._key(),w)}return y.bypassAuthState||Ts.set(y.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(w,m);if("unknown"!==m.type){if(m.eventId){const D=yield w.auth._redirectUserForId(m.eventId);if(D)return w.user=D,y().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function nf(){return(nf=(0,h.Z)(function*(b,m){const y=Oa(m),w=iv(b);if(!(yield w._isAvailable()))return!1;const D="true"===(yield w._get(y));return yield w._remove(y),D})).apply(this,arguments)}function bc(b,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,h.Z)(function*(b,m){return iv(b)._set(Oa(m),"true")})).apply(this,arguments)}function pl(){Ts.clear()}function ml(b,m){Ts.set(b._key(),m)}function iv(b){return nr(b._redirectPersistence)}function Oa(b){return ti(rg,b.config.apiKey,b.name)}function Hs(b,m,y){return function sv(b,m,y){return rf.apply(this,arguments)}(b,m,y)}function rf(){return(rf=(0,h.Z)(function*(b,m,y){const w=On(b);Ze(b,m,cr),yield w._initializationPromise;const D=ct(w,y);return yield bc(D,w),D._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function $s(b,m,y){return function gl(b,m,y){return Qi.apply(this,arguments)}(b,m,y)}function Qi(){return(Qi=(0,h.Z)(function*(b,m,y){const w=(0,j.m9)(b);Ze(w.auth,m,cr),yield w.auth._initializationPromise;const D=ct(w.auth,y);yield bc(D,w.auth);const P=yield Hr(w);return D._openRedirect(w.auth,m,"reauthViaRedirect",P)})).apply(this,arguments)}function ps(b,m,y){return function Nr(b,m,y){return _l.apply(this,arguments)}(b,m,y)}function _l(){return(_l=(0,h.Z)(function*(b,m,y){const w=(0,j.m9)(b);Ze(w.auth,m,cr),yield w.auth._initializationPromise;const D=ct(w.auth,y);yield vu(!1,w,m.providerId),yield bc(D,w.auth);const P=yield Hr(w);return D._openRedirect(w.auth,m,"linkViaRedirect",P)})).apply(this,arguments)}function ov(b,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,h.Z)(function*(b,m){return yield On(b)._initializationPromise,Oi(b,m,!1)})).apply(this,arguments)}function Oi(b,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(b,m,y=!1){const w=On(b),D=ct(w,m),J=yield new vc(w,D,y).execute();return J&&!y&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,m)),J})).apply(this,arguments)}function Hr(b){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(b){const m=jo(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class ig{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(y=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Na(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zs(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var w;if(m.error&&!zs(m)){const D=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";y.onError(De(this.auth,D))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const w=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lu(m))}saveEventToCache(m){this.cachedEventUids.add(Lu(m)),this.lastProcessedEventTime=Date.now()}}function Lu(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function zs({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Zr(b){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,h.Z)(function*(b,m={}){return zt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Ew=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vu=/^https?/;function yl(){return(yl=(0,h.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Zr(b);for(const y of m)try{if(sg(y))return}catch{}Se(b,"unauthorized-domain")})).apply(this,arguments)}function sg(b){const m=at(),{protocol:y,hostname:w}=new URL(m);if(b.startsWith("chrome-extension://")){const J=new URL(b);return""===J.hostname&&""===w?"chrome-extension:"===y&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&J.hostname===w}if(!Vu.test(y))return!1;if(Ew.test(b))return w===b;const D=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(w)}const af=new Ae(3e4,6e4);function vl(){const b=Or().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let $o=null;const bl=new Ae(5e3,15e3),og="__/auth/iframe",lf="emulator/auth/iframe",Ws={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ag=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lg(b){const m=b.config;ae(m.authDomain,b,"auth-domain-config-required");const y=m.emulator?Fe(m,lf):`https://${b.config.authDomain}/${og}`,w={apiKey:m.apiKey,appName:b.name,v:L.SDK_VERSION},D=ag.get(b.config.apiHost);D&&(w.eid=D);const P=b._getFrameworks();return P.length&&(w.fw=P.join(",")),`${y}?${(0,j.xO)(w).slice(1)}`}function cg(){return cg=(0,h.Z)(function*(b){const m=yield function av(b){return $o=$o||function qt(b){return new Promise((m,y)=>{var w,D,P;function J(){vl(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{vl(),y(De(b,"network-request-failed"))},timeout:af.get()})}if(null!==(D=null===(w=Or().gapi)||void 0===w?void 0:w.iframes)&&void 0!==D&&D.Iframe)m(gapi.iframes.getContext());else{if(null===(P=Or().gapi)||void 0===P||!P.load){const pe=Rr("iframefcb");return Or()[pe]=()=>{gapi.load?J():y(De(b,"network-request-failed"))},bn(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Qe=>y(Qe))}J()}}).catch(m=>{throw $o=null,m})}(b),$o}(b),y=Or().gapi;return ae(y,b,"internal-error"),m.open({where:document.body,url:lg(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ws,dontclear:!0},w=>new Promise(function(){var D=(0,h.Z)(function*(P,J){yield w.restyle({setHideOnLeave:!1});const pe=De(b,"network-request-failed"),Qe=Or().setTimeout(()=>{J(pe)},bl.get());function dt(){Or().clearTimeout(Qe),P(w)}w.ping(dt).then(dt,()=>{J(pe)})});return function(P,J){return D.apply(this,arguments)}}()))}),cg.apply(this,arguments)}const gi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$r=500,El=600,ug="_blank",Uu="http://localhost";class di{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dg="__/auth/handler",hg="emulator/auth/handler",df=encodeURIComponent("fac");function wl(b,m,y,w,D,P){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,h.Z)(function*(b,m,y,w,D,P){ae(b.config.authDomain,b,"auth-domain-config-required"),ae(b.config.apiKey,b,"invalid-api-key");const J={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:w,v:L.SDK_VERSION,eventId:D};if(m instanceof cr){m.setDefaultLanguage(b.languageCode),J.providerId=m.providerId||"",(0,j.xb)(m.getCustomParameters())||(J.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Bt,gn]of Object.entries(P||{}))J[Bt]=gn}if(m instanceof Dr){const Bt=m.getScopes().filter(gn=>""!==gn);Bt.length>0&&(J.scopes=Bt.join(","))}b.tenantId&&(J.tid=b.tenantId);const pe=J;for(const Bt of Object.keys(pe))void 0===pe[Bt]&&delete pe[Bt];const Qe=yield b._getAppCheckToken(),dt=Qe?`#${df}=${encodeURIComponent(Qe)}`:"";return`${function Dn({config:b}){return b.emulator?Fe(b,hg):`https://${b.authDomain}/${dg}`}(b)}?${(0,j.xO)(pe).slice(1)}${dt}`})).apply(this,arguments)}const zo="webStorageSupport",Go=class lv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ki,this._completeRedirectFn=Oi,this._overrideRedirectResult=ml}_openPopup(m,y,w,D){var P=this;return(0,h.Z)(function*(){var J;Ft(null===(J=P.eventManagers[m._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const pe=yield wl(m,y,w,at(),D);return function Ec(b,m,y,w=$r,D=El){const P=Math.max((window.screen.availHeight-D)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let pe="";const Qe=Object.assign(Object.assign({},gi),{width:w.toString(),height:D.toString(),top:P,left:J}),dt=(0,j.z$)().toLowerCase();y&&(pe=x(dt)?ug:y),R(dt)&&(m=m||Uu,Qe.scrollbars="yes");const Bt=Object.entries(Qe).reduce((Ti,[fo,qo])=>`${Ti}${fo}=${qo},`,"");if(function xe(b=(0,j.z$)()){var m;return he(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(dt)&&"_self"!==pe)return function uf(b,m){const y=document.createElement("a");y.href=b,y.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(w)}(m||"",pe),new di(null);const gn=window.open(m||"",pe,Bt);ae(gn,b,"popup-blocked");try{gn.focus()}catch{}return new di(gn)}(m,pe,jo())})()}_openRedirect(m,y,w,D){var P=this;return(0,h.Z)(function*(){return yield P._originValidation(m),function fc(b){Or().location.href=b}(yield wl(m,y,w,at(),D)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:D,promise:P}=this.eventManagers[y];return D?Promise.resolve(D):(Ft(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(m);return this.eventManagers[y]={promise:w},w.catch(()=>{delete this.eventManagers[y]}),w}initAndGetManager(m){var y=this;return(0,h.Z)(function*(){const w=yield function cf(b){return cg.apply(this,arguments)}(m),D=new ig(m);return w.register("authEvent",P=>(ae(P?.authEvent,m,"invalid-auth-event"),{status:D.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:D},y.iframes[m._key()]=w,D})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(zo,{type:zo},D=>{var P;const J=null===(P=D?.[0])||void 0===P?void 0:P[zo];void 0!==J&&y(!!J),Se(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Bu(b){return yl.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return rt()||N()||he()}};class hf{constructor(m){this.factorId=m}_process(m,y,w){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,w);case"signin":return this._finalizeSignIn(m,y.credential);default:return lt("unexpected MultiFactorSessionType")}}}class ho extends hf{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new ho(m)}_finalizeEnroll(m,y,w){return function Su(b,m){return zt(b,"POST","/v2/accounts/mfaEnrollment:finalize",ze(b,m))}(m,{idToken:y,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function ul(b,m){return zt(b,"POST","/v2/accounts/mfaSignIn:finalize",ze(b,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ff=(()=>{class b{constructor(){}static assertion(y){return ho._fromCredential(y)}}return b.FACTOR_ID="phone",b})();var La="@firebase/auth";class Wo{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,h.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);y&&(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const gf=(0,j.Pz)("authIdTokenMaxAge")||300;let pg=null;const cv=b=>function(){var m=(0,h.Z)(function*(y){const w=y&&(yield y.getIdTokenResult()),D=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(D&&D>gf)return;const P=w?.token;pg!==P&&(pg=P,yield fetch(b,{method:P?"POST":"DELETE",headers:P?{Authorization:`Bearer ${P}`}:{}}))});return function(y){return m.apply(this,arguments)}}();function Hu(b=(0,L.getApp)()){const m=(0,L._getProvider)(b,"auth");if(m.isInitialized())return m.getImmediate();const y=function ni(b,m){const y=(0,L._getProvider)(b,"auth");if(y.isInitialized()){const D=y.getImmediate(),P=y.getOptions();if((0,j.vZ)(P,m??{}))return D;Se(D,"already-initialized")}return y.initialize({options:m})}(b,{popupRedirectResolver:Go,persistence:[Yh,Au,ki]}),w=(0,j.Pz)("authTokenSyncURL");if(w){const P=cv(w);(function lc(b,m,y){(0,j.m9)(b).beforeAuthStateChanged(m,y)})(y,P,()=>P(y.currentUser)),function Tu(b,m,y,w){(0,j.m9)(b).onIdTokenChanged(m,y,w)}(y,J=>P(J))}const D=(0,j.q4)("auth");return D&&Kn(y,`http://${D}`),y}!function mf(b){(0,L._registerComponent)(new ie.wA("auth",(m,{options:y})=>{const w=m.getProvider("app").getImmediate(),D=m.getProvider("heartbeat"),P=m.getProvider("app-check-internal"),{apiKey:J,authDomain:pe}=w.options;ae(J&&!J.includes(":"),"invalid-api-key",{appName:w.name}),ae(!pe?.includes(":"),"argument-error",{appName:w.name});const Qe={apiKey:J,authDomain:pe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:on(b)},dt=new rr(w,D,P,Qe);return function cs(b,m){const y=m?.persistence||[],w=(Array.isArray(y)?y:[y]).map(nr);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(w,m?.popupRedirectResolver)}(dt,y),dt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,w)=>{m.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new ie.wA("auth-internal",m=>{const y=On(m.getProvider("auth").getImmediate());return new Wo(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(La,"0.23.1",function Tl(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,L.registerVersion)(La,"0.23.1","esm2017")}("Browser")},2090:(Mt,Pe,O)=>{O.d(Pe,{$s:()=>nr,BH:()=>Re,DV:()=>ar,Dv:()=>Fn,GJ:()=>hr,L:()=>Ee,LL:()=>St,P0:()=>qe,Pz:()=>De,Sg:()=>Ze,UG:()=>lt,UI:()=>oe,US:()=>ie,Wj:()=>Sn,Wl:()=>Bn,Yr:()=>Ae,ZB:()=>Q,ZR:()=>zt,aH:()=>Se,b$:()=>rn,cI:()=>Kt,dS:()=>lr,eu:()=>Ye,g5:()=>L,gK:()=>Qn,gQ:()=>jt,h$:()=>_e,hl:()=>Je,hu:()=>j,jU:()=>Ft,lb:()=>Nt,m9:()=>ti,ne:()=>At,p$:()=>W,pd:()=>Tn,q4:()=>Be,r3:()=>Kr,ru:()=>at,tV:()=>K,uI:()=>ae,ug:()=>Qt,vZ:()=>ce,w1:()=>me,w9:()=>Tr,xO:()=>Vt,xb:()=>ot,z$:()=>je,zI:()=>Et,zd:()=>Zt});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(G,$){if(!G)throw L($)},L=function(G){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+G)},ee=function(G){const $=[];let R=0;for(let N=0;N<G.length;N++){let x=G.charCodeAt(N);x<128?$[R++]=x:x<2048?($[R++]=x>>6|192,$[R++]=63&x|128):55296==(64512&x)&&N+1<G.length&&56320==(64512&G.charCodeAt(N+1))?(x=65536+((1023&x)<<10)+(1023&G.charCodeAt(++N)),$[R++]=x>>18|240,$[R++]=x>>12&63|128,$[R++]=x>>6&63|128,$[R++]=63&x|128):($[R++]=x>>12|224,$[R++]=x>>6&63|128,$[R++]=63&x|128)}return $},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let x=0;x<G.length;x+=3){const Z=G[x],Ie=x+1<G.length,Y=Ie?G[x+1]:0,ue=x+2<G.length,he=ue?G[x+2]:0;let ht=(15&Y)<<2|he>>6,rt=63&he;ue||(rt=64,Ie||(ht=64)),N.push(R[Z>>2],R[(3&Z)<<4|Y>>4],R[ht],R[rt])}return N.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(ee(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let R=0,N=0;for(;R<G.length;){const x=G[R++];if(x<128)$[N++]=String.fromCharCode(x);else if(x>191&&x<224){const Z=G[R++];$[N++]=String.fromCharCode((31&x)<<6|63&Z)}else if(x>239&&x<365){const ue=((7&x)<<18|(63&G[R++])<<12|(63&G[R++])<<6|63&G[R++])-65536;$[N++]=String.fromCharCode(55296+(ue>>10)),$[N++]=String.fromCharCode(56320+(1023&ue))}else{const Z=G[R++],Ie=G[R++];$[N++]=String.fromCharCode((15&x)<<12|(63&Z)<<6|63&Ie)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const R=$?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let x=0;x<G.length;){const Z=R[G.charAt(x++)],Y=x<G.length?R[G.charAt(x)]:0;++x;const he=x<G.length?R[G.charAt(x)]:64;++x;const xe=x<G.length?R[G.charAt(x)]:64;if(++x,null==Z||null==Y||null==he||null==xe)throw new Ce;N.push(Z<<2|Y>>4),64!==he&&(N.push(Y<<4&240|he>>2),64!==xe&&N.push(he<<6&192|xe))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _e=function(G){const $=ee(G);return ie.encodeByteArray($,!0)},Ee=function(G){return _e(G).replace(/\./g,"")},K=function(G){try{return ie.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function W(G){return Q(void 0,G)}function Q(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const R in $)!$.hasOwnProperty(R)||!Oe(R)||(G[R]=Q(G[R],$[R]));return G}function Oe(G){return"__proto__"!==G}const Ne=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=G&&K(G[1]);return $&&JSON.parse($)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Be=G=>{var $,R;return null===(R=null===($=Ne())||void 0===$?void 0:$.emulatorHosts)||void 0===R?void 0:R[G]},qe=G=>{const $=Be(G);if(!$)return;const R=$.lastIndexOf(":");if(R<=0||R+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const N=parseInt($.substring(R+1),10);return"["===$[0]?[$.substring(1,R-1),N]:[$.substring(0,R),N]},Se=()=>{var G;return null===(G=Ne())||void 0===G?void 0:G.config},De=G=>{var $;return null===($=Ne())||void 0===$?void 0:$[`_${G}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,R)=>{this.resolve=$,this.reject=R})}wrapCallback($){return(R,N)=>{R?this.reject(R):this.resolve(N),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(R):$(R,N))}}}function Ze(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=$||"demo-project",x=G.iat||0,Z=G.sub||G.user_id;if(!Z)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:x,exp:x+3600,auth_time:x,sub:Z,user_id:Z,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Ie)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function lt(){var G;const $=null===(G=Ne())||void 0===G?void 0:G.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ft(){return"object"==typeof self&&self.self===self}function at(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function me(){const G=je();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ae(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function Je(){try{return"object"==typeof indexedDB}catch{return!1}}function Ye(){return new Promise((G,$)=>{try{let R=!0;const N="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(N);x.onsuccess=()=>{x.result.close(),R||self.indexedDB.deleteDatabase(N),G(!0)},x.onupgradeneeded=()=>{R=!1},x.onerror=()=>{var Z;$((null===(Z=x.error)||void 0===Z?void 0:Z.message)||"")}}catch(R){$(R)}})}function Et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class zt extends Error{constructor($,R,N){super(R),this.code=$,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor($,R,N){this.service=$,this.serviceName=R,this.errors=N}create($,...R){const N=R[0]||{},x=`${this.service}/${$}`,Z=this.errors[$],Ie=Z?function Ut(G,$){return G.replace(wt,(R,N)=>{const x=$[N];return null!=x?String(x):`<${N}?>`})}(Z,N):"Error";return new zt(x,`${this.serviceName}: ${Ie} (${x}).`,N)}}const wt=/\{\$([^}]+)}/g;function Kt(G){return JSON.parse(G)}function Bn(G){return JSON.stringify(G)}const Un=function(G){let $={},R={},N={},x="";try{const Z=G.split(".");$=Kt(K(Z[0])||""),R=Kt(K(Z[1])||""),x=Z[2],N=R.d||{},delete R.d}catch{}return{header:$,claims:R,data:N,signature:x}},Tr=function(G){const R=Un(G).claims;return!!R&&"object"==typeof R&&R.hasOwnProperty("iat")},hr=function(G){const $=Un(G).claims;return"object"==typeof $&&!0===$.admin};function Kr(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function ar(G,$){if(Object.prototype.hasOwnProperty.call(G,$))return G[$]}function ot(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function oe(G,$,R){const N={};for(const x in G)Object.prototype.hasOwnProperty.call(G,x)&&(N[x]=$.call(R,G[x],x,G));return N}function ce(G,$){if(G===$)return!0;const R=Object.keys(G),N=Object.keys($);for(const x of R){if(!N.includes(x))return!1;const Z=G[x],Ie=$[x];if(st(Z)&&st(Ie)){if(!ce(Z,Ie))return!1}else if(Z!==Ie)return!1}for(const x of N)if(!R.includes(x))return!1;return!0}function st(G){return null!==G&&"object"==typeof G}function Vt(G){const $=[];for(const[R,N]of Object.entries(G))Array.isArray(N)?N.forEach(x=>{$.push(encodeURIComponent(R)+"="+encodeURIComponent(x))}):$.push(encodeURIComponent(R)+"="+encodeURIComponent(N));return $.length?"&"+$.join("&"):""}function Zt(G){const $={};return G.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[x,Z]=N.split("=");$[decodeURIComponent(x)]=decodeURIComponent(Z)}}),$}function Tn(G){const $=G.indexOf("?");if(!$)return"";const R=G.indexOf("#",$);return G.substring($,R>0?R:void 0)}class jt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,R){R||(R=0);const N=this.W_;if("string"==typeof $)for(let xe=0;xe<16;xe++)N[xe]=$.charCodeAt(R)<<24|$.charCodeAt(R+1)<<16|$.charCodeAt(R+2)<<8|$.charCodeAt(R+3),R+=4;else for(let xe=0;xe<16;xe++)N[xe]=$[R]<<24|$[R+1]<<16|$[R+2]<<8|$[R+3],R+=4;for(let xe=16;xe<80;xe++){const ht=N[xe-3]^N[xe-8]^N[xe-14]^N[xe-16];N[xe]=4294967295&(ht<<1|ht>>>31)}let he,Le,x=this.chain_[0],Z=this.chain_[1],Ie=this.chain_[2],Y=this.chain_[3],ue=this.chain_[4];for(let xe=0;xe<80;xe++){xe<40?xe<20?(he=Y^Z&(Ie^Y),Le=1518500249):(he=Z^Ie^Y,Le=1859775393):xe<60?(he=Z&Ie|Y&(Z|Ie),Le=2400959708):(he=Z^Ie^Y,Le=3395469782);const ht=(x<<5|x>>>27)+he+ue+Le+N[xe]&4294967295;ue=Y,Y=Ie,Ie=4294967295&(Z<<30|Z>>>2),Z=x,x=ht}this.chain_[0]=this.chain_[0]+x&4294967295,this.chain_[1]=this.chain_[1]+Z&4294967295,this.chain_[2]=this.chain_[2]+Ie&4294967295,this.chain_[3]=this.chain_[3]+Y&4294967295,this.chain_[4]=this.chain_[4]+ue&4294967295}update($,R){if(null==$)return;void 0===R&&(R=$.length);const N=R-this.blockSize;let x=0;const Z=this.buf_;let Ie=this.inbuf_;for(;x<R;){if(0===Ie)for(;x<=N;)this.compress_($,x),x+=this.blockSize;if("string"==typeof $){for(;x<R;)if(Z[Ie]=$.charCodeAt(x),++Ie,++x,Ie===this.blockSize){this.compress_(Z),Ie=0;break}}else for(;x<R;)if(Z[Ie]=$[x],++Ie,++x,Ie===this.blockSize){this.compress_(Z),Ie=0;break}}this.inbuf_=Ie,this.total_+=R}digest(){const $=[];let R=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let x=this.blockSize-1;x>=56;x--)this.buf_[x]=255&R,R/=256;this.compress_(this.buf_);let N=0;for(let x=0;x<5;x++)for(let Z=24;Z>=0;Z-=8)$[N]=this.chain_[x]>>Z&255,++N;return $}}function At(G,$){const R=new et(G,$);return R.subscribe.bind(R)}class et{constructor($,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{$(this)}).catch(N=>{this.error(N)})}next($){this.forEachObserver(R=>{R.next($)})}error($){this.forEachObserver(R=>{R.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,R,N){let x;if(void 0===$&&void 0===R&&void 0===N)throw new Error("Missing Observer.");x=function kn(G,$){if("object"!=typeof G||null===G)return!1;for(const R of $)if(R in G&&"function"==typeof G[R])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:R,complete:N},void 0===x.next&&(x.next=_n),void 0===x.error&&(x.error=_n),void 0===x.complete&&(x.complete=_n);const Z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),Z}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,$)}sendOne($,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{R(this.observers[$])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _n(){}const Fn=function(G,$,R,N){let x;if(N<$?x="at least "+$:N>R&&(x=0===R?"none":"no more than "+R),x)throw new Error(G+" failed: Was called with "+N+(1===N?" argument.":" arguments.")+" Expects "+x+".")};function Qn(G,$){return`${G} failed: ${$} argument `}function Sn(G,$,R,N){if((!N||R)&&"function"!=typeof R)throw new Error(Qn(G,$)+"must be a valid function.")}function Nt(G,$,R,N){if((!N||R)&&("object"!=typeof R||null===R))throw new Error(Qn(G,$)+"must be a valid context object.")}const lr=function(G){const $=[];let R=0;for(let N=0;N<G.length;N++){let x=G.charCodeAt(N);if(x>=55296&&x<=56319){const Z=x-55296;N++,j(N<G.length,"Surrogate pair missing trail surrogate."),x=65536+(Z<<10)+(G.charCodeAt(N)-56320)}x<128?$[R++]=x:x<2048?($[R++]=x>>6|192,$[R++]=63&x|128):x<65536?($[R++]=x>>12|224,$[R++]=x>>6&63|128,$[R++]=63&x|128):($[R++]=x>>18|240,$[R++]=x>>12&63|128,$[R++]=x>>6&63|128,$[R++]=63&x|128)}return $},Qt=function(G){let $=0;for(let R=0;R<G.length;R++){const N=G.charCodeAt(R);N<128?$++:N<2048?$+=2:N>=55296&&N<=56319?($+=4,R++):$+=3}return $},Jt=1e3,sr=2,Hn=144e5,fr=.5;function nr(G,$=Jt,R=sr){const N=$*Math.pow(R,G),x=Math.round(fr*N*(Math.random()-.5)*2);return Math.min(Hn,N+x)}function ti(G){return G&&G._delegate?G._delegate:G}},1944:(Mt,Pe,O)=>{var h=O(4650);let j=null;function L(){return j}class we{}const ie=new h.OlP("DocumentToken");let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function _e(){return(0,h.LFG)(K)}()},providedIn:"platform"}),n})();const Ee=new h.OlP("Location Initialized");let K=(()=>{class n extends Ce{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){W()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){W()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Q(){return new K((0,h.LFG)(ie))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let ft=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ne)},providedIn:"root"}),n})();const ve=new h.OlP("appBaseHref");let Ne=(()=>{class n extends ft{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const l=this.prepareExternalUrl(i+$e(s));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){const l=this.prepareExternalUrl(i+$e(s));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ce),h.LFG(ve,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Be=(()=>{class n extends ft{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Oe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let l=this.prepareExternalUrl(i+$e(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){let l=this.prepareExternalUrl(i+$e(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ce),h.LFG(ve,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ze(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ke(Re(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Re(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Oe,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(h.LFG(ft))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Se(){return new qe((0,h.LFG)(ft))}()},providedIn:"root"}),n})();function Re(n){return n.replace(/\/index.html$/,"")}const vr=/\s+/,pt=[];let an=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=pt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(vr):pt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(vr):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(vr).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ni{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ni(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===s?void 0:s);else if(null!==s){const d=r.get(s);r.move(d,l),Kn(d,i)}});for(let i=0,s=r.length;i<s;i++){const d=r.get(i).context;d.index=i,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Kn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kn(n,e){n.context.$implicit=e.item}let Ls=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Fo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Fo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dn{constructor(){this.$implicit=null,this.ngIf=null}}function Fo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class va{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Lo{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Vs=new Lo,Bs=new va;let Vi=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Vs;if((0,h.F4k)(t))return Bs;throw function Yr(n,e){return new h.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const He="browser";function cr(n){return n===He}let Am=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new By((0,h.LFG)(ie),window)}),n})();class By{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function xm(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=wa(this.window.history)||wa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function wa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $m extends we{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Tu extends $m{static makeCurrent(){!function ee(n){j||(j=n)}(new Tu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function il(){return lc=lc||document.querySelector("base"),lc?lc.getAttribute("href"):null}();return null==t?null:function gw(n){Sa=Sa||document.createElement("a"),Sa.setAttribute("href",n);const e=Sa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){lc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function oo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Sa,lc=null;const _w=new h.OlP("TRANSITION_ID"),Gm=[{provide:h.ip1,useFactory:function zm(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[_w,ie,h.zs3],multi:!0}];let jh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Hh=new h.OlP("EventManagerPlugins");let $h=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const l=i[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Hh),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Su{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Wm=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),sl=(()=>{class n extends Wm{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Aa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ol=/%COMP%/g,hc=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Au(n,e){return e.flat(100).map(t=>t.replace(ol,n))}function Zy(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ki=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Gh(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Mu?i.applyToHost(t):i instanceof fc&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const l=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(r.encapsulation){case h.ifc.Emulated:s=new Mu(l,d,r,this.appId,p);break;case h.ifc.ShadowDom:return new Or(l,d,t,r);default:s=new fc(l,d,r,p)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($h),h.LFG(sl),h.LFG(h.AFp),h.LFG(hc))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Gh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Aa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Wh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Wh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Aa[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Aa[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Zy(r)):this.eventManager.addEventListener(e,t,Zy(r))}}function Wh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Or extends Gh{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Au(i.id,i.styles);for(const l of s){const d=document.createElement("style");d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fc extends Gh{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Au(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Mu extends fc{constructor(e,t,r,i,s){const l=i+"-"+r.id;super(e,t,r,s,l),this.contentAttr=function yw(n){return"_ngcontent-%COMP%".replace(ol,n)}(l),this.hostAttr=function Yy(n){return"_nghost-%COMP%".replace(ol,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let qm=(()=>{class n extends Su{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const pc=["alt","control","meta","shift"],Km={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ym={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Zm=(()=>{class n extends Su{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),l=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),pc.forEach(_=>{const E=r.indexOf(_);E>-1&&(r.splice(E,1),l+=_+".")}),l+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=i,p.fullKey=l,p}static matchEventFullKeyCode(t,r){let i=Km[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),pc.forEach(l=>{l!==i&&(0,Ym[l])(t)&&(s+=l+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Xy=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:He},{provide:h.g9A,useValue:function ll(){Tu.makeCurrent()},multi:!0},{provide:ie,useFactory:function Kh(){return(0,h.RDi)(document),document},deps:[]}]),mc=new h.OlP(""),gc=[{provide:h.rWj,useClass:class Da{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let s=i.length,l=!1;const d=function(p){l=l||p,s--,0==s&&r(l)};i.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Ma=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function qh(){return new h.qLn},deps:[]},{provide:Hh,useClass:qm,multi:!0,deps:[ie,h.R0b,h.Lbi]},{provide:Hh,useClass:Zm,multi:!0,deps:[ie]},{provide:ki,useClass:ki,deps:[$h,sl,h.AFp,hc]},{provide:h.FYo,useExisting:ki},{provide:Wm,useExisting:sl},{provide:sl,useClass:sl,deps:[ie]},{provide:$h,useClass:$h,deps:[Hh,h.R0b]},{provide:class Uy{},useClass:jh,deps:[]},[]];let Ra=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:_w,useExisting:h.AFp},Gm]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(mc,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...Ma,...gc],imports:[fe,h.hGG]}),n})(),Xm=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ul(){return new Xm((0,h.LFG)(ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(Jh),r},providedIn:"root"}),n})(),Jh=(()=>{class n extends Ou{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${h.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${h.JZr})`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Nu(n){return new Jh(n.get(ie))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var mr=O(8996),hs=O(3269);function ct(...n){const e=(0,hs.yG)(n);return(0,mr.D)(n,e)}var $n=O(7579);class fs extends $n.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Fu=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var si=O(9751);const{isArray:ng}=Array,{getPrototypeOf:rv,prototype:ef,keys:fl}=Object;function yc(n){if(1===n.length){const e=n[0];if(ng(e))return{args:e,keys:null};if(function Pa(n){return n&&"object"==typeof n&&rv(n)===ef}(e)){const t=fl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ka=O(4671),It=O(4004);const{isArray:tf}=Array;function Ts(n){return(0,It.U)(e=>function rg(n,e){return tf(e)?n(...e):n(e)}(n,e))}function vc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var or=O(5403),nf=O(9672);function bc(...n){const e=(0,hs.yG)(n),t=(0,hs.jO)(n),{args:r,keys:i}=yc(n);if(0===r.length)return(0,mr.D)([],e);const s=new si.y(function Ho(n,e,t=ka.y){return r=>{pl(e,()=>{const{length:i}=n,s=new Array(i);let l=i,d=i;for(let p=0;p<i;p++)pl(e,()=>{const _=(0,mr.D)(n[p],e);let E=!1;_.subscribe((0,or.x)(r,T=>{s[p]=T,E||(E=!0,d--),d||r.next(t(s.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>vc(i,l):ka.y));return t?s.pipe(Ts(t)):s}function pl(n,e,t){n?(0,nf.f)(t,n,e):e()}var ml=O(8189);function Oa(...n){return function iv(){return(0,ml.J)(1)}()((0,mr.D)(n,(0,hs.yG)(n)))}var Hs=O(8421);function sv(n){return new si.y(e=>{(0,Hs.Xf)(n()).subscribe(e)})}var rf=O(9635),$s=O(576);function gl(n,e){const t=(0,$s.m)(n)?n:()=>n,r=i=>i.error(t());return new si.y(e?i=>e.schedule(r,0,i):r)}var Qi=O(515),ps=O(727),Nr=O(4482);function _l(){return(0,Nr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,or.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ov extends si.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Nr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ps.w0;const t=this.getSubject();e.add(this.source.subscribe((0,or.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ps.w0.EMPTY)}return e}refCount(){return _l()(this)}}function Xn(n,e){return(0,Nr.e)((t,r)=>{let i=null,s=0,l=!1;const d=()=>l&&!i&&r.complete();t.subscribe((0,or.x)(r,p=>{i?.unsubscribe();let _=0;const E=s++;(0,Hs.Xf)(n(p,E)).subscribe(i=(0,or.x)(r,T=>r.next(e?e(p,T,E,_++):T),()=>{i=null,d()}))},()=>{l=!0,d()}))})}function Oi(n){return n<=0?()=>Qi.E:(0,Nr.e)((e,t)=>{let r=0;e.subscribe((0,or.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function uo(...n){const e=(0,hs.yG)(n);return(0,Nr.e)((t,r)=>{(e?Oa(n,t,e):Oa(n,t)).subscribe(r)})}function Hr(n,e){return(0,Nr.e)((t,r)=>{let i=0;t.subscribe((0,or.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Fr=O(5577);function sf(n){return(0,Nr.e)((e,t)=>{let r=!1;e.subscribe((0,or.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ig(n=Lu){return(0,Nr.e)((e,t)=>{let r=!1;e.subscribe((0,or.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Lu(){return new Fu}function zs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((i,s)=>n(i,s,r)):ka.y,Oi(1),t?sf(e):ig(()=>new Fu))}function Na(n,e){return(0,$s.m)(e)?(0,Fr.z)(n,e,1):(0,Fr.z)(n,1)}var Zr=O(8505);function Gs(n){return(0,Nr.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,or.x)(t,void 0,void 0,l=>{s=(0,Hs.Xf)(n(l,Gs(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Vu(n,e){return(0,Nr.e)(function Ew(n,e,t,r,i){return(s,l)=>{let d=t,p=e,_=0;s.subscribe((0,or.x)(l,E=>{const T=_++;p=d?n(p,E,T):(d=!0,E),r&&l.next(p)},i&&(()=>{d&&l.next(p),l.complete()})))}}(n,e,arguments.length>=2,!0))}function Bu(n){return n<=0?()=>Qi.E:(0,Nr.e)((e,t)=>{let r=[];e.subscribe((0,or.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function yl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((i,s)=>n(i,s,r)):ka.y,Bu(1),t?sf(e):ig(()=>new Fu))}function af(n){return(0,It.U)(()=>n)}function vl(n){return(0,Nr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const qt="primary",$o=Symbol("RouteTitle");class av{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bl(n){return new av(n)}function og(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const l=r[s],d=n[s];if(l.startsWith(":"))i[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ws(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ag(n[i],e[i]))return!1;return!0}function ag(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function lg(n){return Array.prototype.concat.apply([],n)}function cf(n){return n.length>0?n[n.length-1]:null}function gi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function $r(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,mr.D)(Promise.resolve(n)):ct(n)}const El=!1,ug={exact:function uf(n,e,t){if(!Go(n.segments,e.segments)||!wl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!uf(n.children[r],e.children[r],t))return!1;return!0},subset:hg},Uu={exact:function Ec(n,e){return Ws(n,e)},subset:function dg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ag(n[t],e[t]))},ignored:()=>!0};function di(n,e,t){return ug[t.paths](n.root,e.root,t.matrixParams)&&Uu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function hg(n,e,t){return df(n,e,e.segments,t)}function df(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Go(i,t)||e.hasChildren()||!wl(i,t,r))}if(n.segments.length===t.length){if(!Go(n.segments,t)||!wl(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!hg(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Go(n.segments,i)&&wl(n.segments,i,r)&&n.children[qt])&&df(n.children[qt],e,s,r)}}function wl(n,e,t){return e.every((r,i)=>Uu[t](n[i].parameters,r.parameters))}class Ss{constructor(e=new Dn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bl(this.queryParams)),this._queryParamMap}toString(){return ju.serialize(this)}}class Dn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,gi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cl(this)}}class zo{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bl(this.parameters)),this._parameterMap}toString(){return fg(this)}}function Go(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ho=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new ff},providedIn:"root"}),n})();class ff{parse(e){const t=new D(e);return new Ss(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Il(e.root,!0)}`,r=function pg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${La(t)}=${La(i)}`).join("&"):`${La(t)}=${La(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function pf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ju=new ff;function Cl(n){return n.segments.map(e=>fg(e)).join("/")}function Il(n,e){if(!n.hasChildren())return Cl(n);if(e){const t=n.children[qt]?Il(n.children[qt],!1):"",r=[];return gi(n.children,(i,s)=>{s!==qt&&r.push(`${s}:${Il(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function hf(n,e){let t=[];return gi(n.children,(r,i)=>{i===qt&&(t=t.concat(e(r,i)))}),gi(n.children,(r,i)=>{i!==qt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===qt?[Il(n.children[qt],!1)]:[`${i}:${Il(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qt]?`${Cl(n)}/${t[0]}`:`${Cl(n)}/(${t.join("//")})`}}function Fa(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function La(n){return Fa(n).replace(/%3B/gi,";")}function Wo(n){return Fa(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tl(n){return decodeURIComponent(n)}function mf(n){return Tl(n.replace(/\+/g,"%20"))}function fg(n){return`${Wo(n.path)}${function gf(n){return Object.keys(n).map(e=>`;${Wo(e)}=${Wo(n[e])}`).join("")}(n.parameters)}`}const cv=/^[^\/()?;=#]+/;function Hu(n){const e=n.match(cv);return e?e[0]:""}const b=/^[^=?&#]+/,y=/^[^&#]+/;class D{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[qt]=new Dn(e,t)),r}parseSegment(){const e=Hu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,El);return this.capture(e),new zo(Tl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Hu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Hu(this.remaining);i&&(r=i,this.capture(r))}e[Tl(t)]=Tl(r)}parseQueryParam(e){const t=function m(n){const e=n.match(b);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function w(n){const e=n.match(y);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=mf(t),s=mf(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,El);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=qt);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[qt]:new Dn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,El)}}function P(n){return n.segments.length>0?new Dn([],{[qt]:n}):n}function J(n){const e={};for(const r of Object.keys(n.children)){const s=J(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function pe(n){if(1===n.numberOfChildren&&n.children[qt]){const e=n.children[qt];return new Dn(n.segments.concat(e.segments),e.children)}return n}(new Dn(n.segments,e))}function Qe(n){return n instanceof Ss}const dt=!1;function fo(n,e,t,r,i){if(0===t.length)return Ds(e.root,e.root,e.root,r,i);const s=function Cc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $u(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return gi(s.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...i,{outlets:d}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===l?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?t=!0:".."===d?e++:""!=d&&i.push(d))}),i):[...i,s]},[]);return new $u(t,e,r)}(t);return s.toRoot()?Ds(e.root,e.root,new Dn([],{}),r,i):function l(p){const _=function Gu(n,e,t,r){if(n.isAbsolute)return new Ko(e.root,!0,0);if(-1===r)return new Ko(t,t===e.root,0);return function Sl(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new h.vHH(4005,dt&&"Invalid number of '../'");i=r.segments.length}return new Ko(r,!1,i-s)}(t,r+(qo(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),E=_.processChildren?Yo(_.segmentGroup,_.index,s.commands):Dl(_.segmentGroup,_.index,s.commands);return Ds(e.root,_.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function qo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wc(n){return"object"==typeof n&&null!=n&&n.outlets}function Ds(n,e,t,r,i){let l,s={};r&&gi(r,(p,_)=>{s[_]=Array.isArray(p)?p.map(E=>`${E}`):`${p}`}),l=n===e?t:_f(n,e,t);const d=P(J(l));return new Ss(d,s,i)}function _f(n,e,t){const r={};return gi(n.children,(i,s)=>{r[s]=i===e?t:_f(i,e,t)}),new Dn(n.segments,r)}class $u{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qo(r[0]))throw new h.vHH(4003,dt&&"Root segment cannot have matrix parameters");const i=r.find(wc);if(i&&i!==cf(r))throw new h.vHH(4004,dt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ko{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Dl(n,e,t){if(n||(n=new Dn([],{})),0===n.segments.length&&n.hasChildren())return Yo(n,e,t);const r=function uv(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const l=n.segments[i],d=t[r];if(wc(d))break;const p=`${d}`,_=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!dv(p,_,l))return s;r+=2}else{if(!dv(p,{},l))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Dn(n.segments.slice(0,r.pathIndex),{});return s.children[qt]=new Dn(n.segments.slice(r.pathIndex),n.children),Yo(s,0,i)}return r.match&&0===i.length?new Dn(n.segments,{}):r.match&&!n.hasChildren()?yf(n,e,t):r.match?Yo(n,0,i):yf(n,e,t)}function Yo(n,e,t){if(0===t.length)return new Dn(n.segments,{});{const r=function Wu(n){return wc(n[0])?n[0].outlets:{[qt]:n}}(t),i={};if(!r[qt]&&n.children[qt]&&1===n.numberOfChildren&&0===n.children[qt].segments.length){const s=Yo(n.children[qt],e,t);return new Dn(n.segments,s.children)}return gi(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[l]=Dl(n.children[l],e,s))}),gi(n.children,(s,l)=>{void 0===r[l]&&(i[l]=s)}),new Dn(n.segments,i)}}function yf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(wc(s)){const p=vf(s.outlets);return new Dn(r,p)}if(0===i&&qo(t[0])){r.push(new zo(n.segments[e].path,ww(t[0]))),i++;continue}const l=wc(s)?s.outlets[qt]:`${s}`,d=i<t.length-1?t[i+1]:null;l&&d&&qo(d)?(r.push(new zo(l,ww(d))),i+=2):(r.push(new zo(l,{})),i++)}return new Dn(r,{})}function vf(n){const e={};return gi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=yf(new Dn([],{}),0,t))}),e}function ww(n){const e={};return gi(n,(t,r)=>e[r]=`${t}`),e}function dv(n,e,t){return n==t.path&&Ws(e,t.parameters)}const bf="imperative";class Zo{constructor(e,t){this.id=e,this.url=t}}class hv extends Zo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Al extends Zo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ef extends Zo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ic extends Zo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class wf extends Zo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qu extends Zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vA extends Zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bA extends Zo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class O1 extends Zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EA extends Zo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fv{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wA{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mg{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pv{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let CA=(()=>{class n{createUrlTree(t,r,i,s,l,d){return fo(t||r.root,i,s,l,d)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),TA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return CA.\u0275fac(e)},providedIn:"root"}),n})();class Tw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_v(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_v(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=po(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return po(e,this._root).map(t=>t.value)}}function _v(n,e){if(n===e.value)return e;for(const t of e.children){const r=_v(n,t);if(r)return r}return null}function po(n,e){if(n===e.value)return[e];for(const t of e.children){const r=po(n,t);if(r.length)return r.unshift(e),r}return[]}class ms{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ku(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Sw extends Tw{constructor(e,t){super(e),this.snapshot=t,yv(this,e)}toString(){return this.snapshot.toString()}}function Dw(n,e){const t=function SA(n,e){const l=new gg([],{},{},"",{},qt,e,null,n.root,-1,{});return new Mw("",new ms(l,[]))}(n,e),r=new fs([new zo("",{})]),i=new fs({}),s=new fs({}),l=new fs({}),d=new fs(""),p=new Yu(r,i,l,d,s,qt,e,t.root);return p.snapshot=t.root,new Sw(new ms(p,[]),t)}class Yu{constructor(e,t,r,i,s,l,d,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=d,this.title=this.data?.pipe((0,It.U)(_=>_[$o]))??ct(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>bl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>bl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Aw(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function xw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class gg{get title(){return this.data?.[$o]}constructor(e,t,r,i,s,l,d,p,_,E,T){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=d,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=E,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mw extends Tw{constructor(e,t){super(t),this.url=e,yv(this,t)}toString(){return Rw(this._root)}}function yv(n,e){e.value._routerState=n,e.children.forEach(t=>yv(n,t))}function Rw(n){const e=n.children.length>0?` { ${n.children.map(Rw).join(", ")} } `:"";return`${n.value}${e}`}function Zu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ws(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ws(e.params,t.params)||n.params.next(t.params),function lf(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ws(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ws(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mo(n,e){const t=Ws(n.params,e.params)&&function lv(n,e){return Go(n,e)&&n.every((t,r)=>Ws(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||mo(n.parent,e.parent))}function Qu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Pw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qu(n,r,i);return Qu(n,r)})}(n,e,t);return new ms(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(d=>Qu(n,d)),l}}const r=function kw(n){return new Yu(new fs(n.url),new fs(n.params),new fs(n.queryParams),new fs(n.fragment),new fs(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Qu(n,s));return new ms(r,i)}}const Ow="ngNavigationCancelingError";function DA(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Qe(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AA(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function AA(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ow]=!0,r.cancellationCode=e,t&&(r.url=t),r}function _g(n){return yg(n)&&Qe(n.url)}function yg(n){return n&&n[Ow]}class N1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vg,this.attachRef=null}}let vg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new N1,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const If=!1;let vv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=qt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(vg),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,If);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,If);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,If);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,If);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new xA(t,d,i.injector);if(r&&function MA(n){return!!n.resolveComponentFactory}(r)){const _=r.resolveComponentFactory(l);this.activated=i.createComponent(_,i.length,p)}else this.activated=i.createComponent(l,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class xA{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yu?this.route:e===vg?this.childContexts:this.parent.get(e,t)}}let bg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[vv],encapsulation:2}),n})();function bv(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Eg(n){const e=n.children&&n.children.map(Eg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qt&&(t.component=bg),t}function qs(n){return n.outlet||qt}function Lw(n,e){const t=n.filter(r=>qs(r)===e);return t.push(...n.filter(r=>qs(r)!==e)),t}function Tf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Vw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ku(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,i[l],r),delete i[l]}),gi(i,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ku(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);if(r&&r.outlet){const l=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ku(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ku(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mg(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Zu(i),i===s)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),Zu(d.route.value),this.activateChildRoutes(e,null,l.children)}else{const d=Tf(i.snapshot),p=d?.get(h._Vd)??null;l.attachRef=null,l.route=i,l.resolver=p,l.injector=d,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class NA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wv{constructor(e,t){this.component=e,this.route=t}}function Sf(n,e,t){const r=n._root;return Xu(r,e?e._root:null,t,[r.value])}function Sc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Xu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ku(e);return n.children.forEach(l=>{(function Bw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function L1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Go(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Go(n.url,e.url)||!Ws(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mo(n,e)||!Ws(n.queryParams,e.queryParams);default:return!mo(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new NA(r)):(s.data=l.data,s._resolvedData=l._resolvedData),Xu(n,e,s.component?d?d.children:null:t,r,i),p&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new wv(d.outlet.component,l))}else l&&Df(e,d,i),i.canActivateChecks.push(new NA(r)),Xu(n,null,s.component?d?d.children:null:t,r,i)})(l,s[l.value.outlet],t,r.concat([l.value]),i),delete s[l.value.outlet]}),gi(s,(l,d)=>Df(l,t.getContext(d),i)),i}function Df(n,e,t){const r=Ku(n),i=n.value;gi(r,(s,l)=>{Df(s,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new wv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ju(n){return"function"==typeof n}function Va(n){return n instanceof Fu||"EmptyError"===n?.name}const wg=Symbol("INITIAL_VALUE");function xl(){return Xn(n=>bc(n.map(e=>e.pipe(Oi(1),uo(wg)))).pipe((0,It.U)(e=>{for(const t of e)if(!0!==t){if(t===wg)return wg;if(!1===t||t instanceof Ss)return t}return!0}),Hr(e=>e!==wg),Oi(1)))}function xv(n){return(0,rf.z)((0,Zr.b)(e=>{if(Qe(e))throw DA(0,e)}),(0,It.U)(e=>!0===e))}const Mv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $w(n,e,t,r,i){const s=Rv(n,e,t);return s.matched?function ed(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ct(i.map(l=>{const d=Sc(l,n);return $r(function Sv(n){return n&&Ju(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(xl(),xv()):ct(!0)}(r=bv(e,r),e,t).pipe((0,It.U)(l=>!0===l?s:{...Mv})):ct(s)}function Rv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Mv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||og)(t,n,e);if(!i)return{...Mv};const s={};gi(i.posParams,(d,p)=>{s[p]=d.path});const l=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function td(n,e,t,r){if(t.length>0&&function HA(n,e,t){return t.some(r=>Pv(n,e,r)&&qs(r)!==qt)}(n,t,r)){const s=new Dn(e,function zw(n,e,t,r){const i={};i[qt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&qs(s)!==qt){const l=new Dn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[qs(s)]=l}return i}(n,e,r,new Dn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function Gw(n,e,t){return t.some(r=>Pv(n,e,r))}(n,t,r)){const s=new Dn(n.segments,function jA(n,e,t,r,i){const s={};for(const l of r)if(Pv(n,t,l)&&!i[qs(l)]){const d=new Dn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[qs(l)]=d}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new Dn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Pv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ww(n,e,t,r){return!!(qs(n)===r||r!==qt&&Pv(e,t,n))&&("**"===n.path||Rv(e,n,t).matched)}function nd(n,e,t){return 0===e.length&&!n.children[t]}const Tg=!1;class Ba{constructor(e){this.segmentGroup=e||null}}class rd{constructor(e){this.urlTree=e}}function Af(n){return gl(new Ba(n))}function kv(n){return gl(new rd(n))}class qw{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=td(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,qt).pipe((0,It.U)(s=>this.createUrlTree(J(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gs(s=>{if(s instanceof rd)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ba?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,qt).pipe((0,It.U)(i=>this.createUrlTree(J(i),e.queryParams,e.fragment))).pipe(Gs(i=>{throw i instanceof Ba?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,Tg)}createUrlTree(e,t,r){const i=P(e);return new Ss(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(s=>new Dn([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,mr.D)(i).pipe(Na(s=>{const l=r.children[s],d=Lw(t,s);return this.expandSegmentGroup(e,d,l,s).pipe((0,It.U)(p=>({segment:p,outlet:s})))}),Vu((s,l)=>(s[l.outlet]=l.segment,s),{}),yl())}expandSegment(e,t,r,i,s,l){return(0,mr.D)(r).pipe(Na(d=>this.expandSegmentAgainstRoute(e,t,r,d,i,s,l).pipe(Gs(_=>{if(_ instanceof Ba)return ct(null);throw _}))),zs(d=>!!d),Gs((d,p)=>{if(Va(d))return nd(t,i,s)?ct(new Dn([],{})):Af(t);throw d}))}expandSegmentAgainstRoute(e,t,r,i,s,l,d){return Ww(i,t,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l):Af(t):Af(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kv(s):this.lineralizeSegments(r,s).pipe((0,Fr.z)(l=>{const d=new Dn(l,{});return this.expandSegment(e,d,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:E}=Rv(t,i,s);if(!d)return Af(t);const T=this.applyRedirectCommands(p,i.redirectTo,E);return i.redirectTo.startsWith("/")?kv(T):this.lineralizeSegments(i,T).pipe((0,Fr.z)(A=>this.expandSegment(e,t,r,A.concat(_),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=bv(r,e),r.loadChildren?(r._loadedRoutes?ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,It.U)(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new Dn(i,{})))):ct(new Dn(i,{}))):$w(t,r,i,e).pipe(Xn(({matched:l,consumedSegments:d,remainingSegments:p})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Fr.z)(E=>{const T=E.injector??e,A=E.routes,{segmentGroup:k,slicedSegments:V}=td(t,d,p,A),q=new Dn(k.segments,k.children);if(0===V.length&&q.hasChildren())return this.expandChildren(T,A,q).pipe((0,It.U)(tt=>new Dn(d,tt)));if(0===A.length&&0===V.length)return ct(new Dn(d,{}));const re=qs(r)===s;return this.expandSegment(T,q,A,V,re?qt:s,!0).pipe((0,It.U)(Ke=>new Dn(d.concat(Ke.segments),Ke.children)))})):Af(t)))}getChildConfig(e,t,r){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function UA(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ct(!0):ct(i.map(l=>{const d=Sc(l,n);return $r(function Iv(n){return n&&Ju(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(xl(),xv())}(e,t,r).pipe((0,Fr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Zr.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function zA(n){return gl(AA(Tg,3))}())):ct({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ct(r);if(i.numberOfChildren>1||!i.children[qt])return e.redirectTo,gl(new h.vHH(4e3,Tg));i=i.children[qt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ss(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return gi(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const d=i.substring(1);r[s]=t[d]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let l={};return gi(t.children,(d,p)=>{l[p]=this.createSegmentGroup(e,d,r,i)}),new Dn(s,l)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,Tg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Ov{}class xf{constructor(e,t,r,i,s,l,d){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=l,this.urlSerializer=d}recognize(){const e=td(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,qt).pipe((0,It.U)(t=>{if(null===t)return null;const r=new gg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ms(r,t),s=new Mw(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=Aw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,mr.D)(Object.keys(r.children)).pipe(Na(i=>{const s=r.children[i],l=Lw(t,i);return this.processSegmentGroup(e,l,s,i)}),Vu((i,s)=>i&&s?(i.push(...s),i):null),function sg(n,e=!1){return(0,Nr.e)((t,r)=>{let i=0;t.subscribe((0,or.x)(r,s=>{const l=n(s,i++);(l||e)&&r.next(s),!l&&r.complete()}))})}(i=>null!==i),sf(null),yl(),(0,It.U)(i=>{if(null===i)return null;const s=Yw(i);return function qA(n){n.sort((e,t)=>e.value.outlet===qt?-1:t.value.outlet===qt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,mr.D)(t).pipe(Na(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,s)),zs(l=>!!l),Gs(l=>{if(Va(l))return nd(r,i,s)?ct([]):ct(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!Ww(t,r,i,s))return ct(null);let l;if("**"===t.path){const d=i.length>0?cf(i).parameters:{},p=Qw(r)+i.length;l=ct({snapshot:new gg(i,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qo(t),qs(t),t.component??t._loadedComponent??null,t,Zw(r),p,Xw(t)),consumedSegments:[],remainingSegments:[]})}else l=$w(r,t,i,e).pipe((0,It.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:E})=>{if(!d)return null;const T=Qw(r)+p.length;return{snapshot:new gg(p,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qo(t),qs(t),t.component??t._loadedComponent??null,t,Zw(r),T,Xw(t)),consumedSegments:p,remainingSegments:_}}));return l.pipe(Xn(d=>{if(null===d)return ct(null);const{snapshot:p,consumedSegments:_,remainingSegments:E}=d;e=t._injector??e;const T=t._loadedInjector??e,A=function KA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:k,slicedSegments:V}=td(r,_,E,A.filter(re=>void 0===re.redirectTo));if(0===V.length&&k.hasChildren())return this.processChildren(T,A,k).pipe((0,It.U)(re=>null===re?null:[new ms(p,re)]));if(0===A.length&&0===V.length)return ct([new ms(p,[])]);const q=qs(t)===s;return this.processSegment(T,A,k,V,q?qt:s).pipe((0,It.U)(re=>null===re?null:[new ms(p,re)]))}))}}function YA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Yw(n){const e=[],t=new Set;for(const r of n){if(!YA(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Yw(r.children);e.push(new ms(r.value,i))}return e.filter(r=>!t.has(r))}function Zw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Qo(n){return n.data||{}}function Xw(n){return n.resolve||{}}function Fv(n){return"string"==typeof n.title||null===n.title}function Lv(n){return Xn(e=>{const t=n(e);return t?(0,mr.D)(t).pipe((0,It.U)(()=>e)):ct(e)})}const id=new h.OlP("ROUTES");let Bv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=$r(t.loadComponent()).pipe((0,It.U)(tC),(0,Zr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),vl(()=>{this.componentLoaders.delete(t)})),i=new ov(r,()=>new $n.x).pipe(_l());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,It.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,_,E=!1;Array.isArray(d)?_=d:(p=d.create(t).injector,_=lg(p.get(id,[],h.XFs.Self|h.XFs.Optional)));return{routes:_.map(Eg),injector:p}}),vl(()=>{this.childrenLoaders.delete(r)})),l=new ov(s,()=>new $n.x).pipe(_l());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return $r(t()).pipe((0,It.U)(tC),(0,Fr.z)(r=>r instanceof h.YKP||Array.isArray(r)?ct(r):(0,mr.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tC(n){return function go(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Dg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $n.x,this.configLoader=(0,h.f3M)(Bv),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(ho),this.rootContexts=(0,h.f3M)(vg),this.navigationId=0,this.afterPreactivation=()=>ct(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new wA(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new fv(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new fs({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hr(r=>0!==r.id),(0,It.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Xn(r=>{let i=!1,s=!1;return ct(r).pipe((0,Zr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xn(l=>{const d=t.browserUrlTree.toString(),p=!t.navigated||l.extractedUrl.toString()!==d||d!==t.currentUrlTree.toString();if(!p&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const E="";return this.events.next(new Ic(l.id,t.serializeUrl(r.rawUrl),E,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Qi.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return nC(l.source)&&(t.browserUrlTree=l.extractedUrl),ct(l).pipe(Xn(E=>{const T=this.transitions?.getValue();return this.events.next(new hv(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),T!==this.transitions?.getValue()?Qi.E:Promise.resolve(E)}),function Kw(n,e,t,r){return Xn(i=>function GA(n,e,t,r,i){return new qw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,It.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Zr.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function QA(n,e,t,r,i){return(0,Fr.z)(s=>function Nv(n,e,t,r,i,s,l="emptyOnly"){return new xf(n,e,t,r,i,l,s).recognize().pipe(Xn(d=>null===d?function WA(n){return new si.y(e=>e.error(n))}(new Ov):ct(d)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,It.U)(l=>({...s,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Zr.b)(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!E.extras.skipLocationChange){const A=t.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);t.setBrowserUrl(A,E)}t.browserUrlTree=E.urlAfterRedirects}const T=new qu(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(T)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:E,extractedUrl:T,source:A,restoredState:k,extras:V}=l,q=new hv(E,this.urlSerializer.serialize(T),A,k);this.events.next(q);const re=Dw(T,this.rootComponentType).snapshot;return ct(r={...l,targetSnapshot:re,urlAfterRedirects:T,extras:{...V,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new Ic(l.id,t.serializeUrl(r.extractedUrl),E,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Qi.E}}),(0,Zr.b)(l=>{const d=new vA(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),(0,It.U)(l=>r={...l,guards:Sf(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Cg(n,e){return(0,Fr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?ct({...t,guardsResult:!0}):function VA(n,e,t,r){return(0,mr.D)(n).pipe((0,Fr.z)(i=>function BA(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ct(s.map(d=>{const p=Tf(e)??i,_=Sc(d,p);return $r(function FA(n){return n&&Ju(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,r):p.runInContext(()=>_(n,e,t,r))).pipe(zs())})).pipe(xl()):ct(!0)}(i.component,i.route,t,e,r)),zs(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Fr.z)(d=>d&&function Uw(n){return"boolean"==typeof n}(d)?function Dv(n,e,t,r){return(0,mr.D)(e).pipe(Na(i=>Oa(function Dc(n,e){return null!==n&&e&&e(new Cw(n)),ct(!0)}(i.route.parent,r),function Ig(n,e){return null!==n&&e&&e(new pv(n)),ct(!0)}(i.route,r),function Av(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function Cv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>sv(()=>ct(l.guards.map(p=>{const _=Tf(l.node)??t,E=Sc(p,_);return $r(function Tv(n){return n&&Ju(n.canActivateChild)}(E)?E.canActivateChild(r,n):_.runInContext(()=>E(r,n))).pipe(zs())})).pipe(xl())));return ct(s).pipe(xl())}(n,i.path,t),function Hw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ct(!0);const i=r.map(s=>sv(()=>{const l=Tf(e)??t,d=Sc(s,l);return $r(function V1(n){return n&&Ju(n.canActivate)}(d)?d.canActivate(e,n):l.runInContext(()=>d(e,n))).pipe(zs())}));return ct(i).pipe(xl())}(n,i.route,t))),zs(i=>!0!==i,!0))}(r,s,n,e):ct(d)),(0,It.U)(d=>({...t,guardsResult:d})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Zr.b)(l=>{if(r.guardsResult=l.guardsResult,Qe(l.guardsResult))throw DA(0,l.guardsResult);const d=new bA(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Hr(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Lv(l=>{if(l.guards.canActivateChecks.length)return ct(l).pipe((0,Zr.b)(d=>{const p=new O1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Xn(d=>{let p=!1;return ct(d).pipe(function B1(n,e){return(0,Fr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ct(t);let s=0;return(0,mr.D)(i).pipe(Na(l=>function U1(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Fv(i)&&(s[$o]=i.title),function Jw(n,e,t,r){const i=function j1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ct({});const s={};return(0,mr.D)(i).pipe((0,Fr.z)(l=>function eC(n,e,t,r){const i=Tf(e)??r,s=Sc(n,i);return $r(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[l],e,t,r).pipe(zs(),(0,Zr.b)(d=>{s[l]=d}))),Bu(1),af(s),Gs(l=>Va(l)?Qi.E:gl(l)))}(s,n,e,r).pipe((0,It.U)(l=>(n._resolvedData=l,n.data=Aw(n,t).resolve,i&&Fv(i)&&(n.data[$o]=i.title),null)))}(l.route,r,n,e)),(0,Zr.b)(()=>s++),Bu(1),(0,Fr.z)(l=>s===i.length?ct(t):Qi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Zr.b)({next:()=>p=!0,complete:()=>{p||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,Zr.b)(d=>{const p=new EA(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Lv(l=>{const d=p=>{const _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Zr.b)(E=>{p.component=E}),(0,It.U)(()=>{})));for(const E of p.children)_.push(...d(E));return _};return bc(d(l.targetSnapshot.root)).pipe(sf(),Oi(1))}),Lv(()=>this.afterPreactivation()),(0,It.U)(l=>{const d=function Cf(n,e,t){const r=Qu(n,e._root,t?t._root:void 0);return new Sw(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:d}}),(0,Zr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new Vw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),Oi(1),(0,Zr.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Al(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),vl(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Gs(l=>{if(s=!0,yg(l)){_g(l)||(t.navigated=!0,t.restoreHistory(r,!0));const d=new Ef(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(d),_g(l)){const p=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),_={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||nC(r.source)};t.scheduleNavigation(p,bf,null,_,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const d=new wf(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(d);try{r.resolve(t.errorHandler(l))}catch(p){r.reject(p)}}return Qi.E}))}))}cancelNavigationTransition(t,r,i){const s=new Ef(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nC(n){return n!==bf}let rC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===qt);return r}getResolvedTitleForRoute(t){return t.data[$o]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(XA)},providedIn:"root"}),n})(),XA=(()=>{class n extends rC{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Xm))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(ex)},providedIn:"root"}),n})();class JA{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ex=(()=>{class n extends JA{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fn=new h.OlP("",{providedIn:"root",factory:()=>({})});let sC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(oC)},providedIn:"root"}),n})(),oC=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nx(n){throw n}function rx(n,e,t){return e.parse("/")}const aC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ix={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(fn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||nx,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rx,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(sC),this.routeReuseStrategy=(0,h.f3M)(iC),this.urlCreationStrategy=(0,h.f3M)(TA),this.titleStrategy=(0,h.f3M)(rC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lg((0,h.f3M)(id,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(Dg),this.urlSerializer=(0,h.f3M)(ho),this.location=(0,h.f3M)(qe),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ss,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Dw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(t);this.scheduleNavigation(d,r,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Eg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:d,preserveFragment:p}=r,_=p?this.currentUrlTree.fragment:l;let E=null;switch(d){case"merge":E={...this.currentUrlTree.queryParams,...s};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=s||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,E,_??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Qe(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bf,null,r)}navigate(t,r={skipLocationChange:!1}){return function sx(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...aC}:!1===r?{...ix}:r,Qe(t))return di(this.currentUrlTree,t,i);const s=this.parseUrl(t);return di(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,l){if(this.disposed)return Promise.resolve(!1);let d,p,_,E;return l?(d=l.resolve,p=l.reject,_=l.promise):_=new Promise((T,A)=>{d=T,p=A}),E="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(T=>Promise.reject(T))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xg=(()=>{class n{constructor(t,r,i,s,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=l,this.locationStrategy=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new $n.x;const p=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof Al&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(hi),h.Y36(Yu),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ft))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})(),ox=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,l){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=t.events.subscribe(d=>{d instanceof Al&&this.update()})}ngAfterContentInit(){ct(this.links.changes,ct(null)).pipe((0,ml.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,mr.D)(t).pipe((0,ml.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function lC(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(hi),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(xg,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&h.Suo(i,xg,5),2&t){let s;h.iGM(s=h.CRH())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.TTD]}),n})();class Uv{}let jv=(()=>{class n{constructor(t,r,i,s,l){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Hr(t=>t instanceof Al),Na(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,h.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,d=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,mr.D)(i).pipe((0,ml.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ct(null);const s=i.pipe((0,Fr.z)(l=>null===l?ct(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,mr.D)([s,l]).pipe((0,ml.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hi),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Uv),h.LFG(Bv))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pf=new h.OlP("");let cC=(()=>{class n{constructor(t,r,i,s,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Al&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();var Ks=(()=>((Ks=Ks||{})[Ks.COMPLETE=0]="COMPLETE",Ks[Ks.FAILED=1]="FAILED",Ks[Ks.REDIRECTING=2]="REDIRECTING",Ks))();const kf=!1;function Ac(n,e){return{\u0275kind:n,\u0275providers:e}}const $v=new h.OlP("",{providedIn:"root",factory:()=>!1});function Of(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(hi),i=n.get(uC);1===n.get(Mg)&&r.initialNavigation(),n.get(dC,null,h.XFs.Optional)?.setUpPreloading(),n.get(Pf,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const uC=new h.OlP(kf?"bootstrap done indicator":"",{factory:()=>new $n.x}),Mg=new h.OlP(kf?"initial navigation":"",{providedIn:"root",factory:()=>1});function ux(){let n=[];return n=kf?[{provide:h.Xts,multi:!0,useFactory:()=>{const e=(0,h.f3M)(hi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Iw(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ac(1,n)}const dC=new h.OlP(kf?"router preloader":"");function dx(n){return Ac(0,[{provide:dC,useExisting:jv},{provide:Uv,useExisting:n}])}const ad=!1,px=new h.OlP(ad?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),zv=[qe,{provide:ho,useClass:ff},hi,vg,{provide:Yu,useFactory:function Hv(n){return n.routerState.root},deps:[hi]},Bv,ad?{provide:$v,useValue:!0}:[]];function mx(){return new h.PXZ("Router",hi)}let gx=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zv,ad&&r?.enableTracing?ux().\u0275providers:[],{provide:id,multi:!0,useValue:t},{provide:px,useFactory:pC,deps:[[hi,new h.FiY,new h.tp0]]},{provide:fn,useValue:r||{}},r?.useHash?{provide:ft,useClass:Be}:{provide:ft,useClass:Ne},{provide:Pf,useFactory:()=>{const n=(0,h.f3M)(Am),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(fn),r=(0,h.f3M)(Dg),i=(0,h.f3M)(ho);return t.scrollOffset&&n.setOffset(t.scrollOffset),new cC(i,r,n,e,t)}},r?.preloadingStrategy?dx(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:mx},r?.initialNavigation?yx(r):[],[{provide:mC,useFactory:Of},{provide:h.tb,multi:!0,useExisting:mC}]]}}static forChild(t){return{ngModule:n,providers:[{provide:id,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(px,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[bg]}),n})();function pC(n){if(ad&&n)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yx(n){return["disabled"===n.initialNavigation?Ac(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(hi);return()=>{e.setUpLocationChangeListener()}}},{provide:Mg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ac(2,[{provide:Mg,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Ee,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(hi),s=e.get(uC);(function $1(n,e){n.events.pipe(Hr(t=>t instanceof Al||t instanceof Ef||t instanceof wf||t instanceof Ic),(0,It.U)(t=>t instanceof Al||t instanceof Ic?Ks.COMPLETE:t instanceof Ef&&(0===t.code||1===t.code)?Ks.REDIRECTING:Ks.FAILED),Hr(t=>t!==Ks.REDIRECTING),Oi(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Dg).afterPreactivation=()=>(r(!0),s.closed?ct(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const mC=new h.OlP(ad?"Router Initializer":"");let Pg=(()=>{class n{constructor(t){this.router=t}goToGame(){this.router.navigateByUrl("/game")}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(hi))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"neonText"],[3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"body")(1,"div")(2,"h1",0),h._uU(3,"WRITE THE SCRAMBLED WORD!"),h.qZA(),h.TgZ(4,"a",1),h.NdJ("click",function(){return r.goToGame()}),h._uU(5,"Play Game"),h.qZA()()())},styles:['body[_ngcontent-%COMP%]{background-image:linear-gradient(white,rgb(63,81,181));margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:93.2vh}.neonText[_ngcontent-%COMP%]{color:#3f51b5;text-shadow:0 0 7px #fff,0 0 10px #fff,0 0 21px #fff,0 0 42px #f09,0 0 82px #f09,0 0 92px #f09,0 0 102px #f09,0 0 151px #f09,}h1[_ngcontent-%COMP%]{font-size:60px;position:relative;padding-bottom:400px;text-align:center;font-weight:400;line-height:1;animation:_ngcontent-%COMP%_glow .5s ease-in-out infinite alternate-reverse}@keyframes _ngcontent-%COMP%_glow{to{text-shadow:0 0 4px #fff,0 0 11px #fff,0 0 19px #fff,0 0 40px #f09,0 0 80px #f09,0 0 90px #f09,0 0 100px #f09,0 0 150px #f09}0%{text-shadow:0 0 4px #fff,0 0 10px #fff,0 0 18px #fff,0 0 38px #f09,0 0 73px #f09,0 0 80px #f09,0 0 94px #f09,0 0 140px #f09}}a[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px 30px;text-transform:uppercase;text-decoration:none;color:#1999c0;letter-spacing:2px;font-size:20px;background-color:#0ff}a[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:rgb(63,81,181);z-index:-1;transition:transform .5s;transform-origin:bottom right;transform:scale(0)}a[_ngcontent-%COMP%]:hover:before{transition:transform .5s;transform-origin:top left;transform:scale(1)}a[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:transparent;border:2px solid #fff;box-sizing:border-box;z-index:-1;transition:transform .5s;transform-origin:top left;transform:scale(1)}a[_ngcontent-%COMP%]:hover:after{transition:transform .5s;transform-origin:bottom right;transform:scale(0)}']}),n})();var xc=O(9260),_i=O(5861),Xo=O(6451),Ff=O(5363),Gv=O(6063);class Wv extends $n.x{constructor(e=1/0,t=1/0,r=Gv.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:l}=this;t||(r.push(e),!i&&r.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let l=0;l<s.length&&!e.closed;l+=r?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const l=t.now();let d=0;for(let p=1;p<r.length&&r[p]<=l;p+=2)d=p;d&&r.splice(0,d+1)}}}var Lf=O(3099);function qv(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Lf.B)({connector:()=>new Wv(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function kg(n,e){return(0,$s.m)(e)?Xn(()=>n,e):Xn(()=>n)}var Kv=O(9468),Pt=O(7064),Ys=O(2011),Xi=O(259);class Zs{constructor(e){return e}}class Ua{constructor(){return(0,Xi.C6)()}}const Ji=new h.OlP("angularfire2._apps"),bx={provide:Zs,useFactory:function vx(n){return n&&1===n.length?n[0]:new Zs((0,Xi.Mq)())},deps:[[new h.FiY,Ji]]},Ex={provide:Ua,deps:[[new h.FiY,Ji]]};function K1(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Zs(r)}}let Yv=(()=>{class n{constructor(t){(0,Xi.KN)("angularfire",Pt.q4.full,"core"),(0,Xi.KN)("angularfire",Pt.q4.full,"app"),(0,Xi.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[bx,Ex]}),n})();function gC(n,...e){return{ngModule:Yv,providers:[{provide:Ji,useFactory:K1(n),multi:!0,deps:[h.R0b,h.zs3,Pt.HU,...e]}]}}const _C=(0,Pt.u3)(Xi.ZF,!0);var wr=O(6881),Jo=O(4859),B=O(2090),ea=O(1877);const Zv=new Map,_o={activated:!1,tokenObservers:[]},Qv={initialized:!1,enabled:!1};function Qr(n){return Zv.get(n)||Object.assign({},_o)}function Vf(){return Qv}const Xv="https://content-firebaseappcheck.googleapis.com/v1",Jv="exchangeDebugToken",vC={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Og{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_i.Z)(function*(){t.stop();try{t.pending=new B.BH,yield function Ng(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new B.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bi=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Uf(n,e){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,_i.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const s={method:"POST",body:JSON.stringify(e),headers:r};let l,d;try{l=yield fetch(n,s)}catch(T){throw Bi.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==l.status)throw Bi.create("fetch-status-error",{httpStatus:l.status});try{d=yield l.json()}catch(T){throw Bi.create("fetch-parse-error",{originalErrorMessage:T?.message})}const p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Bi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const _=1e3*Number(p[1]),E=Date.now();return{token:d.token,expireTimeMillis:E+_,issuedAtTimeMillis:E}})).apply(this,arguments)}const Bg="firebase-app-check-database",Hf=1,$f="firebase-app-check-store";let zf=null;function wC(n,e){return nb.apply(this,arguments)}function nb(){return(nb=(0,_i.Z)(function*(n,e){const r=(yield function EC(){return zf||(zf=new Promise((n,e)=>{try{const t=indexedDB.open(Bg,Hf);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Bi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($f,{keyPath:"compositeKey"})}}catch(t){e(Bi.create("storage-open",{originalErrorMessage:t?.message}))}}),zf)}()).transaction($f,"readwrite"),s=r.objectStore($f).put({compositeKey:n,value:e});return new Promise((l,d)=>{s.onsuccess=p=>{l()},r.onerror=p=>{var _;d(Bi.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Wf=new ea.Yd("@firebase/app-check");function qf(n,e){return(0,B.hl)()?function Gf(n,e){return wC(function IC(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sb(){return ob.apply(this,arguments)}function ob(){return(ob=(0,_i.Z)(function*(){const n=Vf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Rx={error:"UNKNOWN_ERROR"};function Px(n){return B.US.encodeString(JSON.stringify(n),!1)}function jg(n){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,_i.Z)(function*(n,e=!1){const t=n.app;!function bC(n){if(!Qr(n).activated)throw Bi.create("use-before-activation",{appName:n.name})}(t);const r=Qr(t);let s,i=r.token;if(i&&!ud(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(ud(p)?i=p:yield qf(t,void 0))}if(!e&&i&&ud(i))return{token:i.token};let d,l=!1;if(function ib(){return Vf().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Uf(function jf(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Xv}/projects/${t}/apps/${r}:${Jv}?key=${i}`,body:{debug_token:e}}}(t,yield sb()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const p=yield r.exchangeTokenPromise;return yield qf(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Qr(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Wf.warn(p.message):Wf.error(p),s=p}return i?s?d=ud(i)?{token:i.token,internalError:s}:Gg(s):(d={token:i.token},r.token=i,yield qf(t,i)):d=Gg(s),l&&function DC(n,e){const t=Qr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,d),d})).apply(this,arguments)}function $g(n,e){const t=Qr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function kx(n){const{app:e}=n,t=Qr(e);let r=t.tokenRefresher;r||(r=function zg(n){const{app:e}=n;return new Og((0,_i.Z)(function*(){let r;if(r=Qr(e).token?yield jg(n,!0):yield jg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Qr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},vC.RETRIAL_MIN_WAIT,vC.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ud(n){return n.expireTimeMillis-Date.now()>0}function Gg(n){return{token:Px(Rx),error:n}}class Ox{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Qr(this.app);for(const t of e)$g(this.app,t.next);return Promise.resolve()}}const MC="app-check-internal";!function RC(){(0,wr._registerComponent)(new Jo.wA("app-check",n=>function ta(n,e){return new Ox(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(MC).initialize()})),(0,wr._registerComponent)(new Jo.wA(MC,n=>function Yf(n){return{getToken:e=>jg(n,e),addTokenListener:e=>function SC(n,e,t,r){const{app:i}=n,s=Qr(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&ud(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),kx(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>kx(n))}(n,"INTERNAL",e),removeTokenListener:e=>$g(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,wr.registerVersion)("@firebase/app-check","0.7.0")}();class Oc{constructor(){return(0,Pt.vb)("app-check")}}typeof window<"u"&&window;const mb=new h.OlP("angularfire2.auth.use-emulator"),gb=new h.OlP("angularfire2.auth.settings"),VC=new h.OlP("angularfire2.auth.tenant-id"),_b=new h.OlP("angularfire2.auth.langugage-code"),yb=new h.OlP("angularfire2.auth.use-device-language"),vb=new h.OlP("angularfire.auth.persistence"),Zg=(n,e,t,r,i,s,l,d)=>(0,Ys.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,s&&p.useDeviceLanguage(),l)for(const[_,E]of Object.entries(l))p.settings[_]=E;return d&&p.setPersistence(d),p},[t,r,i,s,l,d]);let gd=(()=>{class n{constructor(t,r,i,s,l,d,p,_,E,T,A,k){const V=new $n.x,q=ct(void 0).pipe((0,Ff.Q)(l.outsideAngular),Xn(()=>s.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,9568)))),(0,It.U)(()=>(0,Ys.on)(t,s,r)),(0,It.U)(re=>Zg(re,s,d,_,E,T,p,A)),qv({bufferSize:1,refCount:!1}));if(function Dr(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{q.pipe(zs()).subscribe();const Ue=q.pipe(Xn(gt=>gt.getRedirectResult().then(sn=>sn,()=>null)),Pt.iC,qv({bufferSize:1,refCount:!1})),Ke=q.pipe(Xn(gt=>new si.y(sn=>({unsubscribe:s.runOutsideAngular(()=>gt.onAuthStateChanged(un=>sn.next(un),un=>sn.error(un),()=>sn.complete()))})))),tt=q.pipe(Xn(gt=>new si.y(sn=>({unsubscribe:s.runOutsideAngular(()=>gt.onIdTokenChanged(un=>sn.next(un),un=>sn.error(un),()=>sn.complete()))}))));this.authState=Ue.pipe(kg(Ke),(0,Kv.R)(l.outsideAngular),(0,Ff.Q)(l.insideAngular)),this.user=Ue.pipe(kg(tt),(0,Kv.R)(l.outsideAngular),(0,Ff.Q)(l.insideAngular)),this.idToken=this.user.pipe(Xn(gt=>gt?(0,mr.D)(gt.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(Xn(gt=>gt?(0,mr.D)(gt.getIdTokenResult()):ct(null))),this.credential=(0,Xo.T)(Ue,V,this.authState.pipe(Hr(gt=>!gt))).pipe((0,It.U)(gt=>gt?.user?gt:null),(0,Kv.R)(l.outsideAngular),(0,Ff.Q)(l.insideAngular))}return(0,Ys.pX)(this,q,s,{spy:{apply:(re,Ue,Ke)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&Ke.then(tt=>V.next(tt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ys.Dh),h.LFG(Ys.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Pt.HU),h.LFG(mb,8),h.LFG(gb,8),h.LFG(VC,8),h.LFG(_b,8),h.LFG(yb,8),h.LFG(vb,8),h.LFG(Oc,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BC=(()=>{class n{constructor(){xc.Z.registerVersion("angularfire",Pt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[gd]}),n})();var _d=O(4986);function Qg(n,e=ka.y){return n=n??UC,(0,Nr.e)((t,r)=>{let i,s=!0;t.subscribe((0,or.x)(r,l=>{const d=e(l);(s||!n(i,d))&&(s=!1,i=d,r.next(l))}))})}function UC(n,e){return n===e}var Xg=O(5032);O(9568);var Rl=O(3942);const $C="@firebase/database";let Qf="";function Pl(n){Qf=n}class Eb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,B.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,B.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class $x{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,B.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Jg=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Eb(e)}}catch{}return new $x},yd=Jg("localStorage"),GC=Jg("sessionStorage"),vd=new ea.Yd("@firebase/database"),WC=function(){let n=1;return function(){return n++}}(),wb=function(n){const e=(0,B.dS)(n),t=new B.gQ;t.update(e);const r=t.digest();return B.US.encodeByteArray(r)},Xf=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Xf.apply(null,r):e+="object"==typeof r?(0,B.Wl)(r):r,e+=" "}return e};let Ar=null,Cb=!0;const qC=function(n,e){(0,B.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(vd.logLevel=ea.in.VERBOSE,Ar=vd.log.bind(vd),e&&GC.set("logging_enabled",!0)):"function"==typeof n?Ar=n:(Ar=null,GC.remove("logging_enabled"))},Si=function(...n){if(!0===Cb&&(Cb=!1,null===Ar&&!0===GC.get("logging_enabled")&&qC(!0)),Ar){const e=Xf.apply(null,n);Ar(e)}},bd=function(n){return function(...e){Si(n,...e)}},Ib=function(...n){const e="FIREBASE INTERNAL ERROR: "+Xf(...n);vd.error(e)},yo=function(...n){const e=`FIREBASE FATAL ERROR: ${Xf(...n)}`;throw vd.error(e),new Error(e)},Ni=function(...n){const e="FIREBASE WARNING: "+Xf(...n);vd.warn(e)},e_=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},$a="[MIN_NAME]",za="[MAX_NAME]",kl=function(n,e){if(n===e)return 0;if(n===$a||e===za)return-1;if(e===$a||n===za)return 1;{const t=QC(n),r=QC(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},iF=function(n,e){return n===e?0:n<e?-1:1},Nc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,B.Wl)(e))},Jf=function(n){if("object"!=typeof n||null===n)return(0,B.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,B.Wl)(e[r]),t+=":",t+=Jf(n[e[r]]);return t+="}",t},vo=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Di(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const KC=function(n){(0,B.hu)(!e_(n),"Invalid JSON number");const r=1023;let i,s,l,d,p;0===n?(s=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=d+r,l=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(i?1:0),_.reverse();const E=_.join("");let T="";for(p=0;p<64;p+=8){let A=parseInt(E.substr(p,8),2).toString(16);1===A.length&&(A="0"+A),T+=A}return T.toLowerCase()},YC=new RegExp("^-?(0*)\\d{1,10}$"),QC=function(n){if(YC.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},wd=function(n){try{n()}catch(e){setTimeout(()=>{throw Ni("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Wx=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fc=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class ep{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ni(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qx{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Si("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ni(e)}}let Cd=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const JC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rp="websocket",xb="long_polling";class n_{constructor(e,t,r,i,s=!1,l="",d=!1,p=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yd.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Mb(n,e,t){let r;if((0,B.hu)("string"==typeof e,"typeof type must == string"),(0,B.hu)("object"==typeof t,"typeof params must == object"),e===rp)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==xb)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function eI(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Di(t,(s,l)=>{i.push(s+"="+l)}),r+i.join("&")}class tI{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,B.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,B.p$)(this.counters_)}}const r_={},i_={};function s_(n){const e=n.toString();return r_[e]||(r_[e]=new tI),r_[e]}class Yx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&wd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ga{constructor(e,t,r,i,s,l,d){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=l,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bd(e),this.stats_=s_(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),Mb(t,xb,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Yx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,B.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new o_((...s)=>{const[l,d,p,_,E]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=d,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,d)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&JC.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ga.forceAllow_=!0}static forceDisallow(){Ga.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!Ga.forceAllow_&&(Ga.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,B.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,B.h$)(t),i=vo(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,B.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class o_{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=WC(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=o_.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(d){Si("frame writing exception"),d.stack&&Si(d.stack),Si(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Si("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,B.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Si("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let ip=null;typeof MozWebSocket<"u"?ip=MozWebSocket:typeof WebSocket<"u"&&(ip=WebSocket);let Lc=(()=>{class n{constructor(t,r,i,s,l,d,p){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bd(this.connId),this.stats_=s_(r),this.connURL=n.connectionURL_(r,d,p,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,l){const d={v:"5"};return!(0,B.Yr)()&&typeof location<"u"&&location.hostname&&JC.test(location.hostname)&&(d.r="f"),r&&(d.s=r),i&&(d.ls=i),s&&(d.ac=s),l&&(d.p=l),Mb(t,rp,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yd.set("previous_websocket_failure",!0);try{let i;if((0,B.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Qf}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,d=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;d&&(i.proxy={origin:d})}this.mySock=new ip(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==ip&&!n.forceDisallow_}static previouslyFailed(){return yd.isInMemoryStorage||!0===yd.get("previous_websocket_failure")}markConnectionHealthy(){yd.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,B.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,B.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=vo(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Rb=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ga,Lc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Lc&&Lc.isAvailable();let i=r&&!Lc.previouslyFailed();if(t.webSocketOnly&&(r||Ni("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Lc];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class mI{constructor(e,t,r,i,s,l,d,p,_,E){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=l,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bd("c:"+this.id+":"),this.transportManager_=new Rb(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Nc("t",e),r=Nc("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Nc("t",e),r=Nc("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Nc("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Ib("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ib("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ni("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Fc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gI{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class _I{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,B.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,B.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Wa extends _I{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Wa}getInitialEvent(e){return(0,B.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const yI=32,sp=768;class Wn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Yt(){return new Wn("")}function Nn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function qa(n){return n.pieces_.length-n.pieceNum_}function ur(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Wn(n.pieces_,e)}function Fb(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Td(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Lb(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Wn(e,0)}function xr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Wn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Wn(t,0)}function Rn(n){return n.pieceNum_>=n.pieces_.length}function es(n,e){const t=Nn(n),r=Nn(e);if(null===t)return e;if(t===r)return es(ur(n),ur(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function cM(n,e){const t=Td(n,0),r=Td(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=kl(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function Bc(n,e){if(qa(n)!==qa(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Xs(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(qa(n)>qa(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class uM{constructor(e,t){this.errorPrefix_=t,this.parts_=Td(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,B.ug)(this.parts_[r]);Vb(this)}}function Vb(n){if(n.byteLength_>sp)throw new Error(n.errorPrefix_+"has a key path longer than "+sp+" bytes ("+n.byteLength_+").");if(n.parts_.length>yI)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yI+") or object contains a cycle "+Ol(n))}function Ol(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class l_ extends _I{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new l_}getInitialEvent(e){return(0,B.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const op=1e3;let lp,Nl=(()=>{class n extends gI{constructor(t,r,i,s,l,d,p,_){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=bd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=op,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");l_.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Wa.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,l={r:s,a:t,b:r};this.log_((0,B.Wl)(l)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new B.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const p=d.d;"ok"===d.s?r.resolve(p):r.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const l=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+l),this.listens.has(d)||this.listens.set(d,new Map),(0,B.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(d).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(d).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const _=p.d,E=p.s;n.warnOnListenWarnings_(_,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",p),"ok"!==E&&this.removeListen_(i,s),t.onComplete&&t.onComplete(E,_))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,B.r3)(t,"w")){const i=(0,B.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();Ni(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,B.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,B.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const l=s.s,d=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,B.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const l={p:t};s&&(l.q=i,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,l){this.initConnection_();const d={p:r,d:i};void 0!==l&&(d.h=l),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,B.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Ib("Unrecognized action received from server: "+(0,B.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=op,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=op,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=op),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,_i.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let p=!1,_=null;const E=function(){_?_.close():(p=!0,s())};t.realtime_={close:E,sendRequest:function(k){(0,B.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(k)}};const A=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[k,V]=yield Promise.all([t.authTokenProvider_.getToken(A),t.appCheckTokenProvider_.getToken(A)]);p?Si("getToken() completed but was canceled"):(Si("getToken() completed. Creating connection."),t.authToken_=k&&k.accessToken,t.appCheckToken_=V&&V.token,_=new mI(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,q=>{Ni(q+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(k){t.log_("Failed to get token: "+k),p||(t.repoInfo_.nodeAdmin&&Ni(k),E())}}})()}interrupt(t){Si("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Si("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=op,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>Jf(l)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Wn(t).toString();let s;if(this.listens.has(i)){const l=this.listens.get(i);s=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Si("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Si("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,B.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Qf.replace(/\./g,"-")]=1,(0,B.uI)()?t["framework.cordova"]=1:(0,B.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Wa.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Pn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Pn(e,t)}}class c_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Pn($a,e),i=new Pn($a,t);return 0!==this.compare(r,i)}minPost(){return Pn.MIN}}class bI extends c_{static get __EMPTY_NODE(){return lp}static set __EMPTY_NODE(e){lp=e}compare(e,t){return kl(e.name,t.name)}isDefinedOn(e){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Pn.MIN}maxPost(){return new Pn(za,lp)}makePost(e,t){return(0,B.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Pn(e,lp)}toString(){return".key"}}const ra=new bI;class Ub{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let jb,ia=(()=>{class n{constructor(t,r,i,s,l){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??As.EMPTY_NODE,this.right=l??As.EMPTY_NODE}copy(t,r,i,s,l){return new n(t??this.key,r??this.value,i??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const l=i(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===l?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return As.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return As.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class As{constructor(e,t=As.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new As(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ia.BLACK,null,null))}remove(e){return new As(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ia.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ub(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ub(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ub(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ub(this.root_,null,this.comparator_,!0,e)}}function EI(n,e){return kl(n.name,e.name)}function Dd(n,e){return kl(n,e)}As.EMPTY_NODE=new class sF{copy(e,t,r,i,s){return this}insert(e,t,r){return new ia(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Hb=function(n){return"number"==typeof n?"number:"+KC(n):"string:"+n},Ad=function(n){if(n.isLeafNode()){const e=n.val();(0,B.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,B.r3)(e,".sv"),"Priority must be a string or number.")}else(0,B.hu)(n===jb||n.isEmpty(),"priority of unexpected type.");(0,B.hu)(n===jb||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wI,CI,II,xd=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ad(this.priorityNode_)}static set __childrenNodeConstructor(t){wI=t}static get __childrenNodeConstructor(){return wI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Rn(t)?this:".priority"===Nn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Nn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,B.hu)(".priority"!==i||1===qa(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ur(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Hb(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?KC(this.value_):this.value_,this.lazyHash_=wb(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,B.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,B.hu)(s>=0,"Unknown leaf type: "+r),(0,B.hu)(l>=0,"Unknown leaf type: "+i),s===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Cr=new class TI extends c_{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?kl(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Pn.MIN}maxPost(){return new Pn(za,new xd("[PRIORITY-POST]",II))}makePost(e,t){const r=CI(e);return new Pn(t,new xd("[PRIORITY-POST]",r))}toString(){return".priority"}},_M=Math.log(2);class cp{constructor(e){this.count=parseInt(Math.log(e+1)/_M,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const u_=function(n,e,t,r){n.sort(e);const i=function(p,_){const E=_-p;let T,A;if(0===E)return null;if(1===E)return T=n[p],A=t?t(T):T,new ia(A,T.node,ia.BLACK,null,null);{const k=parseInt(E/2,10)+p,V=i(p,k),q=i(k+1,_);return T=n[k],A=t?t(T):T,new ia(A,T.node,ia.BLACK,V,q)}},d=function(p){let _=null,E=null,T=n.length;const A=function(V,q){const re=T-V,Ue=T;T-=V;const Ke=i(re+1,Ue),tt=n[re],gt=t?t(tt):tt;k(new ia(gt,tt.node,q,null,Ke))},k=function(V){_?(_.left=V,_=V):(E=V,_=V)};for(let V=0;V<p.count;++V){const q=p.nextBitIsOne(),re=Math.pow(2,p.count-(V+1));q?A(re,ia.BLACK):(A(re,ia.BLACK),A(re,ia.RED))}return E}(new cp(n.length));return new As(r||e,d)};let d_;const Md={};class sa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,B.hu)(Md&&Cr,"ChildrenNode.ts has not been loaded"),d_=d_||new sa({".priority":Md},{".priority":Cr}),d_}get(e){const t=(0,B.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof As?t:null}hasIndex(e){return(0,B.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,B.hu)(e!==ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Pn.Wrap);let d,l=s.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=s.getNext();d=i?u_(r,e.getCompare()):Md;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const E=Object.assign({},this.indexes_);return E[p]=d,new sa(E,_)}addToIndexes(e,t){const r=(0,B.UI)(this.indexes_,(i,s)=>{const l=(0,B.DV)(this.indexSet_,s);if((0,B.hu)(l,"Missing index implementation for "+s),i===Md){if(l.isDefinedOn(e.node)){const d=[],p=t.getIterator(Pn.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&d.push(_),_=p.getNext();return d.push(e),u_(d,l.getCompare())}return Md}{const d=t.get(e.name);let p=i;return d&&(p=p.remove(new Pn(e.name,d))),p.insert(e,e.node)}});return new sa(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,B.UI)(this.indexes_,i=>{if(i===Md)return i;{const s=t.get(e.name);return s?i.remove(new Pn(e.name,s)):i}});return new sa(r,this.indexSet_)}}let up,wn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Ad(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return up||(up=new n(new As(Dd),null,sa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||up}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?up:r}}getChild(t){const r=Nn(t);return null===r?this:this.getImmediateChild(r).getChild(ur(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,B.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Pn(t,r);let s,l;r.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const d=s.isEmpty()?up:this.priorityNode_;return new n(s,d,l)}}updateChild(t,r){const i=Nn(t);if(null===i)return r;{(0,B.hu)(".priority"!==Nn(t)||1===qa(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ur(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,l=!0;if(this.forEachChild(Cr,(d,p)=>{r[d]=p.val(t),i++,l&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):l=!1}),!t&&l&&s<2*i){const d=[];for(const p in r)d[p]=r[p];return d}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Hb(this.getPriority().val())+":"),this.forEachChild(Cr,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":wb(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const l=s.getPredecessorKey(new Pn(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Pn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Pn(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Pn.Wrap);let l=s.peek();for(;null!=l&&r.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Pn.Wrap);let l=s.peek();for(;null!=l&&r.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Uc?-1:0}withIndex(t){if(t===ra||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ra||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Cr),s=r.getIterator(Cr);let l=i.getNext(),d=s.getNext();for(;l&&d;){if(l.name!==d.name||!l.node.equals(d.node))return!1;l=i.getNext(),d=s.getNext()}return null===l&&null===d}return!1}return!1}}resolveIndex_(t){return t===ra?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Uc=new class yM extends wn{constructor(){super(new As(Dd),wn.EMPTY_NODE,sa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return wn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Pn,{MIN:{value:new Pn($a,wn.EMPTY_NODE)},MAX:{value:new Pn(za,Uc)}}),bI.__EMPTY_NODE=wn.EMPTY_NODE,xd.__childrenNodeConstructor=wn,function mM(n){jb=n}(Uc),function gM(n){II=n}(Uc);const vM=!0;function Lr(n,e=null){if(null===n)return wn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,B.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new xd(n,Lr(e));if(n instanceof Array||!vM){let t=wn.EMPTY_NODE;return Di(n,(r,i)=>{if((0,B.r3)(n,r)&&"."!==r.substring(0,1)){const s=Lr(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Lr(e))}{const t=[];let r=!1;if(Di(n,(l,d)=>{if("."!==l.substring(0,1)){const p=Lr(d);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new Pn(l,p)))}}),0===t.length)return wn.EMPTY_NODE;const s=u_(t,EI,l=>l.name,Dd);if(r){const l=u_(t,Cr.getCompare());return new wn(s,Lr(e),new sa({".priority":l},{".priority":Cr}))}return new wn(s,Lr(e),sa.Default)}}!function oF(n){CI=n}(Lr);class h_ extends c_{constructor(e){super(),this.indexPath_=e,(0,B.hu)(!Rn(e)&&".priority"!==Nn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?kl(e.name,t.name):s}makePost(e,t){const r=Lr(e),i=wn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Pn(t,i)}maxPost(){const e=wn.EMPTY_NODE.updateChild(this.indexPath_,Uc);return new Pn(za,e)}toString(){return Td(this.indexPath_,0).join("/")}}const $b=new class bM extends c_{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?kl(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Pn.MIN}maxPost(){return Pn.MAX}makePost(e,t){const r=Lr(e);return new Pn(t,r)}toString(){return".value"}};function SI(n){return{type:"value",snapshotNode:n}}function Fl(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function dp(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Rd(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class zb{constructor(e){this.index_=e}updateChild(e,t,r,i,s,l){(0,B.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(i).equals(r.getChild(i))&&d.isEmpty()===r.isEmpty()||(null!=l&&(r.isEmpty()?e.hasChild(t)?l.trackChildChange(dp(t,d)):(0,B.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?l.trackChildChange(Fl(t,r)):l.trackChildChange(Rd(t,r,d))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Cr,(i,s)=>{t.hasChild(i)||r.trackChildChange(dp(i,s))}),t.isLeafNode()||t.forEachChild(Cr,(i,s)=>{if(e.hasChild(i)){const l=e.getImmediateChild(i);l.equals(s)||r.trackChildChange(Rd(i,s,l))}else r.trackChildChange(Fl(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?wn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class hp{constructor(e){this.indexedFilter_=new zb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=hp.getStartPost_(e),this.endPost_=hp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,l){return this.matches(new Pn(t,r))||(r=wn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,l)}updateFullNode(e,t,r){t.isLeafNode()&&(t=wn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(wn.EMPTY_NODE);const s=this;return t.forEachChild(Cr,(l,d)=>{s.matches(new Pn(l,d))||(i=i.updateImmediateChild(l,wn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class wM{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new hp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,l){return this.rangedFilter_.matches(new Pn(t,r))||(r=wn.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,l):this.fullLimitUpdateChild_(e,t,r,s,l)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=wn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=wn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const d=s.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;i=i.updateImmediateChild(d.name,d.node),l++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(wn.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let l=0;for(;s.hasNext();){const d=s.getNext();l<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?l++:i=i.updateImmediateChild(d.name,wn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let l;if(this.reverse_){const T=this.index_.getCompare();l=(A,k)=>T(k,A)}else l=this.index_.getCompare();const d=e;(0,B.hu)(d.numChildren()===this.limit_,"");const p=new Pn(t,r),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(d.hasChild(t)){const T=d.getImmediateChild(t);let A=i.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=A&&(A.name===t||d.hasChild(A.name));)A=i.getChildAfterChild(this.index_,A,this.reverse_);const k=null==A?1:l(A,p);if(E&&!r.isEmpty()&&k>=0)return s?.trackChildChange(Rd(t,r,T)),d.updateImmediateChild(t,r);{s?.trackChildChange(dp(t,T));const q=d.updateImmediateChild(t,wn.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(s?.trackChildChange(Fl(A.name,A.node)),q.updateImmediateChild(A.name,A.node)):q}}return r.isEmpty()?e:E&&l(_,p)>=0?(null!=s&&(s.trackChildChange(dp(_.name,_.node)),s.trackChildChange(Fl(t,r))),d.updateImmediateChild(t,r).updateImmediateChild(_.name,wn.EMPTY_NODE)):e}}class f_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$a}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:za}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cr}copy(){const e=new f_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function p_(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function Gb(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function fp(n,e){const t=n.copy();return t.index_=e,t}function AI(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Cr?t="$priority":n.index_===$b?t="$value":n.index_===ra?t="$key":((0,B.hu)(n.index_ instanceof h_,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,B.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,B.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,B.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,B.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,B.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function xI(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Cr&&(e.i=n.index_.toString()),e}class m_ extends gI{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=bd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,B.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=m_.getListenId_(e,r),d={};this.listens_[l]=d;const p=AI(e._queryParams);this.restRequest_(s+".json",p,(_,E)=>{let T=E;if(404===_&&(T=null,_=null),null===_&&this.onDataUpdate_(s,T,!1,r),(0,B.DV)(this.listens_,l)===d){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",i(A,null)}})}unlisten(e,t){const r=m_.getListenId_(e,t);delete this.listens_[r]}get(e){const t=AI(e._queryParams),r=e._path.toString(),i=new B.BH;return this.restRequest_(r+".json",t,(s,l)=>{let d=l;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(r,d,!1,null),i.resolve(d)):i.reject(new Error(d))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,B.xO)(t);this.log_("Sending REST request for "+l);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&4===d.readyState){this.log_("REST Response for "+l+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,B.cI)(d.responseText)}catch{Ni("Failed to parse JSON response for "+l+": "+d.responseText)}r(null,p)}else 401!==d.status&&404!==d.status&&Ni("Got unsuccessful REST response for "+l+" Status: "+d.status),r(d.status);r=null}},d.open("GET",l,!0),d.send()})}}class Wb{constructor(){this.rootNode_=wn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Pd(){return{value:null,children:new Map}}function jc(n,e,t){if(Rn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Nn(e);n.children.has(r)||n.children.set(r,Pd()),jc(n.children.get(r),e=ur(e),t)}}function pp(n,e){if(Rn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Cr,(r,i)=>{jc(n,new Wn(r),i)}),pp(n,e)}}if(n.children.size>0){const t=Nn(e);return e=ur(e),n.children.has(t)&&pp(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function qb(n,e,t){null!==n.value?t(e,n.value):function DM(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{qb(i,new Wn(e.toString()+"/"+r),t)})}class Kb{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Di(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class PI{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Kb(e);const r=1e4+2e4*Math.random();Fc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Di(e,(i,s)=>{s>0&&(0,B.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Fc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Js=(()=>{return(n=Js||(Js={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Js;var n})();function mp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class __{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Js.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Rn(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Wn(e));return new __(Yt(),t,this.revert)}}return(0,B.hu)(Nn(this.path)===e,"operationForChild called for unrelated child."),new __(ur(this.path),this.affectedTree,this.revert)}}class Hc{constructor(e,t){this.source=e,this.path=t,this.type=Js.LISTEN_COMPLETE}operationForChild(e){return Rn(this.path)?new Hc(this.source,Yt()):new Hc(this.source,ur(this.path))}}class $c{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Js.OVERWRITE}operationForChild(e){return Rn(this.path)?new $c(this.source,Yt(),this.snap.getImmediateChild(e)):new $c(this.source,ur(this.path),this.snap)}}class zc{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Js.MERGE}operationForChild(e){if(Rn(this.path)){const t=this.children.subtree(new Wn(e));return t.isEmpty()?null:t.value?new $c(this.source,Yt(),t.value):new zc(this.source,Yt(),t)}return(0,B.hu)(Nn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zc(this.source,ur(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class oa{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Rn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Nn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class OI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Od(n,e,t,r,i,s){const l=r.filter(d=>d.type===t);l.sort((d,p)=>function AM(n,e,t){if(null==e.childName||null==t.childName)throw(0,B.g5)("Should only compare child_ events.");const r=new Pn(e.childName,e.snapshotNode),i=new Pn(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,d,p)),l.forEach(d=>{const p=function FI(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);i.forEach(_=>{_.respondsTo(d.type)&&e.push(_.createEvent(p,n.query_))})})}function y_(n,e){return{eventCache:n,serverCache:e}}function gp(n,e,t,r){return y_(new oa(e,t,r),n.serverCache)}function LI(n,e,t,r){return y_(n.eventCache,new oa(e,t,r))}function _p(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Nd(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let v_;class Ir{constructor(e,t=(()=>(v_||(v_=new As(iF)),v_))()){this.value=e,this.children=t}static fromObject(e){let t=new Ir(null);return Di(e,(r,i)=>{t=t.set(new Wn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Yt(),value:this.value};if(Rn(e))return null;{const r=Nn(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(ur(e),t);return null!=s?{path:xr(new Wn(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Rn(e))return this;{const t=Nn(e),r=this.children.get(t);return null!==r?r.subtree(ur(e)):new Ir(null)}}set(e,t){if(Rn(e))return new Ir(t,this.children);{const r=Nn(e),s=(this.children.get(r)||new Ir(null)).set(ur(e),t),l=this.children.insert(r,s);return new Ir(this.value,l)}}remove(e){if(Rn(e))return this.children.isEmpty()?new Ir(null):new Ir(null,this.children);{const t=Nn(e),r=this.children.get(t);if(r){const i=r.remove(ur(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Ir(null):new Ir(this.value,s)}return this}}get(e){if(Rn(e))return this.value;{const t=Nn(e),r=this.children.get(t);return r?r.get(ur(e)):null}}setTree(e,t){if(Rn(e))return t;{const r=Nn(e),s=(this.children.get(r)||new Ir(null)).setTree(ur(e),t);let l;return l=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ir(this.value,l)}}fold(e){return this.fold_(Yt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(xr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Yt(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Rn(e))return null;{const s=Nn(e),l=this.children.get(s);return l?l.findOnPath_(ur(e),xr(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Yt(),t)}foreachOnPath_(e,t,r){if(Rn(e))return this;{this.value&&r(t,this.value);const i=Nn(e),s=this.children.get(i);return s?s.foreachOnPath_(ur(e),xr(t,i),r):new Ir(null)}}foreach(e){this.foreach_(Yt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(xr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class aa{constructor(e){this.writeTree_=e}static empty(){return new aa(new Ir(null))}}function yp(n,e,t){if(Rn(e))return new aa(new Ir(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const l=es(i,e);return s=s.updateChild(l,t),new aa(n.writeTree_.set(i,s))}{const i=new Ir(t),s=n.writeTree_.setTree(e,i);return new aa(s)}}}function Yb(n,e,t){let r=n;return Di(t,(i,s)=>{r=yp(r,xr(e,i),s)}),r}function Zb(n,e){if(Rn(e))return aa.empty();{const t=n.writeTree_.setTree(e,new Ir(null));return new aa(t)}}function Qb(n,e){return null!=Gc(n,e)}function Gc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(es(t.path,e)):null}function VI(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Cr,(r,i)=>{e.push(new Pn(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Pn(r,i.value))}),e}function Ll(n,e){if(Rn(e))return n;{const t=Gc(n,e);return new aa(null!=t?new Ir(t):n.writeTree_.subtree(e))}}function Xb(n){return n.writeTree_.isEmpty()}function Fd(n,e){return BI(Yt(),n.writeTree_,e)}function BI(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,B.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=BI(xr(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(xr(n,".priority"),r)),t}}function b_(n,e){return qI(e,n)}function HI(n,e){if(n.snap)return Xs(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Xs(xr(n.path,t),e))return!0;return!1}function zI(n){return n.visible}function Jb(n,e,t){let r=aa.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const l=s.path;let d;if(s.snap)Xs(t,l)?(d=es(t,l),r=yp(r,d,s.snap)):Xs(l,t)&&(d=es(l,t),r=yp(r,Yt(),s.snap.getChild(d)));else{if(!s.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(Xs(t,l))d=es(t,l),r=Yb(r,d,s.children);else if(Xs(l,t))if(d=es(l,t),Rn(d))r=Yb(r,Yt(),s.children);else{const p=(0,B.DV)(s.children,Nn(d));if(p){const _=p.getChild(ur(d));r=yp(r,Yt(),_)}}}}}return r}function GI(n,e,t,r,i){if(r||i){const s=Ll(n.visibleWrites,e);return!i&&Xb(s)?t:i||null!=t||Qb(s,Yt())?Fd(Jb(n.allWrites,function(_){return(_.visible||i)&&(!r||!~r.indexOf(_.writeId))&&(Xs(_.path,e)||Xs(e,_.path))},e),t||wn.EMPTY_NODE):null}{const s=Gc(n.visibleWrites,e);if(null!=s)return s;{const l=Ll(n.visibleWrites,e);return Xb(l)?t:null!=t||Qb(l,Yt())?Fd(l,t||wn.EMPTY_NODE):null}}}function Vl(n,e,t,r){return GI(n.writeTree,n.treePath,e,t,r)}function e0(n,e){return function aF(n,e,t){let r=wn.EMPTY_NODE;const i=Gc(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Cr,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(t){const s=Ll(n.visibleWrites,e);return t.forEachChild(Cr,(l,d)=>{const p=Fd(Ll(s,new Wn(l)),d);r=r.updateImmediateChild(l,p)}),VI(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return VI(Ll(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function E_(n,e,t,r){return function WI(n,e,t,r,i){(0,B.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=xr(e,t);if(Qb(n.visibleWrites,s))return null;{const l=Ll(n.visibleWrites,s);return Xb(l)?i.getChild(t):Fd(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function xs(n,e){return function PM(n,e){return Gc(n.visibleWrites,e)}(n.writeTree,xr(n.treePath,e))}function Ld(n,e,t){return function RM(n,e,t,r){const i=xr(e,t),s=Gc(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Fd(Ll(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Vd(n,e){return qI(xr(n.treePath,e),n.writeTree)}function qI(n,e){return{treePath:n,writeTree:e}}class FM{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,B.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Rd(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,dp(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,Fl(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,B.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Rd(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const bp=new class LM{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Bd{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new oa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ld(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Nd(this.viewCache_),s=function NM(n,e,t,r,i,s){return function kM(n,e,t,r,i,s,l){let d;const p=Ll(n.visibleWrites,e),_=Gc(p,Yt());if(null!=_)d=_;else{if(null==t)return[];d=Fd(p,t)}if(d=d.withIndex(l),d.isEmpty()||d.isLeafNode())return[];{const E=[],T=l.getCompare(),A=s?d.getReverseIteratorFrom(r,l):d.getIteratorFrom(r,l);let k=A.getNext();for(;k&&E.length<i;)0!==T(k,r)&&E.push(k),k=A.getNext();return E}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function w_(n,e,t,r,i,s){const l=e.eventCache;if(null!=xs(r,t))return e;{let d,p;if(Rn(t))if((0,B.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Nd(e),T=e0(r,_ instanceof wn?_:wn.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),T,s)}else{const _=Vl(r,Nd(e));d=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=Nn(t);if(".priority"===_){(0,B.hu)(1===qa(t),"Can't have a priority with additional path components");const E=l.getNode();p=e.serverCache.getNode();const T=E_(r,t,E,p);d=null!=T?n.filter.updatePriority(E,T):l.getNode()}else{const E=ur(t);let T;if(l.isCompleteForChild(_)){p=e.serverCache.getNode();const A=E_(r,t,l.getNode(),p);T=null!=A?l.getNode().getImmediateChild(_).updateChild(E,A):l.getNode().getImmediateChild(_)}else T=Ld(r,_,e.serverCache);d=null!=T?n.filter.updateChild(l.getNode(),_,T,E,i,s):l.getNode()}}return gp(e,d,l.isFullyInitialized()||Rn(t),n.filter.filtersNodes())}}function Ep(n,e,t,r,i,s,l,d){const p=e.serverCache;let _;const E=l?n.filter:n.filter.getIndexedFilter();if(Rn(t))_=E.updateFullNode(p.getNode(),r,null);else if(E.filtersNodes()&&!p.isFiltered()){const k=p.getNode().updateChild(t,r);_=E.updateFullNode(p.getNode(),k,null)}else{const k=Nn(t);if(!p.isCompleteForPath(t)&&qa(t)>1)return e;const V=ur(t),re=p.getNode().getImmediateChild(k).updateChild(V,r);_=".priority"===k?E.updatePriority(p.getNode(),re):E.updateChild(p.getNode(),k,re,V,bp,null)}const T=LI(e,_,p.isFullyInitialized()||Rn(t),E.filtersNodes());return w_(n,T,t,i,new Bd(i,T,s),d)}function wp(n,e,t,r,i,s,l){const d=e.eventCache;let p,_;const E=new Bd(i,e,s);if(Rn(t))_=n.filter.updateFullNode(e.eventCache.getNode(),r,l),p=gp(e,_,!0,n.filter.filtersNodes());else{const T=Nn(t);if(".priority"===T)_=n.filter.updatePriority(e.eventCache.getNode(),r),p=gp(e,_,d.isFullyInitialized(),d.isFiltered());else{const A=ur(t),k=d.getNode().getImmediateChild(T);let V;if(Rn(A))V=r;else{const q=E.getCompleteChild(T);V=null!=q?".priority"===Fb(A)&&q.getChild(Lb(A)).isEmpty()?q:q.updateChild(A,r):wn.EMPTY_NODE}p=k.equals(V)?e:gp(e,n.filter.updateChild(d.getNode(),T,V,A,E,l),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function C_(n,e){return n.eventCache.isCompleteForChild(e)}function I_(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Cp(n,e,t,r,i,s,l,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=Rn(t)?r:new Ir(null).setTree(t,r);const E=e.serverCache.getNode();return _.children.inorderTraversal((T,A)=>{if(E.hasChild(T)){const V=I_(0,e.serverCache.getNode().getImmediateChild(T),A);p=Ep(n,p,new Wn(T),V,i,s,l,d)}}),_.children.inorderTraversal((T,A)=>{const k=!e.serverCache.isCompleteForChild(T)&&null===A.value;if(!E.hasChild(T)&&!k){const q=I_(0,e.serverCache.getNode().getImmediateChild(T),A);p=Ep(n,p,new Wn(T),q,i,s,l,d)}}),p}class $M{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new zb(r.getIndex()),s=function CM(n){return n.loadsAllData()?new zb(n.getIndex()):n.hasLimit()?new wM(n):new hp(n)}(r);this.processor_=function VM(n){return{filter:n}}(s);const l=t.serverCache,d=t.eventCache,p=i.updateFullNode(wn.EMPTY_NODE,l.getNode(),null),_=s.updateFullNode(wn.EMPTY_NODE,d.getNode(),null),E=new oa(p,l.isFullyInitialized(),i.filtersNodes()),T=new oa(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=y_(T,E),this.eventGenerator_=new OI(this.query_)}get query(){return this.query_}}function XI(n,e){const t=Nd(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Rn(e)&&!t.getImmediateChild(Nn(e)).isEmpty())?t.getChild(e):null}function n0(n){return 0===n.eventRegistrations_.length}function r0(n,e,t){const r=[];if(t){(0,B.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,i);l&&r.push(l)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(l)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function eT(n,e,t,r){e.type===Js.MERGE&&null!==e.source.queryId&&((0,B.hu)(Nd(n.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(_p(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function KI(n,e,t,r,i){const s=new FM;let l,d;if(t.type===Js.OVERWRITE){const _=t;_.source.fromUser?l=wp(n,e,_.path,_.snap,r,i,s):((0,B.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered()&&!Rn(_.path),l=Ep(n,e,_.path,_.snap,r,i,d,s))}else if(t.type===Js.MERGE){const _=t;_.source.fromUser?l=function ZI(n,e,t,r,i,s,l){let d=e;return r.foreach((p,_)=>{const E=xr(t,p);C_(e,Nn(E))&&(d=wp(n,d,E,_,i,s,l))}),r.foreach((p,_)=>{const E=xr(t,p);C_(e,Nn(E))||(d=wp(n,d,E,_,i,s,l))}),d}(n,e,_.path,_.children,r,i,s):((0,B.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered(),l=Cp(n,e,_.path,_.children,r,i,d,s))}else if(t.type===Js.ACK_USER_WRITE){const _=t;l=_.revert?function HM(n,e,t,r,i,s){let l;if(null!=xs(r,t))return e;{const d=new Bd(r,e,i),p=e.eventCache.getNode();let _;if(Rn(t)||".priority"===Nn(t)){let E;if(e.serverCache.isFullyInitialized())E=Vl(r,Nd(e));else{const T=e.serverCache.getNode();(0,B.hu)(T instanceof wn,"serverChildren would be complete if leaf node"),E=e0(r,T)}_=n.filter.updateFullNode(p,E,s)}else{const E=Nn(t);let T=Ld(r,E,e.serverCache);null==T&&e.serverCache.isCompleteForChild(E)&&(T=p.getImmediateChild(E)),_=null!=T?n.filter.updateChild(p,E,T,ur(t),d,s):e.eventCache.getNode().hasChild(E)?n.filter.updateChild(p,E,wn.EMPTY_NODE,ur(t),d,s):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Vl(r,Nd(e)),l.isLeafNode()&&(_=n.filter.updateFullNode(_,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=xs(r,Yt()),gp(e,_,l,n.filter.filtersNodes())}}(n,e,_.path,r,i,s):function UM(n,e,t,r,i,s,l){if(null!=xs(i,t))return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(Rn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return Ep(n,e,t,p.getNode().getChild(t),i,s,d,l);if(Rn(t)){let _=new Ir(null);return p.getNode().forEachChild(ra,(E,T)=>{_=_.set(new Wn(E),T)}),Cp(n,e,t,_,i,s,d,l)}return e}{let _=new Ir(null);return r.foreach((E,T)=>{const A=xr(t,E);p.isCompleteForPath(A)&&(_=_.set(E,p.getNode().getChild(A)))}),Cp(n,e,t,_,i,s,d,l)}}(n,e,_.path,_.affectedTree,r,i,s)}else{if(t.type!==Js.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+t.type);l=function jM(n,e,t,r,i){const s=e.serverCache;return w_(n,LI(e,s.getNode(),s.isFullyInitialized()||Rn(t),s.isFiltered()),t,r,bp,i)}(n,e,t.path,r,s)}const p=s.getChanges();return function YI(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=_p(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(SI(_p(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,i,e,t,r);return function BM(n,e){(0,B.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,B.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,s0(n,s.changes,s.viewCache.eventCache.getNode(),null)}function s0(n,e,t,r){return function NI(n,e,t,r){const i=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function EM(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),Od(n,i,"child_removed",e,r,t),Od(n,i,"child_added",e,r,t),Od(n,i,"child_moved",s,r,t),Od(n,i,"child_changed",e,r,t),Od(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let T_,Ip;class o0{constructor(){this.views=new Map}}function a0(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,B.hu)(null!=s,"SyncTree gave us an op for an invalid query."),eT(s,e,t,r)}{let s=[];for(const l of n.views.values())s=s.concat(eT(l,e,t,r));return s}}function rT(n,e,t,r,i){const l=n.views.get(e._queryIdentifier);if(!l){let d=Vl(t,i?r:null),p=!1;d?p=!0:r instanceof wn?(d=e0(t,r),p=!1):(d=wn.EMPTY_NODE,p=!1);const _=y_(new oa(d,p,!1),new oa(r,i,!1));return new $M(e,_)}return l}function l0(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function la(n,e){let t=null;for(const r of n.views.values())t=t||XI(r,e);return t}function jd(n,e){return e._queryParams.loadsAllData()?S_(n):n.views.get(e._queryIdentifier)}function iT(n,e){return null!=jd(n,e)}function ca(n){return null!=S_(n)}function S_(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let WM=1;class D_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ir(null),this.pendingWriteTree_=function OM(){return{visibleWrites:aa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function A_(n,e,t,r,i){return function MM(n,e,t,r,i){(0,B.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=yp(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?$d(n,new $c({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function wo(n,e,t=!1){const r=function UI(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function jI(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,B.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const d=n.allWrites[l];d.visible&&(l>=t&&HI(d,r.path)?i=!1:Xs(r.path,d.path)&&(s=!0)),l--}return!!i&&(s?(function $I(n){n.visibleWrites=Jb(n.allWrites,zI,Yt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Zb(n.visibleWrites,r.path):Di(r.children,p=>{n.visibleWrites=Zb(n.visibleWrites,xr(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Ir(null);return null!=r.snap?s=s.set(Yt(),!0):Di(r.children,l=>{s=s.set(new Wn(l),!0)}),$d(n,new __(r.path,s,t))}return[]}function Wc(n,e,t){return $d(n,new $c({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Tp(n,e,t,r,i=!1){const s=e._path,l=n.syncPointTree_.get(s);let d=[];if(l&&("default"===e._queryIdentifier||iT(l,e))){const p=function cF(n,e,t,r){const i=e._queryIdentifier,s=[];let l=[];const d=ca(n);if("default"===i)for(const[p,_]of n.views.entries())l=l.concat(r0(_,t,r)),n0(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(i);p&&(l=l.concat(r0(p,t,r)),n0(p)&&(n.views.delete(i),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!ca(n)&&s.push(new(function ts(){return(0,B.hu)(T_,"Reference.ts has not been loaded"),T_}())(e._repo,e._path)),{removed:s,events:l}}(l,e,t,r);(function Ud(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=p.removed;if(d=p.events,!i){const E=-1!==_.findIndex(A=>A._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(s,(A,k)=>ca(k));if(E&&!T){const A=n.syncPointTree_.subtree(s);if(!A.isEmpty()){const k=function cT(n){return n.fold((e,t,r)=>{if(t&&ca(t))return[S_(t)];{let i=[];return t&&(i=l0(t)),Di(r,(s,l)=>{i=i.concat(l)}),i}})}(A);for(let V=0;V<k.length;++V){const q=k[V],re=q.query,Ue=lT(n,q);n.listenProvider_.startListening(Ap(re),Sp(n,re),Ue.hashFn,Ue.onComplete)}}}!T&&_.length>0&&!r&&(E?n.listenProvider_.stopListening(Ap(e),null):_.forEach(A=>{const k=n.queryToTagMap.get(Dp(A));n.listenProvider_.stopListening(Ap(A),k)}))}!function ZM(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=Dp(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,_)}return d}function qc(n,e,t,r){const i=M_(n,r);if(null!=i){const s=c0(i),l=s.path,d=s.queryId,p=es(l,e);return R_(n,l,new $c(mp(d),p,t))}return[]}function x_(n,e,t,r=!1){const i=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(i,(A,k)=>{const V=es(A,i);s=s||la(k,V),l=l||ca(k)});let p,d=n.syncPointTree_.get(i);d?(l=l||ca(d),s=s||la(d,Yt())):(d=new o0,n.syncPointTree_=n.syncPointTree_.set(i,d)),null!=s?p=!0:(p=!1,s=wn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((k,V)=>{const q=la(V,Yt());q&&(s=s.updateImmediateChild(k,q))}));const _=iT(d,e);if(!_&&!e._queryParams.loadsAllData()){const A=Dp(e);(0,B.hu)(!n.queryToTagMap.has(A),"View does not exist, but we have a tag");const k=function uT(){return WM++}();n.queryToTagMap.set(A,k),n.tagToQueryMap.set(k,A)}let T=function lF(n,e,t,r,i,s){const l=rT(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function JI(n,e){n.eventRegistrations_.push(e)}(l,t),function tT(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Cr,(s,l)=>{r.push(Fl(s,l))}),t.isFullyInitialized()&&r.push(SI(t.getNode())),s0(n,r,t.getNode(),e)}(l,t)}(d,e,t,b_(n.pendingWriteTree_,i),s,p);if(!_&&!l&&!r){const A=jd(d,e);T=T.concat(function QM(n,e,t){const r=e._path,i=Sp(n,e),s=lT(n,t),l=n.listenProvider_.startListening(Ap(e),i,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(r);if(i)(0,B.hu)(!ca(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,E,T)=>{if(!Rn(_)&&E&&ca(E))return[S_(E).query];{let A=[];return E&&(A=A.concat(l0(E).map(k=>k.query))),Di(T,(k,V)=>{A=A.concat(V)}),A}});for(let _=0;_<p.length;++_){const E=p[_];n.listenProvider_.stopListening(Ap(E),Sp(n,E))}}return l}(n,e,A))}return T}function Hd(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,d)=>{const _=la(d,es(l,e));if(_)return _});return GI(i,e,s,t,!0)}function $d(n,e){return YM(e,n.syncPointTree_,null,b_(n.pendingWriteTree_,Yt()))}function YM(n,e,t,r){if(Rn(n.path))return aT(n,e,t,r);{const i=e.get(Yt());null==t&&null!=i&&(t=la(i,Yt()));let s=[];const l=Nn(n.path),d=n.operationForChild(l),p=e.children.get(l);if(p&&d){const _=t?t.getImmediateChild(l):null,E=Vd(r,l);s=s.concat(YM(d,p,_,E))}return i&&(s=s.concat(a0(i,n,r,t))),s}}function aT(n,e,t,r){const i=e.get(Yt());null==t&&null!=i&&(t=la(i,Yt()));let s=[];return e.children.inorderTraversal((l,d)=>{const p=t?t.getImmediateChild(l):null,_=Vd(r,l),E=n.operationForChild(l);E&&(s=s.concat(aT(E,d,p,_)))}),i&&(s=s.concat(a0(i,n,r,t))),s}function lT(n,e){const t=e.query,r=Sp(n,t);return{hashFn:()=>(function QI(n){return n.viewCache_.serverCache.getNode()}(e)||wn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function qM(n,e,t){const r=M_(n,t);if(r){const i=c0(r),s=i.path,l=i.queryId,d=es(s,e);return R_(n,s,new Hc(mp(l),d))}return[]}(n,t._path,r):function oT(n,e){return $d(n,new Hc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Eo(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return Tp(n,t,null,s)}}}}function Sp(n,e){const t=Dp(e);return n.queryToTagMap.get(t)}function Dp(n){return n._path.toString()+"$"+n._queryIdentifier}function M_(n,e){return n.tagToQueryMap.get(e)}function c0(n){const e=n.indexOf("$");return(0,B.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Wn(n.substr(0,e))}}function R_(n,e,t){const r=n.syncPointTree_.get(e);return(0,B.hu)(r,"Missing sync point for query tag that we're tracking"),a0(r,t,b_(n.pendingWriteTree_,e),null)}function Ap(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function GM(){return(0,B.hu)(Ip,"Reference.ts has not been loaded"),Ip}())(n._repo,n._path):n}class P_{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new P_(t)}node(){return this.node_}}class k_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=xr(this.path_,e);return new k_(this.syncTree_,t)}node(){return Hd(this.syncTree_,this.path_)}}const dT=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},u0=function(n,e,t){return n&&"object"==typeof n?((0,B.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?XM(n[".sv"],e,t):"object"==typeof n[".sv"]?JM(n[".sv"],e):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},XM=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,B.hu)(!1,"Unexpected server value: "+n)},JM=function(n,e,t){n.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,B.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,B.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},eR=function(n,e,t,r){return hT(e,new k_(t,n),r)},O_=function(n,e,t){return hT(n,new P_(e),t)};function hT(n,e,t){const r=n.getPriority().val(),i=u0(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,d=u0(l.getValue(),e,t);return d!==l.getValue()||i!==l.getPriority().val()?new xd(d,Lr(i)):n}{const l=n;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new xd(i))),l.forEachChild(Cr,(d,p)=>{const _=hT(p,e.getImmediateChild(d),t);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class fT{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function d0(n,e){let t=e instanceof Wn?e:new Wn(e),r=n,i=Nn(t);for(;null!==i;){const s=(0,B.DV)(r.node.children,i)||{children:{},childCount:0};r=new fT(i,r,s),t=ur(t),i=Nn(t)}return r}function zd(n){return n.node.value}function pT(n,e){n.node.value=e,Wd(n)}function tR(n){return n.node.childCount>0}function h0(n,e){Di(n.node.children,(t,r)=>{e(new fT(t,n,r))})}function xp(n,e,t,r){t&&!r&&e(n),h0(n,i=>{xp(i,e,!0,r)}),t&&r&&e(n)}function Gd(n){return new Wn(null===n.parent?n.name:Gd(n.parent)+"/"+n.name)}function Wd(n){null!==n.parent&&function mT(n,e,t){const r=function hF(n){return void 0===zd(n)&&!tR(n)}(t),i=(0,B.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Wd(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Wd(n))}(n.parent,n.name,n)}const gT=/[\[\].#$\/\u0000-\u001F\u007F]/,pF=/[\[\].#$\u0000-\u001F\u007F]/,Mp=10485760,Rp=function(n){return"string"==typeof n&&0!==n.length&&!gT.test(n)},_T=function(n){return"string"==typeof n&&0!==n.length&&!pF.test(n)},Pp=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!e_(n)||n&&"object"==typeof n&&(0,B.r3)(n,".sv")},ua=function(n,e,t,r){r&&void 0===e||kp((0,B.gK)(n,"value"),e,t)},kp=function(n,e,t){const r=t instanceof Wn?new uM(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Ol(r));if("function"==typeof e)throw new Error(n+"contains a function "+Ol(r)+" with contents = "+e.toString());if(e_(e))throw new Error(n+"contains "+e.toString()+" "+Ol(r));if("string"==typeof e&&e.length>Mp/3&&(0,B.ug)(e)>Mp)throw new Error(n+"contains a string greater than "+Mp+" utf8 bytes "+Ol(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Di(e,(l,d)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!Rp(l)))throw new Error(n+" contains an invalid key ("+l+") "+Ol(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function dM(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,B.ug)(e),Vb(n)})(r,l),kp(n,d,r),function a_(n){const e=n.parts_.pop();n.byteLength_-=(0,B.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+Ol(r)+" in addition to actual children.")}},yT=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,B.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Di(e,(l,d)=>{const p=new Wn(l);if(kp(i,d,xr(t,p)),".priority"===Fb(p)&&!Pp(d))throw new Error(i+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=Td(r);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!Rp(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(cM);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&Xs(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},vT=function(n,e,t){if(!t||void 0!==e){if(e_(e))throw new Error((0,B.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Pp(e))throw new Error((0,B.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},F_=function(n,e,t,r){if(!(r&&void 0===t||Rp(t)))throw new Error((0,B.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},L_=function(n,e,t,r){if(!(r&&void 0===t||_T(t)))throw new Error((0,B.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},nR=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),L_(n,e,t,r)},eo=function(n,e){if(".info"===Nn(e))throw new Error(n+" failed = Can't modify data under /.info/")},bT=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Rp(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_T(n)}(t))throw new Error((0,B.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class gF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function V_(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!Bc(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function f0(n,e,t){V_(n,t),rR(n,r=>Bc(r,e))}function gs(n,e,t){V_(n,t),rR(n,r=>Xs(r,e)||Xs(e,r))}function rR(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Co(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Co(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Ar&&Si("event: "+t.toString()),wd(r)}}}const ET="repo_interrupt",p0=25;class iR{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pd(),this.transactionQueueTree_=new fT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ms(n){const t=n.infoData_.getNode(new Wn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Op(n){return dT({timestamp:Ms(n)})}function B_(n,e,t,r,i){n.dataUpdateCount++;const s=new Wn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const p=(0,B.UI)(t,_=>Lr(_));l=function KM(n,e,t,r){const i=M_(n,r);if(i){const s=c0(i),l=s.path,d=s.queryId,p=es(l,e),_=Ir.fromObject(t);return R_(n,l,new zc(mp(d),p,_))}return[]}(n.serverSyncTree_,s,p,i)}else{const p=Lr(t);l=qc(n.serverSyncTree_,s,p,i)}else if(r){const p=(0,B.UI)(t,_=>Lr(_));l=function uF(n,e,t){const r=Ir.fromObject(t);return $d(n,new zc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,p)}else{const p=Lr(t);l=Wc(n.serverSyncTree_,s,p)}let d=s;l.length>0&&(d=qd(n,s)),gs(n.eventQueue_,d,l)}function wT(n,e){Np(n,"connected",e),!1===e&&function TT(n){Kc(n,"onDisconnectEvents");const e=Op(n),t=Pd();qb(n.onDisconnect_,Yt(),(i,s)=>{const l=eR(i,s,n.serverSyncTree_,e);jc(t,i,l)});let r=[];qb(t,Yt(),(i,s)=>{r=r.concat(Wc(n.serverSyncTree_,i,s));const l=AT(n,i);qd(n,l)}),n.onDisconnect_=Pd(),gs(n.eventQueue_,Yt(),r)}(n)}function Np(n,e,t){const r=new Wn("/.info/"+e),i=Lr(t);n.infoData_.updateSnapshot(r,i);const s=Wc(n.infoSyncTree_,r,i);gs(n.eventQueue_,r,s)}function Fp(n){return n.nextWriteId_++}function m0(n,e,t,r,i){Kc(n,"set",{path:e.toString(),value:t,priority:r});const s=Op(n),l=Lr(t,r),d=Hd(n.serverSyncTree_,e),p=O_(l,d,s),_=Fp(n),E=A_(n.serverSyncTree_,e,p,_,!0);V_(n.eventQueue_,E),n.server_.put(e.toString(),l.val(!0),(A,k)=>{const V="ok"===A;V||Ni("set at "+e+" failed: "+A);const q=wo(n.serverSyncTree_,_,!V);gs(n.eventQueue_,e,q),Bl(0,i,A,k)});const T=AT(n,e);qd(n,T),gs(n.eventQueue_,T,[])}function oR(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&pp(n.onDisconnect_,e),Bl(0,t,r,i)})}function g0(n,e,t,r){const i=Lr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,l)=>{"ok"===s&&jc(n.onDisconnect_,e,i),Bl(0,r,s,l)})}function da(n,e,t){let r;r=".info"===Nn(e._path)?Tp(n.infoSyncTree_,e,t):Tp(n.serverSyncTree_,e,t),f0(n.eventQueue_,e._path,r)}function y0(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ET)}function Kc(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Si(t,...e)}function Bl(n,e,t,r){e&&wd(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const l=new Error(s);l.code=i,e(l)}})}function b0(n,e,t){return Hd(n.serverSyncTree_,e,t)||wn.EMPTY_NODE}function U_(n,e=n.transactionQueueTree_){if(e||Lp(n,e),zd(e)){const t=E0(n,e);(0,B.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function lR(n,e,t){const r=t.map(_=>_.currentWriteId),i=b0(n,e,r);let s=i;const l=i.hash();for(let _=0;_<t.length;_++){const E=t[_];(0,B.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const T=es(e,E.path);s=s.updateChild(T,E.currentOutputSnapshotRaw)}const d=s.val(!0),p=e;n.server_.put(p.toString(),d,_=>{Kc(n,"transaction put response",{path:p.toString(),status:_});let E=[];if("ok"===_){const T=[];for(let A=0;A<t.length;A++)t[A].status=2,E=E.concat(wo(n.serverSyncTree_,t[A].currentWriteId)),t[A].onComplete&&T.push(()=>t[A].onComplete(null,!0,t[A].currentOutputSnapshotResolved)),t[A].unwatcher();Lp(n,d0(n.transactionQueueTree_,e)),U_(n,n.transactionQueueTree_),gs(n.eventQueue_,e,E);for(let A=0;A<T.length;A++)wd(T[A])}else{if("datastale"===_)for(let T=0;T<t.length;T++)t[T].status=3===t[T].status?4:0;else{Ni("transaction at "+p.toString()+" failed: "+_);for(let T=0;T<t.length;T++)t[T].status=4,t[T].abortReason=_}qd(n,e)}},l)}(n,Gd(e),t)}else tR(e)&&h0(e,t=>{U_(n,t)})}function qd(n,e){const t=cR(n,e),r=Gd(t);return function ST(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],_=es(t,p.path);let T,E=!1;if((0,B.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)E=!0,T=p.abortReason,i=i.concat(wo(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=p0)E=!0,T="maxretry",i=i.concat(wo(n.serverSyncTree_,p.currentWriteId,!0));else{const A=b0(n,p.path,l);p.currentInputSnapshot=A;const k=e[d].update(A.val());if(void 0!==k){kp("transaction failed: Data returned ",k,p.path);let V=Lr(k);"object"==typeof k&&null!=k&&(0,B.r3)(k,".priority")||(V=V.updatePriority(A.getPriority()));const re=p.currentWriteId,Ue=Op(n),Ke=O_(V,A,Ue);p.currentOutputSnapshotRaw=V,p.currentOutputSnapshotResolved=Ke,p.currentWriteId=Fp(n),l.splice(l.indexOf(re),1),i=i.concat(A_(n.serverSyncTree_,p.path,Ke,p.currentWriteId,p.applyLocally)),i=i.concat(wo(n.serverSyncTree_,re,!0))}else E=!0,T="nodata",i=i.concat(wo(n.serverSyncTree_,p.currentWriteId,!0))}gs(n.eventQueue_,t,i),i=[],E&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&r.push("nodata"===T?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(T),!1,null)))}Lp(n,n.transactionQueueTree_);for(let d=0;d<r.length;d++)wd(r[d]);U_(n,n.transactionQueueTree_)}(n,E0(n,t),r),r}function cR(n,e){let t,r=n.transactionQueueTree_;for(t=Nn(e);null!==t&&void 0===zd(r);)r=d0(r,t),t=Nn(e=ur(e));return r}function E0(n,e){const t=[];return DT(n,e,t),t.sort((r,i)=>r.order-i.order),t}function DT(n,e,t){const r=zd(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);h0(e,i=>{DT(n,i,t)})}function Lp(n,e){const t=zd(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,pT(e,t.length>0?t:void 0)}h0(e,r=>{Lp(n,r)})}function AT(n,e){const t=Gd(cR(n,e)),r=d0(n.transactionQueueTree_,e);return function fF(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Vp(n,i)}),Vp(n,r),xp(r,i=>{Vp(n,i)}),t}function Vp(n,e){const t=zd(e);if(t){const r=[];let i=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,B.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,B.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(wo(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?pT(e,void 0):t.length=s+1,gs(n.eventQueue_,Gd(e),i);for(let l=0;l<r.length;l++)wd(r[l])}}const j_=function(n,e){const t=RT(n),r=t.namespace;return"firebase.com"===t.domain&&yo(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&yo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ni("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new n_(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Wn(t.pathString)}},RT=function(n){let e="",t="",r="",i="",s="",l=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let E=n.indexOf("/");-1===E&&(E=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),e=n.substring(0,Math.min(E,T)),E<T&&(i=function xT(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(E,T)));const A=function MT(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ni(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,T)));_=e.indexOf(":"),_>=0?(l="https"===d||"wss"===d,p=parseInt(e.substring(_+1),10)):_=e.length;const k=e.slice(0,_);if("localhost"===k.toLowerCase())t="localhost";else if(k.split(".").length<=2)t=k;else{const V=e.indexOf(".");r=e.substring(0,V).toLowerCase(),t=e.substring(V+1),s=r}"ns"in A&&(s=A.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:l,scheme:d,pathString:i,namespace:s}},w0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",H_=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=w0.charAt(t%64),t=Math.floor(t/64);(0,B.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)l+=w0.charAt(e[i]);return(0,B.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class Bp{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Wl)(this.snapshot.exportVal())}}class C0{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class I0{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class PT{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new B.BH;return oR(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){eo("OnDisconnect.remove",this._path);const e=new B.BH;return g0(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){eo("OnDisconnect.set",this._path),ua("OnDisconnect.set",e,this._path,!1);const t=new B.BH;return g0(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){eo("OnDisconnect.setWithPriority",this._path),ua("OnDisconnect.setWithPriority",e,this._path,!1),vT("OnDisconnect.setWithPriority",t,!1);const r=new B.BH;return function aR(n,e,t,r,i){const s=Lr(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,d)=>{"ok"===l&&jc(n.onDisconnect_,e,s),Bl(0,i,l,d)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){eo("OnDisconnect.update",this._path),yT("OnDisconnect.update",e,this._path,!1);const t=new B.BH;return function _0(n,e,t,r){if((0,B.xb)(t))return Si("onDisconnect().update() called with empty data.  Don't do anything."),void Bl(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&Di(t,(l,d)=>{const p=Lr(d);jc(n.onDisconnect_,xr(e,l),p)}),Bl(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Rs{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Rn(this._path)?null:Fb(this._path)}get ref(){return new to(this._repo,this._path)}get _queryIdentifier(){const e=xI(this._queryParams),t=Jf(e);return"{}"===t?"default":t}get _queryObject(){return xI(this._queryParams)}isEqual(e){if(!((e=(0,B.m9)(e))instanceof Rs))return!1;const t=this._repo===e._repo,r=Bc(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function vI(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function T0(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Yc(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===ra){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==$a)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==za)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===Cr){if(null!=e&&!Pp(e)||null!=t&&!Pp(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(n.getIndex()instanceof h_||n.getIndex()===$b,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Up(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class to extends Rs{constructor(e,t){super(e,t,new f_,!1)}get parent(){const e=Lb(this._path);return null===e?null:new to(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Zc{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Wn(e),r=Kd(this.ref,e);return new Zc(this._node.getChild(t),r,Cr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Zc(i,Kd(this.ref,r),Cr)))}hasChild(e){const t=new Wn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kT(n,e){return(n=(0,B.m9)(n))._checkNotDeleted("ref"),void 0!==e?Kd(n._root,e):n._root}function uR(n,e){(n=(0,B.m9)(n))._checkNotDeleted("refFromURL");const t=j_(e,n._repo.repoInfo_.nodeAdmin);bT("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&yo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),kT(n,t.path.toString())}function Kd(n,e){return null===Nn((n=(0,B.m9)(n))._path)?nR("child","path",e,!1):L_("child","path",e,!1),new to(n._repo,xr(n._path,e))}function S0(n,e){n=(0,B.m9)(n),eo("set",n._path),ua("set",e,n._path,!1);const t=new B.BH;return m0(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function hR(n,e){yT("update",e,n._path,!1);const t=new B.BH;return function IT(n,e,t,r){Kc(n,"update",{path:e.toString(),value:t});let i=!0;const s=Op(n),l={};if(Di(t,(d,p)=>{i=!1,l[d]=eR(xr(e,d),Lr(p),n.serverSyncTree_,s)}),i)Si("update() called with empty data.  Don't do anything."),Bl(0,r,"ok",void 0);else{const d=Fp(n),p=function sT(n,e,t,r){!function vp(n,e,t,r){(0,B.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=Yb(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=Ir.fromObject(t);return $d(n,new zc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,l,d);V_(n.eventQueue_,p),n.server_.merge(e.toString(),t,(_,E)=>{const T="ok"===_;T||Ni("update at "+e+" failed: "+_);const A=wo(n.serverSyncTree_,d,!T),k=A.length>0?qd(n,e):e;gs(n.eventQueue_,k,A),Bl(0,r,_,E)}),Di(t,_=>{const E=AT(n,xr(e,_));qd(n,E)}),gs(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function OT(n){n=(0,B.m9)(n);const e=new I0(()=>{}),t=new Io(e);return function CT(n,e,t){const r=function dF(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(_,E)=>{const T=es(_,t);r=r||la(E,T)});let i=n.syncPointTree_.get(t);i?r=r||la(i,Yt()):(i=new o0,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,l=s?new oa(r,!0,!1):null;return function t0(n){return _p(n.viewCache_)}(rT(i,e,b_(n.pendingWriteTree_,e._path),s?l.getNode():wn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const s=Lr(i).withIndex(e._queryParams.getIndex());let l;if(x_(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=Wc(n.serverSyncTree_,e._path,s);else{const d=Sp(n.serverSyncTree_,e);l=qc(n.serverSyncTree_,e._path,s,d)}return gs(n.eventQueue_,e._path,l),Tp(n.serverSyncTree_,e,t,null,!0),s},i=>(Kc(n,"get for query "+(0,B.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new Zc(r,new to(n._repo,n._path),n._queryParams.getIndex()))}class Io{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new Bp("value",this,new Zc(e.snapshotNode,new to(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new C0(this,e,t):null}matches(e){return e instanceof Io&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class jp{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new C0(this,e,t):null}createEvent(e,t){(0,B.hu)(null!=e.childName,"Child events should have a childName.");const r=Kd(new to(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new Bp(e.type,this,new Zc(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof jp&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Qc(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const p=t,_=(E,T)=>{da(n._repo,n,d),p(E,T)};_.userCallback=t.userCallback,_.context=t.context,t=_}const l=new I0(t,s||void 0),d="value"===e?new Io(l):new jp(e,l);return function Ka(n,e,t){let r;r=".info"===Nn(e._path)?x_(n.infoSyncTree_,e,t):x_(n.serverSyncTree_,e,t),f0(n.eventQueue_,e._path,r)}(n._repo,n,d),()=>da(n._repo,n,d)}function Hp(n,e,t,r){return Qc(n,"value",e,t,r)}function NT(n,e,t,r){return Qc(n,"child_added",e,t,r)}function z_(n,e,t,r){return Qc(n,"child_changed",e,t,r)}function G_(n,e,t,r){return Qc(n,"child_moved",e,t,r)}function $p(n,e,t,r){return Qc(n,"child_removed",e,t,r)}function fR(n,e,t){let r=null;const i=t?new I0(t):null;"value"===e?r=new Io(i):e&&(r=new jp(e,i)),da(n._repo,n,r)}class ha{}class pR extends ha{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ua("endAt",this._value,e._path,!0);const t=Gb(e._queryParams,this._value,this._key);if(Up(t),Yc(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Rs(e._repo,e._path,t,e._orderByCalled)}}class FT extends ha{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ua("endBefore",this._value,e._path,!1);const t=function SM(n,e,t){let r;return r=Gb(n,e,n.index_===ra||t?t:$a),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Up(t),Yc(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Rs(e._repo,e._path,t,e._orderByCalled)}}class LT extends ha{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ua("startAt",this._value,e._path,!0);const t=p_(e._queryParams,this._value,this._key);if(Up(t),Yc(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Rs(e._repo,e._path,t,e._orderByCalled)}}class _R extends ha{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ua("startAfter",this._value,e._path,!1);const t=function DI(n,e,t){let r;return r=p_(n,e,n.index_===ra||t?t:za),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Up(t),Yc(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Rs(e._repo,e._path,t,e._orderByCalled)}}class BT extends ha{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Rs(e._repo,e._path,function IM(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class yR extends ha{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Rs(e._repo,e._path,function TM(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class jT extends ha{constructor(e){super(),this._path=e}_apply(e){T0(e,"orderByChild");const t=new Wn(this._path);if(Rn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new h_(t),i=fp(e._queryParams,r);return Yc(i),new Rs(e._repo,e._path,i,!0)}}class wF extends ha{_apply(e){T0(e,"orderByKey");const t=fp(e._queryParams,ra);return Yc(t),new Rs(e._repo,e._path,t,!0)}}class A0 extends ha{_apply(e){T0(e,"orderByPriority");const t=fp(e._queryParams,Cr);return Yc(t),new Rs(e._repo,e._path,t,!0)}}class ER extends ha{_apply(e){T0(e,"orderByValue");const t=fp(e._queryParams,$b);return Yc(t),new Rs(e._repo,e._path,t,!0)}}class IF extends ha{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ua("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pR(this._value,this._key)._apply(new LT(this._value,this._key)._apply(e))}}function To(n,...e){let t=(0,B.m9)(n);for(const r of e)t=r._apply(t);return t}(function nT(n){(0,B.hu)(!T_,"__referenceConstructor has already been defined"),T_=n})(to),function zM(n){(0,B.hu)(!Ip,"__referenceConstructor has already been defined"),Ip=n}(to);const CR="FIREBASE_DATABASE_EMULATOR_HOST",$T={};let IR=!1;function TR(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||yo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Si("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,l=j_(s,i),d=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env[CR]),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,l=j_(s,i),d=l.repoInfo):p=!l.repoInfo.secure;const E=i&&p?new Cd(Cd.OWNER):new qx(n.name,n.options,e);bT("Invalid Firebase Database URL",l),Rn(l.path)||yo("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function SF(n,e,t,r){let i=$T[e.name];i||(i={},$T[e.name]=i);let s=i[n.toURLString()];return s&&yo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new iR(n,IR,t,r),i[n.toURLString()]=s,s}(d,n,E,new ep(n.name,t));return new AF(T,n)}class AF{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _F(n,e,t){if(n.stats_=s_(n.repoInfo_),n.forceRestClient_||Wx())n.server_=new m_(n.repoInfo_,(r,i,s,l)=>{B_(n,r,i,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>wT(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Nl(n.repoInfo_,e,(r,i,s,l)=>{B_(n,r,i,s,l)},r=>{wT(n,r)},r=>{!function sR(n,e){Di(e,(t,r)=>{Np(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Kx(n,e){const t=n.toString();return i_[t]||(i_[t]=e()),i_[t]}(n.repoInfo_,()=>new PI(n.stats_,n.server_)),n.infoData_=new Wb,n.infoSyncTree_=new D_({startListening:(r,i,s,l)=>{let d=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(d=Wc(n.infoSyncTree_,r._path,p),setTimeout(()=>{l("ok")},0)),d},stopListening:()=>{}}),Np(n,"connected",!1),n.serverSyncTree_=new D_({startListening:(r,i,s,l)=>(n.server_.listen(r,s,i,(d,p)=>{const _=l(d,p);gs(n.eventQueue_,r._path,_)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new to(this._repo,Yt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function SR(n,e){const t=$T[e];(!t||t[n.key]!==n)&&yo(`Database ${e}(${n.repoInfo_}) has already been deleted.`),y0(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&yo("Cannot call "+e+" on a deleted database.")}}function DR(){Rb.IS_TRANSPORT_INITIALIZED&&Ni("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xF(){DR(),Ga.forceDisallow()}function MF(){DR(),Lc.forceDisallow(),Ga.forceAllow()}function o(n=(0,wr.getApp)(),e){const t=(0,wr._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,B.P0)("database");r&&a(t,...r)}return t}function a(n,e,t,r={}){(n=(0,B.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&yo("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&yo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Cd(Cd.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,B.Sg)(r.mockUserToken,n.app.options.projectId);s=new Cd(l)}!function TF(n,e,t,r){n.repoInfo_=new n_(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}function f(n,e){qC(n,e)}const v={".sv":"timestamp"};class S{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Nl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Nl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function g(n){Pl(wr.SDK_VERSION),(0,wr._registerComponent)(new Jo.wA("database",(e,{instanceIdentifier:t})=>TR(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,wr.registerVersion)($C,"0.14.4",n),(0,wr.registerVersion)($C,"0.14.4","esm2017")}();const nt=new ea.Yd("@firebase/database-compat"),mt=function(n){nt.warn("FIREBASE WARNING: "+n)};class Ge{constructor(e){this._delegate=e}cancel(e){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,mt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class vn{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Jn{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),L_("DataSnapshot.child","path",e,!1),new Jn(this._database,this._delegate.child(e))}hasChild(e){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),L_("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Jn(this._database,t)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new no(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vn{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",t,!1);const l=Vn.getCancelAndContextArgs_("Query.on",r,i),d=(_,E)=>{t.call(l.context,new Jn(this.database,_),E)};d.userCallback=t,d.context=l.context;const p=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return Hp(this._delegate,d,p),t;case"child_added":return NT(this._delegate,d,p),t;case"child_removed":return $p(this._delegate,d,p),t;case"child_changed":return z_(this._delegate,d,p),t;case"child_moved":return G_(this._delegate,d,p),t;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,B.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,B.Wj)("Query.off","callback",t,!0),(0,B.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,fR(this._delegate,e,i)}else fR(this._delegate,e)}get(){return OT(this._delegate).then(e=>new Jn(this.database,e))}once(e,t,r,i){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",t,!0);const s=Vn.getCancelAndContextArgs_("Query.once",r,i),l=new B.BH,d=(_,E)=>{const T=new Jn(this.database,_);t&&t.call(s.context,T,E),l.resolve(T)};d.userCallback=t,d.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),l.reject(_)};switch(e){case"value":Hp(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":NT(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":$p(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":z_(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":G_(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new Vn(this.database,To(this._delegate,function UT(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new BT(n)}(e)))}limitToLast(e){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new Vn(this.database,To(this._delegate,function vR(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new yR(n)}(e)))}orderByChild(e){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new Vn(this.database,To(this._delegate,function D0(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return L_("orderByChild","path",n,!1),new jT(n)}(e)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new Vn(this.database,To(this._delegate,function HT(){return new wF}()))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new Vn(this.database,To(this._delegate,function bR(){return new A0}()))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new Vn(this.database,To(this._delegate,function CF(){return new ER}()))}startAt(e=null,t){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new Vn(this.database,To(this._delegate,function gR(n=null,e){return F_("startAt","key",e,!0),new LT(n,e)}(e,t)))}startAfter(e=null,t){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new Vn(this.database,To(this._delegate,function VT(n,e){return F_("startAfter","key",e,!0),new _R(n,e)}(e,t)))}endAt(e=null,t){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new Vn(this.database,To(this._delegate,function EF(n,e){return F_("endAt","key",e,!0),new pR(n,e)}(e,t)))}endBefore(e=null,t){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new Vn(this.database,To(this._delegate,function mR(n,e){return F_("endBefore","key",e,!0),new FT(n,e)}(e,t)))}equalTo(e,t){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new Vn(this.database,To(this._delegate,function wR(n,e){return F_("equalTo","key",e,!0),new IF(n,e)}(e,t)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Vn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,B.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,B.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,B.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new no(this.database,new to(this._delegate._repo,this._delegate._path))}}class no extends Vn{constructor(e,t){super(e,new Rs(t._repo,t._path,new f_,!1)),this.database=e,this._delegate=t}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new no(this.database,Kd(this._delegate,e))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new no(this.database,e):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new no(this.database,this._delegate.root)}set(e,t){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",t,!0);const r=S0(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,mt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eo("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",t,!0);const r=hR(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function dR(n,e,t){if(eo("setWithPriority",n._path),ua("setWithPriority",e,n._path,!1),vT("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new B.BH;return m0(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",e,!0);const t=function bF(n){return eo("remove",n._path),S0(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,B.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function M(n,e,t){var r;if(n=(0,B.m9)(n),eo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,s=new B.BH,d=Hp(n,()=>{});return function yF(n,e,t,r,i,s){Kc(n,"transaction on "+e);const l={path:e,update:t,onComplete:r,status:null,order:WC(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=b0(n,e,void 0);l.currentInputSnapshot=d;const p=l.update(d.val());if(void 0===p)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{kp("transaction failed: Data returned ",p,l.path),l.status=0;const _=d0(n.transactionQueueTree_,e),E=zd(_)||[];let T;E.push(l),pT(_,E),"object"==typeof p&&null!==p&&(0,B.r3)(p,".priority")?(T=(0,B.DV)(p,".priority"),(0,B.hu)(Pp(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(Hd(n.serverSyncTree_,e)||wn.EMPTY_NODE).getPriority().val();const A=Op(n),k=Lr(p,T),V=O_(k,d,A);l.currentOutputSnapshotRaw=k,l.currentOutputSnapshotResolved=V,l.currentWriteId=Fp(n);const q=A_(n.serverSyncTree_,e,V,l.currentWriteId,l.applyLocally);gs(n.eventQueue_,e,q),U_(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,_,E)=>{let T=null;p?s.reject(p):(T=new Zc(E,new to(n._repo,n._path),Cr),s.resolve(new S(_,T)))},d,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new vn(s.committed,new Jn(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",t,!0);const r=function $_(n,e){n=(0,B.m9)(n),eo("setPriority",n._path),vT("setPriority",e,!1);const t=new B.BH;return m0(n._repo,xr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",t,!0);const r=function vF(n,e){n=(0,B.m9)(n),eo("push",n._path),ua("push",e,n._path,!0);const t=Ms(n._repo),r=H_(t),i=Kd(n,r),s=Kd(n,r);let l;return l=null!=e?S0(s,e).then(()=>s):Promise.resolve(s),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}(this._delegate,e),i=r.then(l=>new no(this.database,l));t&&i.then(()=>t(null),l=>t(l));const s=new no(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return eo("Reference.onDisconnect",this._delegate._path),new Ge(new PT(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class x0{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xF,forceLongPolling:MF}}useEmulator(e,t,r={}){a(this._delegate,e,t,r)}ref(e){if((0,B.Dv)("database.ref",0,1,arguments.length),e instanceof no){const t=uR(this._delegate,e.toString());return new no(this,t)}{const t=kT(this._delegate,e);return new no(this,t)}}refFromURL(e){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const r=uR(this._delegate,e);return new no(this,r)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function c(n){(n=(0,B.m9)(n))._checkNotDeleted("goOffline"),y0(n._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function u(n){(n=(0,B.m9)(n))._checkNotDeleted("goOnline"),function v0(n){n.persistentConnection_&&n.persistentConnection_.resume(ET)}(n._repo)}(this._delegate)}}x0.ServerValue={TIMESTAMP:function C(){return v}(),increment:n=>function I(n){return{".sv":{increment:n}}}(n)};var nG=Object.freeze({__proto__:null,initStandalone:function tG({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){Pl(t);const l=new Jo.zt("auth-internal",new Jo.H0("database-standalone"));return l.setComponent(new Jo.wA("auth-internal",()=>r,"PRIVATE")),{instance:new x0(TR(n,l,void 0,e,s),n),namespace:i}}});const rG=x0.ServerValue;function RF(n){return null==n}function PF(n){return"function"==typeof n.set}function kF(n,e){return PF(e)?e:n.ref(e)}function OF(n,e){if(function sG(n){return"string"==typeof n}(n))return e.stringCase();if(PF(n))return e.firebaseCase();if(function oG(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function M0(n,e,t="on",r=_d.z){return new si.y(i=>{let s=null;return s=n[t](e,(l,d)=>{r.schedule(()=>{i.next({snapshot:l,prevKey:d})}),"once"===t&&r.schedule(()=>i.complete())},l=>{r.schedule(()=>i.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,It.U)(i=>{const{snapshot:s,prevKey:l}=i;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:l,key:d}}),(0,Lf.B)())}function NF(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function cG(n,e){const{payload:t,prevKey:r,key:i}=e,s=NF(n,i),l=function lG(n,e){if(RF(e))return 0;{const t=NF(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==r&&(n=n.filter(p=>p.payload.key!==t.key)).splice(l,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===i?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,d),n}return n;default:return n}}function FF(n){return(RF(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function LF(n,e,t){return function aG(n,e,t){return M0(n,"value","once",t).pipe(Xn(r=>{const i=[ct(r)];return e.forEach(s=>i.push(M0(n,s,"on",t))),(0,Xo.T)(...i).pipe(Vu(cG,[]))}),Qg())}(n,e=FF(e),t)}function VF(n,e,t){const r=(e=FF(e)).map(i=>M0(n,i,"on",t));return(0,Xo.T)(...r)}function BF(n,e){return function(r,i){return OF(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function fG(n){return function(t){return t?OF(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function UF(n,e){return function(){return M0(n,"value","on",e)}}!function iG(n){n.INTERNAL.registerComponent(new Jo.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new x0(i,r)},"PUBLIC").setServiceProps({Reference:no,Query:Vn,Database:x0,DataSnapshot:Jn,enableLogging:f,INTERNAL:nG,ServerValue:rG}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(Rl.Z);const gG=new h.OlP("angularfire2.realtimeDatabaseURL"),_G=new h.OlP("angularfire2.database.use-emulator");let AR=(()=>{class n{constructor(t,r,i,s,l,d,p,_,E,T,A,k,V,q,re){this.schedulers=d;const Ue=p,Ke=(0,Ys.on)(t,l,r);_&&Zg(Ke,l,E,A,k,V,T,q),this.database=(0,Ys.cc)(`${Ke.name}.database.${i}`,"AngularFireDatabase",Ke.name,()=>{const tt=l.runOutsideAngular(()=>Ke.database(i||void 0));return Ue&&tt.useEmulator(...Ue),tt},[Ue])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>kF(this.database,t));let s=i;return r&&(s=r(i)),function pG(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:BF(r,"update"),set:BF(r,"set"),push:i=>r.push(i),remove:fG(r),snapshotChanges:i=>LF(n,i,t).pipe(Pt.iC),stateChanges:i=>VF(n,i,t).pipe(Pt.iC),auditTrail:i=>function uG(n,e,t){return function hG(n,e,t){return function dG(n,e){return M0(n,"value","on",e).pipe((0,It.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function jC(...n){const e=(0,hs.jO)(n);return(0,Nr.e)((t,r)=>{const i=n.length,s=new Array(i);let l=n.map(()=>!1),d=!1;for(let p=0;p<i;p++)(0,Hs.Xf)(n[p]).subscribe((0,or.x)(r,_=>{s[p]=_,!d&&!l[p]&&(l[p]=!0,(d=l.every(ka.y))&&(l=null))},Xg.Z));t.subscribe((0,or.x)(r,p=>{if(d){const _=[p,...s];r.next(e?e(..._):_)}}))})}(e),(0,It.U)(([i,s])=>{const l=i.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:l,loadedKeys:d}}),function HC(n){return(0,Nr.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,or.x)(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,It.U)(i=>i.actions))}(n,VF(n,e).pipe(Vu((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(Pt.iC),valueChanges:(i,s)=>LF(n,i,t).pipe((0,It.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Pt.iC)}}(s,this)}object(t){return function mG(n,e){return{query:n,snapshotChanges:()=>UF(n,e.schedulers.outsideAngular)().pipe(Pt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>UF(n,e.schedulers.outsideAngular)().pipe(Pt.iC,(0,It.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>kF(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ys.Dh),h.LFG(Ys.xv,8),h.LFG(gG,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Pt.HU),h.LFG(_G,8),h.LFG(gd,8),h.LFG(mb,8),h.LFG(gb,8),h.LFG(VC,8),h.LFG(_b,8),h.LFG(yb,8),h.LFG(vb,8),h.LFG(Oc,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yG=(()=>{class n{constructor(){xc.Z.registerVersion("angularfire",Pt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[AR]}),n})(),zp=(()=>{class n{constructor(t,r){this.afAuth=t,this.db=r,this.usersPath="/users",this.authState$=this.afAuth.authState,this.displayName$=this.authState$.pipe((0,It.U)(i=>i?i.displayName:null)),this.isAdmin$=this.authState$.pipe(Xn(i=>i?this.db.object("/users/"+i.uid+"/isAdmin/").valueChanges():ct(!1)))}updateUser(t){this.db.object("/users/"+t.uid).update({uid:t.uid,name:t.displayName,email:t.email,photoUrl:t.photoURL})}getUser(t){return this.db.object(`/users/${t}`).valueChanges()}getPlayers(){return this.db.list(this.usersPath).valueChanges().pipe((0,It.U)(t=>t.filter(r=>void 0!==r.highScore)),(0,It.U)(t=>t.sort((r,i)=>i.highScore-r.highScore)))}getHighScore(){return this.afAuth.authState.pipe(Xn(t=>t?this.db.object(`/users/${t.uid}/highScore`).valueChanges():ct(0)),Xn(t=>ct(null===t?0:t)))}updateHighScore(t){this.afAuth.authState.pipe(zs(),(0,It.U)(r=>r?r.uid:null)).subscribe(r=>{r&&this.db.object(`/users/${r}`).update({highScore:t})})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(gd),h.LFG(AR))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xR=(()=>{class n{constructor(t,r,i,s){this.afAuth=t,this.db=r,this.userService=i,this.router=s}login(t){var r=this;return(0,_i.Z)(function*(){yield r.afAuth.signInWithPopup(t).then(i=>{if(i){r.userService.updateUser(i.user);const s=localStorage.getItem("returnUrl");r.router.navigateByUrl(s)}})})()}logout(){this.afAuth.signOut(),localStorage.clear()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(gd),h.LFG(AR),h.LFG(zp),h.LFG(hi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jF=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}loginGoogle(){this.authService.login(new xc.Z.auth.GoogleAuthProvider)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(xR))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:5,vars:0,consts:[[3,"click"],[1,"liquid"]],template:function(t,r){1&t&&(h.TgZ(0,"body")(1,"a",0),h.NdJ("click",function(){return r.loginGoogle()}),h.TgZ(2,"span"),h._uU(3,"Login Google"),h.qZA(),h._UZ(4,"div",1),h.qZA()())},styles:['body[_ngcontent-%COMP%]{background-image:linear-gradient(white,rgb(63,81,181));margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:93.2vh}a[_ngcontent-%COMP%]{position:relative;padding:20px 50px;display:block;text-decoration:none;text-transform:uppercase;width:200px;overflow:hidden}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1;color:#fff;font-size:20px;letter-spacing:8px}a[_ngcontent-%COMP%]   .liquid[_ngcontent-%COMP%]{position:absolute;left:0;top:-80px;width:200px;height:200px;background:#4973ff;box-shadow:inset 0 0 50px #00000080;transition:.5s}a[_ngcontent-%COMP%]:hover   .liquid[_ngcontent-%COMP%]{top:-120px}a[_ngcontent-%COMP%]   .liquid[_ngcontent-%COMP%]:before, a[_ngcontent-%COMP%]   .liquid[_ngcontent-%COMP%]:after{content:"";position:absolute;width:180%;height:200%;top:0;left:50%;transform:translate(-50%,-75%)}a[_ngcontent-%COMP%]   .liquid[_ngcontent-%COMP%]:before{border-radius:45%;background:rgba(20,20,20,1);animation:_ngcontent-%COMP%_animate 5s linear infinite}a[_ngcontent-%COMP%]   .liquid[_ngcontent-%COMP%]:after{border-radius:40%;background:rgba(20,20,20,.5);animation:_ngcontent-%COMP%_animate 10s linear infinite}@keyframes _ngcontent-%COMP%_animate{0%{transform:translate(-50%,-75%) rotate(0)}to{transform:translate(-50%,-75%) rotate(360deg)}}']}),n})(),HF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-no-access"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"h1"),h._uU(1,"NO ACCESS"),h.qZA())}}),n})(),$F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"h1"),h._uU(1,"NOT FOUND"),h.qZA())}}),n})();function zF(...n){const e=(0,hs.jO)(n),{args:t,keys:r}=yc(n),i=new si.y(s=>{const{length:l}=t;if(!l)return void s.complete();const d=new Array(l);let p=l,_=l;for(let E=0;E<l;E++){let T=!1;(0,Hs.Xf)(t[E]).subscribe((0,or.x)(s,A=>{T||(T=!0,_--),d[E]=A},()=>p--,void 0,()=>{(!p||!T)&&(_||s.next(r?vc(r,d):d),s.complete())}))}});return e?i.pipe(Ts(e)):i}let GF=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Gp=(()=>{class n extends GF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ul=new h.OlP("NgValueAccessor"),bG={provide:Ul,useExisting:(0,h.Gpc)(()=>zT),multi:!0},wG=new h.OlP("CompositionEventMode");let zT=(()=>{class n extends GF{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function EG(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(wG,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[h._Bn([bG]),h.qOj]}),n})();const CG=!1,_s=new h.OlP("NgValidators"),Zd=new h.OlP("NgAsyncValidators");function nL(n){return null!=n}function rL(n){const e=(0,h.QGY)(n)?(0,mr.D)(n):n;if(CG&&!(0,h.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,t)}return e}function iL(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function sL(n,e){return e.map(t=>t(n))}function oL(n){return n.map(e=>function TG(n){return!n.validate}(e)?e:t=>e.validate(t))}function MR(n){return null!=n?function aL(n){if(!n)return null;const e=n.filter(nL);return 0==e.length?null:function(t){return iL(sL(t,e))}}(oL(n)):null}function RR(n){return null!=n?function lL(n){if(!n)return null;const e=n.filter(nL);return 0==e.length?null:function(t){return zF(sL(t,e).map(rL)).pipe((0,It.U)(iL))}}(oL(n)):null}function cL(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PR(n){return n?Array.isArray(n)?n:[n]:[]}function WT(n,e){return Array.isArray(n)?n.includes(e):n===e}function hL(n,e){const t=PR(e);return PR(n).forEach(i=>{WT(t,i)||t.push(i)}),t}function fL(n,e){return PR(e).filter(t=>!WT(n,t))}class pL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ps extends pL{get formDirective(){return null}get path(){return null}}class Qd extends pL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gL=(()=>{class n extends mL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Qd,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})();const R0="VALID",KT="INVALID",W_="PENDING",P0="DISABLED";function YT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class bL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===R0}get invalid(){return this.status===KT}get pending(){return this.status==W_}get disabled(){return this.status===P0}get enabled(){return this.status!==P0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fL(e,this._rawAsyncValidators))}hasValidator(e){return WT(this._rawValidators,e)}hasAsyncValidator(e){return WT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=W_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=P0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=R0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===R0||this.status===W_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P0:R0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=W_,this._hasOwnPendingAsyncValidator=!0;const t=rL(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?P0:this.errors?KT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(W_)?W_:this._anyControlsHaveStatus(KT)?KT:R0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){YT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function kG(n){return Array.isArray(n)?MR(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function OG(n){return Array.isArray(n)?RR(n):n||null}(this._rawAsyncValidators)}}const q_=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ZT}),ZT="always";function k0(n,e,t=ZT){(function BR(n,e){const t=function uL(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(cL(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function dL(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(cL(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();JT(e._rawValidators,i),JT(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function LG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&EL(n,e)})}(n,e),function BG(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function VG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&EL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function FG(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function JT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function EL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function IL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function TL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const SL=class extends bL{constructor(e=null,t,r){super(function FR(n){return(YT(n)?n.validators:n)||null}(t),function LR(n,e){return(YT(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),YT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=TL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){TL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},qG={provide:Qd,useExisting:(0,h.Gpc)(()=>zR)},xL=(()=>Promise.resolve())();let zR=(()=>{class n extends Qd{constructor(t,r,i,s,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new SL,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function HR(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===zT?t=s:function HG(n){return Object.getPrototypeOf(n.constructor)===Gp}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function jR(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){k0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,h.D6c)(r);xL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function QT(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ps,9),h.Y36(_s,10),h.Y36(Zd,10),h.Y36(Ul,10),h.Y36(h.sBO,8),h.Y36(q_,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([qG]),h.qOj,h.TTD]}),n})(),RL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),yW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[RL]}),n})(),bW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:q_,useValue:t.callSetDisabledState??ZT}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[yW]}),n})();function EW(n,e){if(1&n&&(h.TgZ(0,"h1"),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.hij("Game Over! Your Score: ",t.score,"")}}function wW(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",4)(1,"a",5),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.restartGame())}),h._UZ(2,"span")(3,"span")(4,"span")(5,"span"),h._uU(6," Restart Game "),h.qZA()()}}let CW=(()=>{class n{constructor(t){this.userService=t,this.words=["avventura","sole","casa","elefante","fragola","mare","magico","travolgente","zaino","albero","sorprendente","scherzo","gatto","arcobaleno","giocattolo","meraviglia","fragile","montagna","ninja","sogno","libro","cane","tigre","fantastico","zanzara","cielo","velocit\xe0","mistero","frutta","notte","giraffa","radicale","crociera","tesoro","fiamma","carta","conquista","labbro","terra","pinguino","esplorare","luce","astronave","tornado","dolce","fragoroso","penna","labirinto","scimmia","misterioso","maggiore","risata"],this.scrambledWord="",this.userInput="",this.score=0,this.gameOver=!1,this.currentWorld="",this.correctWordsCoutn=0,this.highScore=0,this.originalWord=""}ngOnInit(){this.userService.getHighScore().subscribe(t=>{this.highScore=t}),this.generateWord()}generateWord(){const t=Math.floor(Math.random()*this.words.length),r=this.words[t];this.originalWord=r,this.currentWorld=r,this.scrambledWord=this.shuffleWord(r)}shuffleWord(t){let r="";const i=t.split("");for(;i.length>0;){const s=Math.floor(Math.random()*i.length);r+=i.splice(s,1)[0]}return r}checkWord(){this.userInput===this.currentWorld?(this.score++,this.userInput="",this.generateWord()):(this.score>this.highScore?(this.highScore=this.score,this.userService.updateHighScore(this.score)):0===this.score&&0!==this.highScore&&this.userService.updateHighScore(this.highScore),this.gameOver=!0)}restartGame(){this.score=0,this.userInput="",this.gameOver=!1,this.generateWord()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(zp))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-game"]],decls:14,vars:7,consts:[[1,"neonText"],["type","text","placeholder","your guess",3,"ngModel","disabled","ngModelChange","keydown.enter"],[4,"ngIf"],["id","restart",4,"ngIf"],["id","restart"],[3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"body")(1,"div")(2,"h2",0),h._uU(3,"Scrambled Word:"),h.qZA(),h.TgZ(4,"h4",0),h._uU(5),h.qZA(),h.TgZ(6,"input",1),h.NdJ("ngModelChange",function(s){return r.userInput=s})("keydown.enter",function(){return r.checkWord()}),h.qZA(),h.YNc(7,EW,2,1,"h1",2),h.TgZ(8,"div")(9,"h6"),h._uU(10),h.qZA()(),h.TgZ(11,"h1"),h._uU(12),h.qZA()(),h.YNc(13,wW,7,0,"div",3),h.qZA()),2&t&&(h.xp6(5),h.Oqu(r.scrambledWord),h.xp6(1),h.Q6J("ngModel",r.userInput)("disabled",r.gameOver),h.xp6(1),h.Q6J("ngIf",r.gameOver),h.xp6(3),h.hij("Correct answers: ",r.score,""),h.xp6(2),h.hij("High Score: ",r.highScore,""),h.xp6(1),h.Q6J("ngIf",r.gameOver))},dependencies:[Ls,zT,gL,zR],styles:["body[_ngcontent-%COMP%]{background-image:linear-gradient(white,rgb(63,81,181));margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:93.2vh}input[type=text][_ngcontent-%COMP%]{width:100%;border:2px solid #aaa;border-radius:4px;margin:8px 0;outline:none;padding:8px;box-sizing:border-box;transition:.3s}input[type=text][_ngcontent-%COMP%]:focus{border-color:#1e90ff;box-shadow:0 0 8px #1e90ff}.neonText[_ngcontent-%COMP%]{text-shadow:0 0 7px #fff,0 0 10px #fff,0 0 21px #fff,0 0 42px #f09,0 0 82px #f09,0 0 92px #f09,0 0 102px #f09,0 0 151px #f09,}h1[_ngcontent-%COMP%]{-webkit-text-stroke:1px white;text-shadow:0 9px 12px black;font-size:40px;position:relative;padding-bottom:20px;text-align:center;font-weight:400;line-height:1}h2[_ngcontent-%COMP%]{color:#3f51b5;font-size:60px;position:relative;padding-bottom:20px;text-align:center;font-weight:400;line-height:1;animation:_ngcontent-%COMP%_glow .5s ease-in-out infinite alternate-reverse}h4[_ngcontent-%COMP%]{font-size:60px;position:relative;padding-bottom:20px;text-align:center;font-weight:400;line-height:1;animation:_ngcontent-%COMP%_glows .5s ease-in-out infinite alternate-reverse}h6[_ngcontent-%COMP%]{-webkit-text-stroke:2px white;text-shadow:0 9px 12px black;font-size:60px;position:relative;padding-bottom:20px;text-align:center;font-weight:400;line-height:1}@keyframes _ngcontent-%COMP%_glow{to{text-shadow:0 0 4px #fff,0 0 11px #fff,0 0 19px #fff,0 0 40px #f09,0 0 80px #f09,0 0 90px #f09,0 0 100px #f09,0 0 150px #f09}0%{text-shadow:0 0 4px #fff,0 0 10px #fff,0 0 18px #fff,0 0 38px #f09,0 0 73px #f09,0 0 80px #f09,0 0 94px #f09,0 0 140px #f09}}@keyframes _ngcontent-%COMP%_glows{to{text-shadow:0 0 4px #fff,0 0 11px #fff,0 0 19px #fff,0 0 40px rgb(3,156,67),0 0 80px rgb(3,156,67),0 0 90px rgb(3,156,67),0 0 100px rgb(3,156,67),0 0 150px rgb(3,156,67)}0%{text-shadow:0 0 4px #fff,0 0 10px #fff,0 0 18px #fff,0 0 38px rgb(3,156,67),0 0 73px rgb(3,156,67),0 0 80px rgb(3,156,67),0 0 94px rgb(3,156,67),0 0 140px rgb(3,156,67)}}a[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:15px 30px;color:#2196f3;text-transform:uppercase;letter-spacing:4px;text-decoration:none;font-size:24px;overflow:hidden;transition:1s}a[_ngcontent-%COMP%]:hover{color:#255784;background:#2196f3;box-shadow:0 0 10px #2196f3,0 0 40px #2196f3,0 0 80px #2196f3;transition-delay:1s}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;display:block}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:0;left:-100%;width:100%;height:2px;background:linear-gradient(90deg,transparent,#2196f3)}a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:nth-child(1){left:100%;transition:1s}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){bottom:0;right:-100%;width:100%;height:2px;background:linear-gradient(270deg,transparent,#2196f3)}a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:nth-child(3){right:100%;transition:1s;transition-delay:.5s}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:-100%;right:0;width:2px;height:100%;background:linear-gradient(180deg,transparent,#2196f3)}a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:nth-child(2){top:100%;transition:1s;transition-delay:.25s}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){bottom:-100%;left:0;width:2px;height:100%;background:linear-gradient(360deg,transparent,#2196f3)}a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:nth-child(4){bottom:100%;transition:1s;transition-delay:.75s}#restart[_ngcontent-%COMP%]{position:absolute;padding:5px 5px 5px 10px;bottom:80px}"]}),n})(),QR=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}canActivate(t,r){return this.userService.authState$.pipe((0,It.U)(i=>!!i||(localStorage.setItem("returnUrl",r.url),this.router.navigate(["/login/"],{queryParams:{returnUrl:r.url}}),!1)))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(zp),h.LFG(hi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IW=(()=>{class n{constructor(t,r){this.userService=t,this.router=r}canActivate(t,r){return this.userService.isAdmin$.pipe((0,It.U)(i=>!!i||(this.router.navigate(["/no-access/"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(zp),h.LFG(hi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TW(n,e){if(1&n&&(h.TgZ(0,"tr")(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.qZA()()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.name),h.xp6(2),h.Oqu(t.email),h.xp6(2),h.Oqu(t.highScore)}}const SW=[{path:"",component:Pg},{path:"login",component:jF},{path:"game",component:CW,canActivate:[QR]},{path:"leaderboard",component:(()=>{class n{constructor(t){this.userService=t,this.players$=this.userService.getPlayers()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(zp))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-leaderboard"]],decls:13,vars:3,consts:[[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(h.TgZ(0,"body")(1,"h2"),h._uU(2,"Leaderboard"),h.qZA(),h.TgZ(3,"table")(4,"tr")(5,"th"),h._uU(6,"Name"),h.qZA(),h.TgZ(7,"th"),h._uU(8,"Email"),h.qZA(),h.TgZ(9,"th"),h._uU(10,"High Score"),h.qZA()(),h.YNc(11,TW,7,3,"tr",0),h.ALo(12,"async"),h.qZA()()),2&t&&(h.xp6(11),h.Q6J("ngForOf",h.lcZ(12,1,r.players$)))},dependencies:[cs,Vi],styles:["body[_ngcontent-%COMP%]{background-image:linear-gradient(white,rgb(63,81,181));margin:0;padding:0;min-height:93.2vh}"]}),n})(),canActivate:[QR,IW]},{path:"no-acces",component:HF,canActivate:[QR]},{path:"**",component:$F}];let XR,YL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[gx.forRoot(SW),gx]}),n})();try{XR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{XR=!1}let N0,tS,qp,JR,So=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?cr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!XR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F0(n){return function DW(){if(null==N0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>N0=!0}))}finally{N0=N0||!1}return N0}()?n:!!n.capture}function QL(){if(null==qp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qp=!1,qp;if("scrollBehavior"in document.documentElement.style)qp=!0;else{const n=Element.prototype.scrollTo;qp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return qp}function L0(){if("object"!=typeof document||!document)return 0;if(null==tS){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),tS=0,0===n.scrollLeft&&(n.scrollLeft=1,tS=0===n.scrollLeft?1:2),n.remove()}return tS}function Xd(n){return n.composedPath?n.composedPath()[0]:n.target}function eP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function e2(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function t2(n,e=_d.z){return(0,Nr.e)((t,r)=>{let i=null,s=null,l=null;const d=()=>{if(i){i.unsubscribe(),i=null;const _=s;s=null,r.next(_)}};function p(){const _=l+n,E=e.now();if(E<_)return i=this.schedule(void 0,_-E),void r.add(i);d()}t.subscribe((0,or.x)(r,_=>{s=_,l=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{d(),r.complete()},void 0,()=>{s=i=null}))})}function n2(n){return Hr((e,t)=>n<=t)}function Jd(n){return(0,Nr.e)((e,t)=>{(0,Hs.Xf)(n).subscribe((0,or.x)(t,()=>t.complete(),Xg.Z)),!t.closed&&e.subscribe(t)})}function Y_(n){return null!=n&&"false"!=`${n}`}function nS(n){return Array.isArray(n)?n:[n]}function Ai(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Z_(n){return n instanceof h.SBq?n.nativeElement:n}const r2=new Set;let Q_,KW=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZW}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function YW(n){if(!r2.has(n))try{Q_||(Q_=document.createElement("style"),Q_.setAttribute("type","text/css"),document.head.appendChild(Q_)),Q_.sheet&&(Q_.sheet.insertRule(`@media ${n} {body{ }}`,0),r2.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(So))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZW(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let QW=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new $n.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return s2(nS(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=bc(s2(nS(t)).map(l=>this._registerQuery(l).observable));return s=Oa(s.pipe(Oi(1)),s.pipe(n2(1),t2(0))),s.pipe((0,It.U)(l=>{const d={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new si.y(l=>{const d=p=>this._zone.run(()=>l.next(p));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(uo(r),(0,It.U)(({matches:l})=>({query:t,matches:l})),Jd(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(KW),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s2(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class e4{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new $n.x,this._typeaheadSubscription=ps.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new $n.x,this.change=new $n.x,e instanceof h.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Zr.b)(t=>this._pressedLetters.push(t)),t2(e),Hr(()=>this._pressedLetters.length>0),(0,It.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,l=r[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((i||e2(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof h.n_E?this._items.toArray():this._items}}class t4 extends e4{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function rP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function iP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const a4=new h.OlP("cdk-input-modality-detector-options"),l4={ignoreKeys:[18,17,224,91,16]},X_=F0({passive:!0,capture:!0});let c4=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new fs(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(d=>d===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xd(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(rP(l)?"keyboard":"mouse"),this._mostRecentTarget=Xd(l))},this._onTouchstart=l=>{iP(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xd(l))},this._options={...l4,...s},this.modalityDetected=this._modality.pipe(n2(1)),this.modalityChanged=this.modalityDetected.pipe(Qg()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,X_),i.addEventListener("mousedown",this._onMousedown,X_),i.addEventListener("touchstart",this._onTouchstart,X_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,X_),document.removeEventListener("mousedown",this._onMousedown,X_),document.removeEventListener("touchstart",this._onTouchstart,X_))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(So),h.LFG(h.R0b),h.LFG(ie),h.LFG(a4,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const d4=new h.OlP("cdk-focus-monitor-default-options"),rS=F0({passive:!0,capture:!0});let sP=(()=>{class n{constructor(t,r,i,s,l){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $n.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=Xd(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,r=!1){const i=Z_(t);if(!this._platform.isBrowser||1!==i.nodeType)return ct(null);const s=function xW(n){if(function AW(){if(null==JR){const n=typeof document<"u"?document.head:null;JR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return JR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const d={checkChildren:r,subject:new $n.x,rootNode:s};return this._elementInfo.set(i,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const r=Z_(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Z_(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,r,p)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Xd(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,rS),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,rS)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Jd(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rS),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rS),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(So),h.LFG(c4),h.LFG(ie,8),h.LFG(d4,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u2="cdk-high-contrast-black-on-white",d2="cdk-high-contrast-white-on-black",oP="cdk-high-contrast-active";let h4=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,h.f3M)(QW).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(oP,u2,d2),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(oP,u2):2===r&&t.add(oP,d2)}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(So),h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f4=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function p4(){return(0,h.f3M)(ie)}}),m4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let V0=(()=>{class n{constructor(t){this.value="ltr",this.change=new h.vpe,t&&(this.value=function g4(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?m4.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(f4,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const y4=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function _4(){return!0}});let jl=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!eP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h4),h.LFG(y4,8),h.LFG(ie))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[B0,B0]}),n})();function p2(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Y_(e)}constructor(...e){super(...e),this._disabled=!1}}}function aP(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function m2(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Y_(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class b4{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const g2=F0({passive:!0,capture:!0});class E4{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Xd(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const l=s.get(r);l?l.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,g2)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,g2)))}}const _2={enterDuration:225,exitDuration:150},y2=F0({passive:!0,capture:!0}),v2=["mousedown","touchstart"],b2=["mouseup","mouseleave","touchend","touchcancel"];class j0{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Z_(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={..._2,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=r.radius||function C4(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),d=e-i.left,p=t-i.top,_=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=d-l+"px",E.style.top=p-l+"px",E.style.height=2*l+"px",E.style.width=2*l+"px",null!=r.color&&(E.style.backgroundColor=r.color),E.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(E);const T=window.getComputedStyle(E),k=T.transitionDuration,V="none"===T.transitionProperty||"0s"===k||"0s, 0s"===k||0===i.width&&0===i.height,q=new b4(this,E,r,V);E.style.transform="scale3d(1, 1, 1)",q.state=0,r.persistent||(this._mostRecentTransientRipple=q);let re=null;return!V&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ue=()=>this._finishRippleTransition(q),Ke=()=>this._destroyRipple(q);E.addEventListener("transitionend",Ue),E.addEventListener("transitioncancel",Ke),re={onTransitionEnd:Ue,onTransitionCancel:Ke}}),this._activeRipples.set(q,re),(V||!_)&&this._finishRippleTransition(q),q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={..._2,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Z_(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,v2.forEach(r=>{j0._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{b2.forEach(t=>{this._triggerElement.addEventListener(t,this,y2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=rP(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!iP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(v2.forEach(t=>j0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&b2.forEach(t=>e.removeEventListener(t,this,y2)))}}j0._eventManager=new E4;const I4=new h.OlP("mat-ripple-global-options");let lP=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new j0(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(So),h.Y36(I4,8),h.Y36(h.QbO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&h.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),E2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[jl,jl]}),n})();const T4=["*",[["mat-toolbar-row"]]],S4=["*","mat-toolbar-row"],D4=aP(class{constructor(n){this._elementRef=n}});let A4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),x4=(()=>{class n extends D4{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(So),h.Y36(ie))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&h.Suo(i,A4,5),2&t){let s;h.iGM(s=h.CRH())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&h.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:S4,decls:2,vars:0,template:function(t,r){1&t&&(h.F$t(T4),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[jl,jl]}),n})();class cP{}class eh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof eh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new eh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof eh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(d=>-1===s.indexOf(d)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class M4{encodeKey(e){return I2(e)}encodeValue(e){return I2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const P4=/%(\d[a-f0-9])/gi,k4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function I2(n){return encodeURIComponent(n).replace(P4,(e,t)=>k4[t]??e)}function iS(n){return`${n}`}class th{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new M4,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function R4(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[l,d]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],p=t.get(l)||[];p.push(d),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(iS):[iS(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new th({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(iS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(iS(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class O4{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function T2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function S2(n){return typeof Blob<"u"&&n instanceof Blob}function D2(n){return typeof FormData<"u"&&n instanceof FormData}class H0{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function N4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new eh),this.context||(this.context=new O4),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+l}}else this.params=new th,this.urlWithParams=t}serializeBody(){return null===this.body?null:T2(this.body)||S2(this.body)||D2(this.body)||function F4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof th?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||D2(this.body)?null:S2(this.body)?this.body.type||null:T2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof th?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,_=e.params||this.params;const E=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((T,A)=>T.set(A,e.setHeaders[A]),p)),e.setParams&&(_=Object.keys(e.setParams).reduce((T,A)=>T.set(A,e.setParams[A]),_)),new H0(t,r,s,{params:_,headers:p,context:E,reportProgress:d,responseType:i,withCredentials:l})}}var ns=(()=>((ns=ns||{})[ns.Sent=0]="Sent",ns[ns.UploadProgress=1]="UploadProgress",ns[ns.ResponseHeader=2]="ResponseHeader",ns[ns.DownloadProgress=3]="DownloadProgress",ns[ns.Response=4]="Response",ns[ns.User=5]="User",ns))();class L4{constructor(e,t=200,r="OK"){this.headers=e.headers||new eh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class uP extends L4{constructor(e={}){super(e),this.type=ns.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new uP({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function dP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hP=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof H0)s=t;else{let p,_;p=i.headers instanceof eh?i.headers:new eh(i.headers),i.params&&(_=i.params instanceof th?i.params:new th({fromObject:i.params})),s=new H0(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:_,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=ct(s).pipe(Na(p=>this.handler.handle(p)));if(t instanceof H0||"events"===i.observe)return l;const d=l.pipe(Hr(p=>p instanceof uP));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,It.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,It.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,It.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,It.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new th).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,dP(i,r))}post(t,r,i={}){return this.request("POST",t,dP(i,r))}put(t,r,i={}){return this.request("PUT",t,dP(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(cP))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Z4=["*"];let oS;function $0(n){return function Q4(){if(void 0===oS&&(oS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(oS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return oS}()?.createHTML(n)||n}function N2(n){return Error(`Unable to find icon with the name "${n}"`)}function F2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function L2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Kp{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let aS=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Kp(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const l=this._sanitizer.sanitize(h.q3G.HTML,i);if(!l)throw L2(i);const d=$0(l);return this._addSvgIconConfig(t,r,new Kp("",d,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Kp(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(h.q3G.HTML,r);if(!s)throw L2(r);const l=$0(s);return this._addSvgIconSetConfig(t,new Kp("",l,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,t);if(!r)throw F2(t);const i=this._cachedIconsByUrl.get(r);return i?ct(lS(i)):this._loadSvgIconFromConfig(new Kp(t,null)).pipe((0,Zr.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,It.U)(s=>lS(s)))}getNamedSvgIcon(t,r=""){const i=V2(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(t,l):gl(N2(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ct(lS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,It.U)(r=>lS(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?ct(i):zF(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Gs(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,l.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),ct(null)})))).pipe((0,It.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,r);if(!l)throw N2(t);return l}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(l,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Zr.b)(r=>t.svgText=r),(0,It.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ct(null):this._fetchIcon(t).pipe((0,Zr.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const d=this._svgElementFromString($0("<svg></svg>"));return d.appendChild(l),this._setSvgAttributes(d,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString($0("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:l,value:d}=i[s];"id"!==l&&r.setAttribute(l,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function X4(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,r);if(!l)throw F2(r);const d=this._inProgressUrlFetches.get(l);if(d)return d;const p=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,It.U)(_=>$0(_)),vl(()=>this._inProgressUrlFetches.delete(l)),(0,Lf.B)());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(V2(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return e3(s)?new Kp(s.url,null,s.options):new Kp(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hP,8),h.LFG(Ou),h.LFG(ie,8),h.LFG(h.qLn))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lS(n){return n.cloneNode(!0)}function V2(n,e){return n+":"+e}function e3(n){return!(!n.url||!n.options)}const t3=aP(class{constructor(n){this._elementRef=n}}),n3=new h.OlP("MAT_ICON_DEFAULT_OPTIONS"),r3=new h.OlP("mat-icon-location",{providedIn:"root",factory:function s3(){const n=(0,h.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),B2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],o3=B2.map(n=>`[${n}]`).join(", "),a3=/^url\(['"]?#(.*?)['"]?\)$/;let l3=(()=>{class n extends t3{get inline(){return this._inline}set inline(t){this._inline=Y_(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,s,l,d){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ps.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(o3),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)B2.forEach(l=>{const d=r[s],p=d.getAttribute(l),_=p?p.match(a3):null;if(_){let E=i.get(d);E||(E=[],i.set(d,E)),E.push({name:l,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Oi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(aS),h.$8M("aria-hidden"),h.Y36(r3),h.Y36(h.qLn),h.Y36(n3,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(h.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),h.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:Z4,decls:1,vars:0,template:function(t,r){1&t&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),U2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[jl,jl]}),n})();const c3=["mat-button",""],u3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],d3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],h3=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],f3=aP(p2(m2(class{constructor(n){this._elementRef=n}})));let p3=(()=>{class n extends f3{constructor(t,r,i,s){super(t),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=(0,h.f3M)(sP),this._isFab=!1;const l=t.nativeElement.classList;for(const d of h3)this._hasHostAttributes(d.selector)&&d.mdcClasses.forEach(p=>{l.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){h.$Z()},n.\u0275dir=h.lG2({type:n,viewQuery:function(t,r){if(1&t&&h.Gf(lP,5),2&t){let i;h.iGM(i=h.CRH())&&(r.ripple=i.first)}},features:[h.qOj]}),n})(),g3=(()=>{class n extends p3{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(So),h.Y36(h.R0b),h.Y36(h.QbO,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(h.uIk("disabled",r.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:c3,ngContentSelectors:d3,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(h.F$t(u3),h._UZ(0,"span",0),h.Hsn(1),h.TgZ(2,"span",1),h.Hsn(3,1),h.qZA(),h.Hsn(4,2),h._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(h.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),h.xp6(6),h.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[lP],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),j2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[jl,E2,jl]}),n})();var H2=O(4408);let pP,y3=1;const cS={};function $2(n){return n in cS&&(delete cS[n],!0)}const v3={setImmediate(n){const e=y3++;return cS[e]=!0,pP||(pP=Promise.resolve()),pP.then(()=>$2(e)&&n()),e},clearImmediate(n){$2(n)}},{setImmediate:b3,clearImmediate:E3}=v3,uS={setImmediate(...n){const{delegate:e}=uS;return(e?.setImmediate||b3)(...n)},clearImmediate(n){const{delegate:e}=uS;return(e?.clearImmediate||E3)(n)},delegate:void 0};var z2=O(7565);const mP=new class C3 extends z2.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class w3 extends H2.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=uS.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(uS.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function G2(n,e){return e?t=>Oa(e.pipe(Oi(1),function I3(){return(0,Nr.e)((n,e)=>{n.subscribe((0,or.x)(e,Xg.Z))})}()),t.pipe(G2(n))):(0,Fr.z)((t,r)=>(0,Hs.Xf)(n(t,r)).pipe(Oi(1),af(t)))}var T3=O(3532);function W2(n=0,e,t=_d.P){let r=-1;return null!=e&&((0,T3.K)(e)?t=e:r=e),new si.y(i=>{let s=function S3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function q2(n,e=_d.z){const t=W2(n,e);return G2(()=>t)}class gP{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class D3 extends gP{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class K2 extends gP{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class A3 extends gP{constructor(e){super(),this.element=e instanceof h.SBq?e.nativeElement:e}}class x3{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof D3?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof K2?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof A3?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class M3 extends x3{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const d=l.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let R3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();class Y2{}class P3{}const Xc="*";function Z2(n,e){return{type:7,name:n,definitions:e,options:{}}}function _P(n,e=null){return{type:4,styles:e,timings:n}}function Q2(n,e=null){return{type:2,steps:n,options:e}}function Yp(n){return{type:6,styles:n,offset:null}}function X2(n,e,t){return{type:0,name:n,styles:e,options:t}}function yP(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function J2(n){Promise.resolve().then(n)}class z0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){J2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class eV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?J2(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++r==s&&this._onDestroy()}),l.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const vP="!";var k3=O(1144);const O3=["addListener","removeListener"],N3=["addEventListener","removeEventListener"],F3=["on","off"];function dS(n,e,t,r){if((0,$s.m)(t)&&(r=t,t=void 0),r)return dS(n,e,t).pipe(Ts(r));const[i,s]=function B3(n){return(0,$s.m)(n.addEventListener)&&(0,$s.m)(n.removeEventListener)}(n)?N3.map(l=>d=>n[l](e,d,t)):function L3(n){return(0,$s.m)(n.addListener)&&(0,$s.m)(n.removeListener)}(n)?O3.map(tV(n,e)):function V3(n){return(0,$s.m)(n.on)&&(0,$s.m)(n.off)}(n)?F3.map(tV(n,e)):[];if(!i&&(0,k3.z)(n))return(0,Fr.z)(l=>dS(l,e,t))((0,Hs.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new si.y(l=>{const d=(...p)=>l.next(1<p.length?p:p[0]);return i(d),()=>s(d)})}function tV(n,e){return t=>r=>n[t](e,r)}const G0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=G0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new ps.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=G0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=G0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},H3=new class j3 extends z2.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class U3 extends H2.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=G0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(G0.cancelAnimationFrame(t),e._scheduled=void 0)}});function bP(n,e=_d.z){return function $3(n){return(0,Nr.e)((e,t)=>{let r=!1,i=null,s=null,l=!1;const d=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const _=i;i=null,t.next(_)}l&&t.complete()},p=()=>{s=null,l&&t.complete()};e.subscribe((0,or.x)(t,_=>{r=!0,i=_,s||(0,Hs.Xf)(n(_)).subscribe(s=(0,or.x)(t,d,p))},()=>{l=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>W2(n,e))}const z3=["contentWrapper"],G3=["*"],W3=new h.OlP("VIRTUAL_SCROLL_STRATEGY");let hS=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new $n.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new si.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(bP(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Hr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Z_(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>dS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(So),h.LFG(ie,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nV=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new $n.x,this._elementScrolled=new si.y(l=>this.ngZone.runOutsideAngular(()=>dS(this.elementRef.nativeElement,"scroll").pipe(Jd(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=L0()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==L0()?t.left=t.right:1==L0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;QL()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?i:r:"end"==t&&(t=l?r:i),l&&2==L0()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==L0()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(hS),h.Y36(h.R0b),h.Y36(V0,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),EP=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new $n.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(bP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(So),h.LFG(h.R0b),h.LFG(ie,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rV=new h.OlP("VIRTUAL_SCROLLABLE");let Y3=(()=>{class n extends nV{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(hS),h.Y36(h.R0b),h.Y36(V0,8))},n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Q3=typeof requestAnimationFrame<"u"?H3:mP;let X3=(()=>{class n extends Y3{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Y_(t)}constructor(t,r,i,s,l,d,p,_){super(t,d,i,l),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=_,this._platform=(0,h.f3M)(So),this._detachedSubject=new $n.x,this._renderedRangeSubject=new $n.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new si.y(E=>this._scrollStrategy.scrolledIndexChange.subscribe(T=>Promise.resolve().then(()=>this.ngZone.run(()=>E.next(T))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ps.w0.EMPTY,this._viewportChanges=p.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(uo(null),bP(0,Q3)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Jd(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Z3(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,l=s?"X":"Y";let p=`translate${l}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(p+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=p&&(this._renderedContentTransform=p,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",l="rtl"==this.dir?.value;r="start"==t?l?s:i:"end"==t?l?i:s:t||("horizontal"===this.orientation?"left":"top");const d=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-d}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.R0b),h.Y36(W3,8),h.Y36(V0,8),h.Y36(hS),h.Y36(EP),h.Y36(rV,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&h.Gf(z3,7),2&t){let i;h.iGM(i=h.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&h.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[h._Bn([{provide:nV,useFactory:(e,t)=>e||t,deps:[[new h.FiY,new h.tBr(rV)],n]}]),h.qOj,h.jDz],ngContentSelectors:G3,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA(),h._UZ(3,"div",2)),2&t&&(h.xp6(3),h.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),wP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),iV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[B0,wP,X3,B0,wP]}),n})();const sV=QL();class J3{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ai(-this._previousScrollPosition.left),e.style.top=Ai(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),sV&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),sV&&(r.scrollBehavior=s,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class e6{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Hr(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class oV{enable(){}disable(){}attach(){}}function CP(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function aV(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class t6{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();CP(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let n6=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new oV,this.close=l=>new e6(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new J3(this._viewportRuler,this._document),this.reposition=l=>new t6(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hS),h.LFG(EP),h.LFG(h.R0b),h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lV{constructor(e){if(this.scrollStrategy=new oV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class r6{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let cV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i6=(()=>{class n extends cV{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const d=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(i)):d.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie),h.LFG(h.R0b,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s6=(()=>{class n extends cV{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Xd(s)},this._clickListener=s=>{const l=Xd(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const E=p[_];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(l)||E.overlayElement.contains(d))break;const T=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie),h.LFG(So),h.LFG(h.R0b,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uV=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||eP()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),eP()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie),h.LFG(So))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class o6{constructor(e,t,r,i,s,l,d,p,_,E=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=l,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new $n.x,this._attachments=new $n.x,this._detachments=new $n.x,this._locationChanges=ps.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new $n.x,this._outsidePointerEvents=new $n.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Oi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ai(this._config.width),e.height=Ai(this._config.height),e.minWidth=Ai(this._config.minWidth),e.minHeight=Ai(this._config.minHeight),e.maxWidth=Ai(this._config.maxWidth),e.maxHeight=Ai(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=nS(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Jd((0,Xo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const dV="cdk-overlay-connected-position-bounding-box",a6=/([A-Za-z%]+)$/;class l6{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $n.x,this._resizeSubscription=ps.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(dV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let l;for(let d of this._preferredPositions){let p=this._getOriginPoint(e,i,d),_=this._getOverlayPoint(p,t,d),E=this._getOverlayFit(_,t,r,d);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(E,_,r)?s.push({position:d,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!l||l.overlayFit.visibleArea<E.visibleArea)&&(l={overlayFit:E,overlayPoint:_,originPoint:p,position:d,overlayRect:t})}if(s.length){let d=null,p=-1;for(const _ of s){const E=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);E>p&&(p=E,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;i="start"==r.originX?l:d}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=fV(t);let{x:l,y:d}=e,p=this._getOffset(i,"x"),_=this._getOffset(i,"y");p&&(l+=p),_&&(d+=_);let A=0-d,k=d+s.height-r.height,V=this._subtractOverflows(s.width,0-l,l+s.width-r.width),q=this._subtractOverflows(s.height,A,k),re=V*q;return{visibleArea:re,isCompletelyWithinViewport:s.width*s.height===re,fitsInViewportVertically:q===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,l=hV(this._overlayRef.getConfig().minHeight),d=hV(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=i)&&(e.fitsInViewportHorizontally||null!=d&&d<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=fV(t),s=this._viewportRect,l=Math.max(e.x+i.width-s.width,0),d=Math.max(e.y+i.height-s.height,0),p=Math.max(s.top-r.top-e.y,0),_=Math.max(s.left-r.left-e.x,0);let E=0,T=0;return E=i.width<=s.width?_||-l:e.x<this._viewportMargin?s.left-r.left-e.x:0,T=i.height<=s.height?p||-d:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:E,y:T},{x:e.x+E,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new r6(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,l,d,E,T,A;if("top"===t.overlayY)l=e.y,s=r.height-l+this._viewportMargin;else if("bottom"===t.overlayY)d=r.height-e.y+2*this._viewportMargin,s=r.height-d+this._viewportMargin;else{const k=Math.min(r.bottom-e.y+r.top,e.y),V=this._lastBoundingBoxSize.height;s=2*k,l=e.y-k,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-V/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)A=r.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)T=e.x,E=r.right-e.x;else{const k=Math.min(r.right-e.x+r.left,e.x),V=this._lastBoundingBoxSize.width;E=2*k,T=e.x-k,E>V&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-V/2)}return{top:l,left:T,bottom:d,right:A,width:E,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Ai(r.height),i.top=Ai(r.top),i.bottom=Ai(r.bottom),i.width=Ai(r.width),i.left=Ai(r.left),i.right=Ai(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ai(s)),l&&(i.maxWidth=Ai(l))}this._lastBoundingBoxSize=r,Zp(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Zp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const E=this._viewportRuler.getViewportScrollPosition();Zp(r,this._getExactOverlayY(t,e,E)),Zp(r,this._getExactOverlayX(t,e,E))}else r.position="static";let d="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),r.transform=d.trim(),l.maxHeight&&(i?r.maxHeight=Ai(l.maxHeight):s&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Ai(l.maxWidth):s&&(r.maxWidth="")),Zp(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ai(s.y),i}_getExactOverlayX(e,t,r){let l,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ai(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:aV(e,r),isOriginOutsideView:CP(e,r),isOverlayClipped:aV(t,r),isOverlayOutsideView:CP(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&nS(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof h.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Zp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function hV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(a6);return t&&"px"!==t?null:parseFloat(e)}return n||null}function fV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const pV="cdk-global-overlay-wrapper";class c6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(pV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:l,maxHeight:d}=r,p=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),E=this._xPosition,T=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let k="",V="",q="";p?q="flex-start":"center"===E?(q="center",A?V=T:k=T):A?"left"===E||"end"===E?(q="flex-end",k=T):("right"===E||"start"===E)&&(q="flex-start",V=T):"left"===E||"start"===E?(q="flex-start",k=T):("right"===E||"end"===E)&&(q="flex-end",V=T),e.position=this._cssPosition,e.marginLeft=p?"0":k,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":V,t.justifyContent=q,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(pV),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let u6=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new c6}flexibleConnectedTo(t){return new l6(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(EP),h.LFG(ie),h.LFG(So),h.LFG(uV))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d6=0,fS=(()=>{class n{constructor(t,r,i,s,l,d,p,_,E,T,A,k){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=d,this._ngZone=p,this._document=_,this._directionality=E,this._location=T,this._outsideClickDispatcher=A,this._animationsModuleType=k}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),l=new lV(t);return l.direction=l.direction||this._directionality.value,new o6(s,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+d6++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new M3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n6),h.LFG(uV),h.LFG(h._Vd),h.LFG(u6),h.LFG(i6),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(ie),h.LFG(V0),h.LFG(qe),h.LFG(s6),h.LFG(h.QbO,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p6={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[fS],useFactory:function f6(n){return()=>n.scrollStrategies.reposition()}};let m6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[fS,p6],imports:[B0,R3,iV,iV]}),n})();const g6=["mat-menu-item",""];function _6(n,e){1&n&&(h.O4$(),h.TgZ(0,"svg",3),h._UZ(1,"polygon",4),h.qZA())}const y6=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],v6=["mat-icon, [matMenuItemIcon]","*"];function b6(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",0),h.NdJ("keydown",function(i){h.CHM(t);const s=h.oxw();return h.KtG(s._handleKeydown(i))})("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.closed.emit("click"))})("@transformMenu.start",function(i){h.CHM(t);const s=h.oxw();return h.KtG(s._onAnimationStart(i))})("@transformMenu.done",function(i){h.CHM(t);const s=h.oxw();return h.KtG(s._onAnimationDone(i))}),h.TgZ(1,"div",1),h.Hsn(2),h.qZA()()}if(2&n){const t=h.oxw();h.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),h.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const E6=["*"],IP=new h.OlP("MAT_MENU_PANEL"),w6=m2(p2(class{}));let pS=(()=>{class n extends w6{constructor(t,r,i,s,l){super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new $n.x,this._focused=new $n.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(ie),h.Y36(sP),h.Y36(IP,8),h.Y36(h.sBO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(t,r){1&t&&h.NdJ("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(h.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),h.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[h.qOj],attrs:g6,ngContentSelectors:v6,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(h.F$t(y6),h.Hsn(0),h.TgZ(1,"span",0),h.Hsn(2,1),h.qZA(),h._UZ(3,"div",1),h.YNc(4,_6,2,0,"svg",2)),2&t&&(h.xp6(3),h.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),h.xp6(1),h.Q6J("ngIf",r._triggersSubmenu))},dependencies:[Ls,lP],encapsulation:2,changeDetection:0}),n})();const C6=new h.OlP("MatMenuContent"),mS={transformMenu:Z2("transformMenu",[X2("void",Yp({opacity:0,transform:"scale(0.8)"})),yP("void => enter",_P("120ms cubic-bezier(0, 0, 0.2, 1)",Yp({opacity:1,transform:"scale(1)"}))),yP("* => void",_P("100ms 25ms linear",Yp({opacity:0})))]),fadeInItems:Z2("fadeInItems",[X2("showing",Yp({opacity:1})),yP("void => *",[Yp({opacity:0}),_P("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let I6=0;const mV=new h.OlP("mat-menu-default-options",{providedIn:"root",factory:function T6(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let W0=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Y_(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Y_(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,r,i,s){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new h.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new $n.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new h.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+I6++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new t4(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(uo(this._directDescendantItems),Xn(t=>(0,Xo.T)(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=t.toArray(),s=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[s]&&!i[s].disabled?r.setActiveItem(s):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(uo(this._directDescendantItems),Xn(r=>(0,Xo.T)(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:e2(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Oi(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(uo(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(mV),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,contentQueries:function(t,r,i){if(1&t&&(h.Suo(i,C6,5),h.Suo(i,pS,5),h.Suo(i,pS,4)),2&t){let s;h.iGM(s=h.CRH())&&(r.lazyContent=s.first),h.iGM(s=h.CRH())&&(r._allItems=s),h.iGM(s=h.CRH())&&(r.items=s)}},viewQuery:function(t,r){if(1&t&&h.Gf(h.Rgc,5),2&t){let i;h.iGM(i=h.CRH())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),S6=(()=>{class n extends W0{constructor(t,r,i,s){super(t,r,i,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(mV),h.Y36(h.sBO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&h.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[h._Bn([{provide:IP,useExisting:n}]),h.qOj],ngContentSelectors:E6,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(t,r){1&t&&(h.F$t(),h.YNc(0,b6,3,6,"ng-template"))},dependencies:[an],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[mS.transformMenu,mS.fadeInItems]},changeDetection:0}),n})();const gV=new h.OlP("mat-menu-scroll-strategy"),A6={provide:gV,deps:[fS],useFactory:function D6(n){return()=>n.scrollStrategies.reposition()}},_V=F0({passive:!0});let x6=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,r,i,s,l,d,p,_,E){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=d,this._dir=p,this._focusMonitor=_,this._ngZone=E,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ps.w0.EMPTY,this._hoverSubscription=ps.w0.EMPTY,this._menuCloseSubscription=ps.w0.EMPTY,this._changeDetectorRef=(0,h.f3M)(h.sBO),this._handleTouchStart=T=>{iP(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new h.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new h.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof W0?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,_V)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_V),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),s=i.positionStrategy;this._setPosition(t,s),i.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof W0&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Jd(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof W0?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Hr(i=>"void"===i.toState),Oi(1),Jd(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new lV({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const s="start"===i.connectionPair.overlayX?"after":"before",l="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,l)):t.setPositionClasses(s,l)})}_setPosition(t,r){let[i,s]="before"===t.xPosition?["end","start"]:["start","end"],[l,d]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[p,_]=[l,d],[E,T]=[i,s],A=0;if(this.triggersSubmenu()){if(T=i="before"===t.xPosition?"start":"end",s=E="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const k=this._parentMaterialMenu.items.first;this._parentInnerPadding=k?k._getHostElement().offsetTop:0}A="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(p="top"===l?"bottom":"top",_="top"===d?"bottom":"top");r.withPositions([{originX:i,originY:p,overlayX:E,overlayY:l,offsetY:A},{originX:s,originY:p,overlayX:T,overlayY:l,offsetY:A},{originX:i,originY:_,overlayX:E,overlayY:d,offsetY:-A},{originX:s,originY:_,overlayX:T,overlayY:d,offsetY:-A}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:ct(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Hr(l=>l!==this._menuItemInstance),Hr(()=>this._menuOpen)):ct();return(0,Xo.T)(t,i,s,r)}_handleMousedown(t){rP(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Hr(t=>t===this._menuItemInstance&&!t.disabled),q2(0,mP)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof W0&&this.menu._isAnimating?this.menu._animationDone.pipe(Oi(1),q2(0,mP),Jd(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new K2(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(fS),h.Y36(h.SBq),h.Y36(h.s_b),h.Y36(gV),h.Y36(IP,8),h.Y36(pS,10),h.Y36(V0,8),h.Y36(sP),h.Y36(h.R0b))},n.\u0275dir=h.lG2({type:n,hostVars:3,hostBindings:function(t,r){1&t&&h.NdJ("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),2&t&&h.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),M6=(()=>{class n extends x6{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[h.qOj]}),n})(),yV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[A6],imports:[fe,E2,jl,m6,wP,jl]}),n})();function R6(n,e){if(1&n&&(h.TgZ(0,"button",9),h._uU(1),h.qZA()),2&n){const t=e.ngIf;h.oxw();const r=h.MAs(12);h.Q6J("matMenuTriggerFor",r),h.xp6(1),h.Oqu(t)}}const P6=function(){return["/login"]};function k6(n,e){1&n&&(h.TgZ(0,"button",10),h._uU(1,"Login"),h.qZA()),2&n&&h.Q6J("routerLink",h.DdM(1,P6))}const O6=function(){return["/leaderboard"]};function N6(n,e){1&n&&(h.ynx(0),h.TgZ(1,"button",11),h._uU(2,"Leaderboard"),h.qZA(),h.BQk()),2&n&&(h.xp6(1),h.Q6J("routerLink",h.DdM(1,O6)))}const F6=function(){return["/"]};let vV=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.userService=i,this.displayName$=this.userService.displayName$,this.isAdmin$=this.userService.isAdmin$}ngOnInit(){}logout(){this.authService.logout(),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(xR),h.Y36(hi),h.Y36(zp))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:17,vars:9,consts:[["color","primary"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"spacer"],[2,"color","white"],["mat-raised-button","","color","accent",3,"matMenuTriggerFor",4,"ngIf","ngIfElse"],["login",""],["appMenu",""],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-raised-button","","color","accent",3,"matMenuTriggerFor"],["mat-raised-button","","color","accent","routerLinkActive","router-link-active",3,"routerLink"],["mat-menu-item","","routerLinkActive","router-link-active",3,"routerLink"]],template:function(t,r){if(1&t&&(h.TgZ(0,"mat-toolbar",0)(1,"mat-icon",1),h._uU(2,"home"),h.qZA(),h._UZ(3,"span",2),h.TgZ(4,"a",3),h._uU(5,"SCRAMBLE"),h.qZA(),h._UZ(6,"span",2),h.YNc(7,R6,2,2,"button",4),h.ALo(8,"async"),h.YNc(9,k6,2,2,"ng-template",null,5,h.W1O),h.TgZ(11,"mat-menu",null,6),h.YNc(13,N6,3,2,"ng-container",7),h.ALo(14,"async"),h.TgZ(15,"button",8),h.NdJ("click",function(){return r.logout()}),h._uU(16,"Logout"),h.qZA()()()),2&t){const i=h.MAs(10);h.xp6(1),h.Q6J("routerLink",h.DdM(8,F6)),h.xp6(6),h.Q6J("ngIf",h.lcZ(8,4,r.displayName$))("ngIfElse",i),h.xp6(6),h.Q6J("ngIf",h.lcZ(14,6,r.isAdmin$))}},dependencies:[Ls,xg,ox,x4,l3,g3,S6,pS,M6,Vi],styles:[".spacer[_ngcontent-%COMP%]{flex:1}"]}),n})(),L6=(()=>{class n{constructor(){this.title="UniProject"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[["id","container"]],template:function(t,r){1&t&&(h._UZ(0,"app-navbar"),h.TgZ(1,"div",0),h._UZ(2,"router-outlet"),h.qZA())},dependencies:[vv,vV]}),n})();function bV(n){return new h.vHH(3e3,!1)}function v5(){return typeof window<"u"&&typeof window.document<"u"}function TP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function nh(n){switch(n.length){case 0:return new z0;case 1:return n[0];default:return new eV(n)}}function EV(n,e,t,r,i=new Map,s=new Map){const l=[],d=[];let p=-1,_=null;if(r.forEach(E=>{const T=E.get("offset"),A=T==p,k=A&&_||new Map;E.forEach((V,q)=>{let re=q,Ue=V;if("offset"!==q)switch(re=e.normalizePropertyName(re,l),Ue){case vP:Ue=i.get(q);break;case Xc:Ue=s.get(q);break;default:Ue=e.normalizeStyleValue(q,re,Ue,l)}k.set(re,Ue)}),A||d.push(k),_=k,p=T}),l.length)throw function a5(n){return new h.vHH(3502,!1)}();return d}function SP(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&DP(t,"start",n)));break;case"done":n.onDone(()=>r(t&&DP(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&DP(t,"destroy",n)))}}function DP(n,e,t){const s=AP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function AP(n,e,t,r,i="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!l}}function Do(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function wV(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let xP=(n,e)=>!1,CV=(n,e,t)=>[],IV=null;function MP(n){const e=n.parentNode||n.host;return e===IV?null:e}(TP()||typeof Element<"u")&&(v5()?(IV=(()=>document.documentElement)(),xP=(n,e)=>{for(;e;){if(e===n)return!0;e=MP(e)}return!1}):xP=(n,e)=>n.contains(e),CV=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Qp=null,TV=!1;const SV=xP,DV=CV;let AV=(()=>{class n{validateStyleProperty(t){return function E5(n){Qp||(Qp=function w5(){return typeof document<"u"?document.body:null}()||{},TV=!!Qp.style&&"WebkitAppearance"in Qp.style);let e=!0;return Qp.style&&!function b5(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Qp.style,!e&&TV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Qp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return SV(t,r)}getParentElement(t){return MP(t)}query(t,r,i){return DV(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,l,d=[],p){return new z0(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),RP=(()=>{class n{}return n.NOOP=new AV,n})();const C5=1e3,PP="ng-enter",gS="ng-leave",_S="ng-trigger",yS=".ng-trigger",MV="ng-animating",kP=".ng-animating";function Jc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OP(parseFloat(e[1]),e[2])}function OP(n,e){return"s"===e?n*C5:n}function vS(n,e,t){return n.hasOwnProperty("duration")?n:function T5(n,e,t){let i,s=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(bV()),{duration:0,delay:0,easing:""};i=OP(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=OP(parseFloat(p),d[4]));const _=d[5];_&&(l=_)}else i=n;if(!t){let d=!1,p=e.length;i<0&&(e.push(function V6(){return new h.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function B6(){return new h.vHH(3101,!1)}()),d=!0),d&&e.splice(p,0,bV())}return{duration:i,delay:s,easing:l}}(n,e,t)}function q0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function RV(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function rh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function kV(n,e,t){return t?e+":"+t+";":""}function OV(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=kV(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=kV(0,x5(t),n.style[t]));n.setAttribute("style",e)}function Hl(n,e,t){n.style&&(e.forEach((r,i)=>{const s=FP(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),TP()&&OV(n))}function Xp(n,e){n.style&&(e.forEach((t,r)=>{const i=FP(r);n.style[i]=""}),TP()&&OV(n))}function K0(n){return Array.isArray(n)?1==n.length?n[0]:Q2(n):n}const NP=new RegExp("{{\\s*(.+?)\\s*}}","g");function NV(n){let e=[];if("string"==typeof n){let t;for(;t=NP.exec(n);)e.push(t[1]);NP.lastIndex=0}return e}function Y0(n,e,t){const r=n.toString(),i=r.replace(NP,(s,l)=>{let d=e[l];return null==d&&(t.push(function j6(n){return new h.vHH(3003,!1)}()),d=""),d.toString()});return i==r?n:i}function bS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const A5=/-+([a-z0-9])/g;function FP(n){return n.replace(A5,(...e)=>e[1].toUpperCase())}function x5(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ao(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function H6(n){return new h.vHH(3004,!1)}()}}function FV(n,e){return window.getComputedStyle(n)[e]}const CS="*";function N5(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function F5(n,e,t){if(":"==n[0]){const p=function L5(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function n5(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function t5(n){return new h.vHH(3015,!1)}()),e;const i=r[1],s=r[2],l=r[3];e.push(LV(i,l));"<"==s[0]&&!(i==CS&&l==CS)&&e.push(LV(l,i))}(r,t,e)):t.push(n),t}const IS=new Set(["true","1"]),TS=new Set(["false","0"]);function LV(n,e){const t=IS.has(n)||TS.has(n),r=IS.has(e)||TS.has(e);return(i,s)=>{let l=n==CS||n==i,d=e==CS||e==s;return!l&&t&&"boolean"==typeof i&&(l=i?IS.has(n):TS.has(n)),!d&&r&&"boolean"==typeof s&&(d=s?IS.has(e):TS.has(e)),l&&d}}const V5=new RegExp("s*:selfs*,?","g");function LP(n,e,t,r){return new B5(n).build(e,t,r)}class B5{constructor(e){this._driver=e}build(e,t,r){const i=new H5(t);return this._resetContextStyleTimingState(i),Ao(this,K0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function z6(){return new h.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(E=>{p.name=E,s.push(this.visitState(p,t))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,t);r+=p.queryCount,i+=p.depCount,l.push(p)}else t.errors.push(function G6(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,l=i||{};r.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{NV(p).forEach(_=>{l.hasOwnProperty(_)||s.add(_)})})}),s.size&&(bS(s.values()),t.errors.push(function W6(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ao(this,K0(e.animation),t);return{type:1,matchers:N5(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Jp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ao(this,r,t)),options:Jp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(l=>{t.currentTime=r;const d=Ao(this,l,t);return i=Math.max(i,t.currentTime),d});return t.currentTime=i,{type:3,steps:s,options:Jp(e.options)}}visitAnimate(e,t){const r=function z5(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return VP(vS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=VP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=vS(t,e);return VP(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Yp({});if(5==s.type)i=this.visitKeyframes(s,t);else{let l=e.styles,d=!1;if(!l){d=!0;const _={};r.easing&&(_.easing=r.easing),l=Yp(_)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(l,t);p.isEmptyStep=d,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of i)"string"==typeof d?d===Xc?r.push(d):t.errors.push(new h.vHH(3002,!1)):r.push(RV(d));let s=!1,l=null;return r.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,p)=>{const _=t.collectedStyles.get(t.currentQuerySelector),E=_.get(p);let T=!0;E&&(s!=i&&s>=E.startTime&&i<=E.endTime&&(t.errors.push(function K6(n,e,t,r,i){return new h.vHH(3010,!1)}()),T=!1),s=E.startTime),T&&_.set(p,{startTime:s,endTime:i}),t.options&&function D5(n,e,t){const r=e.params||{},i=NV(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function U6(n){return new h.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Y6(){return new h.vHH(3011,!1)}()),r;let s=0;const l=[];let d=!1,p=!1,_=0;const E=e.steps.map(Ue=>{const Ke=this._makeStyleAst(Ue,t);let tt=null!=Ke.offset?Ke.offset:function $5(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ke.styles),gt=0;return null!=tt&&(s++,gt=Ke.offset=tt),p=p||gt<0||gt>1,d=d||gt<_,_=gt,l.push(gt),Ke});p&&t.errors.push(function Z6(){return new h.vHH(3012,!1)}()),d&&t.errors.push(function Q6(){return new h.vHH(3200,!1)}());const T=e.steps.length;let A=0;s>0&&s<T?t.errors.push(function X6(){return new h.vHH(3202,!1)}()):0==s&&(A=1/(T-1));const k=T-1,V=t.currentTime,q=t.currentAnimateTimings,re=q.duration;return E.forEach((Ue,Ke)=>{const tt=A>0?Ke==k?1:A*Ke:l[Ke],gt=tt*re;t.currentTime=V+q.delay+gt,q.duration=gt,this._validateStyleAst(Ue,t),Ue.offset=tt,r.styles.push(Ue)}),r}visitReference(e,t){return{type:8,animation:Ao(this,K0(e.animation),t),options:Jp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Jp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Jp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function U5(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(V5,"")),n=n.replace(/@\*/g,yS).replace(/@\w+/g,t=>yS+"-"+t.slice(1)).replace(/:animating/g,kP),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Do(t.collectedStyles,t.currentQuerySelector,new Map);const d=Ao(this,K0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:d,originalSelector:e.selector,options:Jp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function J6(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:vS(e.timings,t.errors,!0);return{type:12,animation:Ao(this,K0(e.animation),t),timings:r,options:null}}}class H5{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jp(n){return n?(n=q0(n)).params&&(n.params=function j5(n){return n?q0(n):null}(n.params)):n={},n}function VP(n,e,t){return{duration:n,delay:e,easing:t}}function BP(n,e,t,r,i,s,l=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:l,subTimeline:d}}class SS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const q5=new RegExp(":enter","g"),Y5=new RegExp(":leave","g");function UP(n,e,t,r,i,s=new Map,l=new Map,d,p,_=[]){return(new Z5).buildKeyframes(n,e,t,r,i,s,l,d,p,_)}class Z5{buildKeyframes(e,t,r,i,s,l,d,p,_,E=[]){_=_||new SS;const T=new jP(e,t,_,i,s,E,[]);T.options=p;const A=p.delay?Jc(p.delay):0;T.currentTimeline.delayNextStep(A),T.currentTimeline.setStyles([l],null,T.errors,p),Ao(this,r,T);const k=T.timelines.filter(V=>V.containsAnimation());if(k.length&&d.size){let V;for(let q=k.length-1;q>=0;q--){const re=k[q];if(re.element===t){V=re;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([d],null,T.errors,p)}return k.length?k.map(V=>V.buildKeyframes()):[BP(t,[],[],[],0,A,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const l="number"==typeof s?s:Jc(Y0(s,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const l=null!=r.duration?Jc(r.duration):null,d=null!=r.delay?Jc(r.delay):null;return 0!==l&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,l,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ao(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=DS);const l=Jc(s.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ao(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Jc(e.options.delay):0;e.steps.forEach(l=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),Ao(this,l,d),i=Math.max(i,d.currentTimeline.currentTime),r.push(d.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return vS(t.params?Y0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,d=t.createSubContext().currentTimeline;d.easing=r.easing,e.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Jc(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=DS);let l=r;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=d.length;let p=null;d.forEach((_,E)=>{t.currentQueryIndex=E;const T=t.createSubContext(e.options,_);s&&T.delayNextStep(s),_===t.element&&(p=T.currentTimeline),Ao(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),d=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=r.currentStaggerTime}const E=t.currentTimeline;p&&E.delayNextStep(p);const T=E.currentTime;Ao(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const DS={};class jP{constructor(e,t,r,i,s,l,d,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new AS(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Jc(r.duration)),null!=r.delay&&(i.delay=Jc(r.delay));const s=r.params;if(s){let l=i.params;l||(l=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!l.hasOwnProperty(d))&&(l[d]=Y0(s[d],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new jP(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=DS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Q5(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,l){let d=[];if(i&&d.push(this.element),e.length>0){e=(e=e.replace(q5,"."+this._enterClassName)).replace(Y5,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=r);0!==r&&(_=r<0?_.slice(_.length+r,_.length):_.slice(0,r)),d.push(..._)}return!s&&0==d.length&&l.push(function e5(n){return new h.vHH(3014,!1)}()),d}}class AS{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new AS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Xc),this._currentKeyframe.set(t,Xc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},l=function X5(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Xc)}else rh(i,t)}),t}(e,this._globalTimelineStyles);for(let[d,p]of l){const _=Y0(p,s,r);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Xc),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((d,p)=>{const _=rh(d,new Map,this._backFill);_.forEach((E,T)=>{E===vP?e.add(T):E===Xc&&t.add(T)}),r||_.set("offset",p/this.duration),i.push(_)});const s=e.size?bS(e.values()):[],l=t.size?bS(t.values()):[];if(r){const d=i[0],p=new Map(d);d.set("offset",0),p.set("offset",1),i=[d,p]}return BP(this.element,i,s,l,this.duration,this.startTime,this.easing,!1)}}class Q5 extends AS{constructor(e,t,r,i,s,l,d=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=r+t,d=t/l,p=rh(e[0]);p.set("offset",0),s.push(p);const _=rh(e[0]);_.set("offset",UV(d)),s.push(_);const E=e.length-1;for(let T=1;T<=E;T++){let A=rh(e[T]);const k=A.get("offset");A.set("offset",UV((t+k*r)/l)),s.push(A)}r=l,t=0,i="",e=s}return BP(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function UV(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class HP{}const J5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class eq extends HP{normalizePropertyName(e,t){return FP(e)}normalizeStyleValue(e,t,r,i){let s="";const l=r.toString().trim();if(J5.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const d=r.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&i.push(function $6(n,e){return new h.vHH(3005,!1)}())}return l+s}}function jV(n,e,t,r,i,s,l,d,p,_,E,T,A){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:l,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:E,totalTime:T,errors:A}}const $P={};class HV{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function tq(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,l,d,p,_,E){const T=[],A=this.ast.options&&this.ast.options.params||$P,V=this.buildStyles(r,d&&d.params||$P,T),q=p&&p.params||$P,re=this.buildStyles(i,q,T),Ue=new Set,Ke=new Map,tt=new Map,gt="void"===i,sn={params:nq(q,A),delay:this.ast.options?.delay},un=E?[]:UP(e,t,this.ast.animation,s,l,V,re,sn,_,T);let er=0;if(un.forEach(ko=>{er=Math.max(ko.duration+ko.delay,er)}),T.length)return jV(t,this._triggerName,r,i,gt,V,re,[],[],Ke,tt,er,T);un.forEach(ko=>{const du=ko.element,Zz=Do(Ke,du,new Set);ko.preStyleProps.forEach(Im=>Zz.add(Im));const lw=Do(tt,du,new Set);ko.postStyleProps.forEach(Im=>lw.add(Im)),du!==t&&Ue.add(du)});const ei=bS(Ue.values());return jV(t,this._triggerName,r,i,gt,V,re,un,ei,Ke,tt,er)}}function nq(n,e){const t=q0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class rq{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=q0(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(i[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,d)=>{l&&(l=Y0(l,i,t));const p=this.normalizer.normalizePropertyName(d,t);l=this.normalizer.normalizeStyleValue(d,p,l,t),r.set(d,l)})}),r}}class sq{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new rq(i.style,i.options&&i.options.params||{},r))}),$V(this.states,"true","1"),$V(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new HV(e,i,this.states))}),this.fallbackTransition=function oq(n,e,t){return new HV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function $V(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const aq=new SS;class lq{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=LP(this._driver,t,r,i);if(r.length)throw function l5(n){return new h.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=EV(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let l;const d=new Map;if(s?(l=UP(this._driver,t,s,PP,gS,new Map,new Map,r,aq,i),l.forEach(E=>{const T=Do(d,E.element,new Map);E.postStyleProps.forEach(A=>T.set(A,null))})):(i.push(function c5(){return new h.vHH(3300,!1)}()),l=[]),i.length)throw function u5(n){return new h.vHH(3504,!1)}();d.forEach((E,T)=>{E.forEach((A,k)=>{E.set(k,this._driver.computeStyle(T,k,Xc))})});const _=nh(l.map(E=>{const T=d.get(E.element);return this._buildPlayer(E,new Map,T)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function d5(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=AP(t,"","","");return SP(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const zV="ng-animate-queued",zP="ng-animate-disabled",fq=[],GV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fa="__ng_removed";class GP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function yq(n){return n??null}(r?e.value:e),r){const s=q0(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Z0="void",WP=new GP(Z0);class mq{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,pa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function h5(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function f5(n){return new h.vHH(3303,!1)}();if(!function vq(n){return"start"==n||"done"==n}(r))throw function p5(n,e){return new h.vHH(3400,!1)}();const s=Do(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};s.push(l);const d=Do(this._engine.statesByElement,e,new Map);return d.has(t)||(pa(e,_S),pa(e,_S+"-"+t),d.set(t,WP)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function m5(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),l=new qP(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(pa(e,_S),pa(e,_S+"-"+t),this._engine.statesByElement.set(e,d=new Map));let p=d.get(t);const _=new GP(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(t,_),p||(p=WP),_.value!==Z0&&p.value===_.value){if(!function wq(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,_.params)){const q=[],re=s.matchStyles(p.value,p.params,q),Ue=s.matchStyles(_.value,_.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{Xp(e,re),Hl(e,Ue)})}return}const A=Do(this._engine.playersByElement,e,[]);A.forEach(q=>{q.namespaceId==this.id&&q.triggerName==t&&q.queued&&q.destroy()});let k=s.matchTransition(p.value,_.value,e,_.params),V=!1;if(!k){if(!i)return;k=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:k,fromState:p,toState:_,player:l,isFallbackTransition:V}),V||(pa(e,zV),l.onStart(()=>{ty(e,zV)})),l.onDone(()=>{let q=this.players.indexOf(l);q>=0&&this.players.splice(q,1);const re=this._engine.playersByElement.get(e);if(re){let Ue=re.indexOf(l);Ue>=0&&re.splice(Ue,1)}}),this.players.push(l),A.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,yS,!0);r.forEach(i=>{if(i[fa])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const d=[];if(s.forEach((p,_)=>{if(l.set(_,p.value),this._triggers.has(_)){const E=this.trigger(e,_,Z0,i);E&&d.push(E)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&nh(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const l=s.name;if(i.has(l))return;i.add(l);const p=this._triggers.get(l).fallbackTransition,_=r.get(l)||WP,E=new GP(Z0),T=new qP(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:_,toState:E,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[fa];(!s||s===GV)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){pa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,l=this._elementListeners.get(s);l&&l.forEach(d=>{if(d.name==r.triggerName){const p=AP(s,r.triggerName,r.fromState.value,r.toState.value);p._data=e,SP(r.player,d.phase,p,d.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class gq{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new mq(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,d=this.driver.getParentElement(t);for(;d;){const p=i.get(d);if(p){const _=r.indexOf(p);r.splice(_+1,0,e),l=!0;break}d=this.driver.getParentElement(d)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(xS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!xS(t))return;const s=t[fa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pa(e,zP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ty(e,zP))}removeNode(e,t,r,i){if(xS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[fa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return xS(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,yS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,kP,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return nh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[fa];if(t&&t.setForRemoval){if(e[fa]=GV,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)pa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?nh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function g5(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new SS,i=[],s=new Map,l=[],d=new Map,p=new Map,_=new Map,E=new Set;this.disabledNodes.forEach(Ht=>{E.add(Ht);const nn=this.driver.query(Ht,".ng-animate-queued",!0);for(let pn=0;pn<nn.length;pn++)E.add(nn[pn])});const T=this.bodyNode,A=Array.from(this.statesByElement.keys()),k=KV(A,this.collectedEnterElements),V=new Map;let q=0;k.forEach((Ht,nn)=>{const pn=PP+q++;V.set(nn,pn),Ht.forEach(tr=>pa(tr,pn))});const re=[],Ue=new Set,Ke=new Set;for(let Ht=0;Ht<this.collectedLeaveElements.length;Ht++){const nn=this.collectedLeaveElements[Ht],pn=nn[fa];pn&&pn.setForRemoval&&(re.push(nn),Ue.add(nn),pn.hasAnimation?this.driver.query(nn,".ng-star-inserted",!0).forEach(tr=>Ue.add(tr)):Ke.add(nn))}const tt=new Map,gt=KV(A,Array.from(Ue));gt.forEach((Ht,nn)=>{const pn=gS+q++;tt.set(nn,pn),Ht.forEach(tr=>pa(tr,pn))}),e.push(()=>{k.forEach((Ht,nn)=>{const pn=V.get(nn);Ht.forEach(tr=>ty(tr,pn))}),gt.forEach((Ht,nn)=>{const pn=tt.get(nn);Ht.forEach(tr=>ty(tr,pn))}),re.forEach(Ht=>{this.processLeaveNode(Ht)})});const sn=[],un=[];for(let Ht=this._namespaceList.length-1;Ht>=0;Ht--)this._namespaceList[Ht].drainQueuedTransitions(t).forEach(pn=>{const tr=pn.player,qi=pn.element;if(sn.push(tr),this.collectedEnterElements.length){const Is=qi[fa];if(Is&&Is.setForMove){if(Is.previousTriggersValues&&Is.previousTriggersValues.has(pn.triggerName)){const Tm=Is.previousTriggersValues.get(pn.triggerName),ga=this.statesByElement.get(pn.element);if(ga&&ga.has(pn.triggerName)){const pA=ga.get(pn.triggerName);pA.value=Tm,ga.set(pn.triggerName,pA)}}return void tr.destroy()}}const ec=!T||!this.driver.containsElement(T,qi),Oo=tt.get(qi),Th=V.get(qi),li=this._buildInstruction(pn,r,Th,Oo,ec);if(li.errors&&li.errors.length)return void un.push(li);if(ec)return tr.onStart(()=>Xp(qi,li.fromStyles)),tr.onDestroy(()=>Hl(qi,li.toStyles)),void i.push(tr);if(pn.isFallbackTransition)return tr.onStart(()=>Xp(qi,li.fromStyles)),tr.onDestroy(()=>Hl(qi,li.toStyles)),void i.push(tr);const Jz=[];li.timelines.forEach(Is=>{Is.stretchStartingKeyframe=!0,this.disabledNodes.has(Is.element)||Jz.push(Is)}),li.timelines=Jz,r.append(qi,li.timelines),l.push({instruction:li,player:tr,element:qi}),li.queriedElements.forEach(Is=>Do(d,Is,[]).push(tr)),li.preStyleProps.forEach((Is,Tm)=>{if(Is.size){let ga=p.get(Tm);ga||p.set(Tm,ga=new Set),Is.forEach((pA,k1)=>ga.add(k1))}}),li.postStyleProps.forEach((Is,Tm)=>{let ga=_.get(Tm);ga||_.set(Tm,ga=new Set),Is.forEach((pA,k1)=>ga.add(k1))})});if(un.length){const Ht=[];un.forEach(nn=>{Ht.push(function _5(n,e){return new h.vHH(3505,!1)}())}),sn.forEach(nn=>nn.destroy()),this.reportError(Ht)}const er=new Map,ei=new Map;l.forEach(Ht=>{const nn=Ht.element;r.has(nn)&&(ei.set(nn,nn),this._beforeAnimationBuild(Ht.player.namespaceId,Ht.instruction,er))}),i.forEach(Ht=>{const nn=Ht.element;this._getPreviousPlayers(nn,!1,Ht.namespaceId,Ht.triggerName,null).forEach(tr=>{Do(er,nn,[]).push(tr),tr.destroy()})});const ko=re.filter(Ht=>ZV(Ht,p,_)),du=new Map;qV(du,this.driver,Ke,_,Xc).forEach(Ht=>{ZV(Ht,p,_)&&ko.push(Ht)});const lw=new Map;k.forEach((Ht,nn)=>{qV(lw,this.driver,new Set(Ht),p,vP)}),ko.forEach(Ht=>{const nn=du.get(Ht),pn=lw.get(Ht);du.set(Ht,new Map([...Array.from(nn?.entries()??[]),...Array.from(pn?.entries()??[])]))});const Im=[],Qz=[],Xz={};l.forEach(Ht=>{const{element:nn,player:pn,instruction:tr}=Ht;if(r.has(nn)){if(E.has(nn))return pn.onDestroy(()=>Hl(nn,tr.toStyles)),pn.disabled=!0,pn.overrideTotalTime(tr.totalTime),void i.push(pn);let qi=Xz;if(ei.size>1){let Oo=nn;const Th=[];for(;Oo=Oo.parentNode;){const li=ei.get(Oo);if(li){qi=li;break}Th.push(Oo)}Th.forEach(li=>ei.set(li,qi))}const ec=this._buildAnimation(pn.namespaceId,tr,er,s,lw,du);if(pn.setRealPlayer(ec),qi===Xz)Im.push(pn);else{const Oo=this.playersByElement.get(qi);Oo&&Oo.length&&(pn.parentPlayer=nh(Oo)),i.push(pn)}}else Xp(nn,tr.fromStyles),pn.onDestroy(()=>Hl(nn,tr.toStyles)),Qz.push(pn),E.has(nn)&&i.push(pn)}),Qz.forEach(Ht=>{const nn=s.get(Ht.element);if(nn&&nn.length){const pn=nh(nn);Ht.setRealPlayer(pn)}}),i.forEach(Ht=>{Ht.parentPlayer?Ht.syncPlayerEvents(Ht.parentPlayer):Ht.destroy()});for(let Ht=0;Ht<re.length;Ht++){const nn=re[Ht],pn=nn[fa];if(ty(nn,gS),pn&&pn.hasAnimation)continue;let tr=[];if(d.size){let ec=d.get(nn);ec&&ec.length&&tr.push(...ec);let Oo=this.driver.query(nn,kP,!0);for(let Th=0;Th<Oo.length;Th++){let li=d.get(Oo[Th]);li&&li.length&&tr.push(...li)}}const qi=tr.filter(ec=>!ec.destroyed);qi.length?bq(this,nn,qi):this.processLeaveNode(nn)}return re.length=0,Im.forEach(Ht=>{this.players.push(Ht),Ht.onDone(()=>{Ht.destroy();const nn=this.players.indexOf(Ht);this.players.splice(nn,1)}),Ht.play()}),Im}elementContainsData(e,t){let r=!1;const i=t[fa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let l=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(l=d)}else{const d=this.playersByElement.get(e);if(d){const p=!s||s==Z0;d.forEach(_=>{_.queued||!p&&_.triggerName!=i||l.push(_)})}}return(r||i)&&(l=l.filter(d=>!(r&&r!=d.namespaceId||i&&i!=d.triggerName))),l}_beforeAnimationBuild(e,t,r){const s=t.element,l=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,E=_!==s,T=Do(r,_,[]);this._getPreviousPlayers(_,E,l,d,t.toState).forEach(k=>{const V=k.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),k.destroy(),T.push(k)})}Xp(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,l){const d=t.triggerName,p=t.element,_=[],E=new Set,T=new Set,A=t.timelines.map(V=>{const q=V.element;E.add(q);const re=q[fa];if(re&&re.removedBeforeQueried)return new z0(V.duration,V.delay);const Ue=q!==p,Ke=function Eq(n){const e=[];return YV(n,e),e}((r.get(q)||fq).map(er=>er.getRealPlayer())).filter(er=>!!er.element&&er.element===q),tt=s.get(q),gt=l.get(q),sn=EV(0,this._normalizer,0,V.keyframes,tt,gt),un=this._buildPlayer(V,sn,Ke);if(V.subTimeline&&i&&T.add(q),Ue){const er=new qP(e,d,q);er.setRealPlayer(un),_.push(er)}return un});_.forEach(V=>{Do(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function _q(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,V.element,V))}),E.forEach(V=>pa(V,MV));const k=nh(A);return k.onDestroy(()=>{E.forEach(V=>ty(V,MV)),Hl(p,t.toStyles)}),T.forEach(V=>{Do(i,V,[]).push(k)}),k}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new z0(e.duration,e.delay)}}class qP{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new z0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>SP(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Do(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function xS(n){return n&&1===n.nodeType}function WV(n,e){const t=n.style.display;return n.style.display=e??"none",t}function qV(n,e,t,r,i){const s=[];t.forEach(p=>s.push(WV(p)));const l=[];r.forEach((p,_)=>{const E=new Map;p.forEach(T=>{const A=e.computeStyle(_,T,i);E.set(T,A),(!A||0==A.length)&&(_[fa]=pq,l.push(_))}),n.set(_,E)});let d=0;return t.forEach(p=>WV(p,s[d++])),l}function KV(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function l(d){if(!d)return r;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=t.has(_)?_:i.has(_)?r:l(_),s.set(d,p),p}return e.forEach(d=>{const p=l(d);p!==r&&t.get(p).push(d)}),t}function pa(n,e){n.classList?.add(e)}function ty(n,e){n.classList?.remove(e)}function bq(n,e,t){nh(t).onDone(()=>n.processLeaveNode(e))}function YV(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof eV?YV(r.players,e):e.push(r)}}function ZV(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class MS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new gq(e,t,r),this._timelineEngine=new lq(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const l=e+"-"+i;let d=this._triggerCache[l];if(!d){const p=[],_=[],E=LP(this._driver,s,p,_);if(p.length)throw function o5(n,e){return new h.vHH(3404,!1)}();d=function iq(n,e,t){return new sq(n,e,t)}(i,E,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(t,i,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,l]=wV(r);this._timelineEngine.command(s,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[l,d]=wV(r);return this._timelineEngine.listen(l,t,d,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Iq=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Hl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hl(this._element,this._initialStyles),this._endStyles&&(Hl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xp(this._element,this._endStyles),this._endStyles=null),Hl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function KP(n){let e=null;return n.forEach((t,r)=>{(function Tq(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class QV{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:FV(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Sq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SV(e,t)}getParentElement(e){return MP(e)}query(e,t,r){return DV(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,l=[]){const p={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(p.easing=s);const _=new Map,E=l.filter(k=>k instanceof QV);(function M5(n,e){return 0===n||0===e})(r,i)&&E.forEach(k=>{k.currentSnapshot.forEach((V,q)=>_.set(q,V))});let T=function S5(n){return n.length?n[0]instanceof Map?n:n.map(e=>RV(e)):[]}(t).map(k=>rh(k));T=function R5(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,l)=>{r.has(l)||i.push(l),r.set(l,s)}),i.length)for(let s=1;s<e.length;s++){let l=e[s];i.forEach(d=>l.set(d,FV(n,d)))}}return e}(e,T,_);const A=function Cq(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=KP(e[0]),e.length>1&&(r=KP(e[e.length-1]))):e instanceof Map&&(t=KP(e)),t||r?new Iq(n,t,r):null}(e,T);return new QV(e,T,p,A)}}let Dq=(()=>{class n extends Y2{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Q2(t):t;return XV(this._renderer,null,r,"register",[i]),new Aq(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Aq extends P3{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xq(this._id,e,t||{},this._renderer)}}class xq{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return XV(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function XV(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const JV="@.disabled";let Mq=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,l)=>{const d=l?.parentNode(s);d&&l.removeChild(d,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let E=this._rendererCache.get(s);return E||(E=new eB("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,E)),E}const l=r.id,d=r.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const p=E=>{Array.isArray(E)?E.forEach(p):this.engine.registerTrigger(l,d,t,E.name,E)};return r.data.animation.forEach(p),new Rq(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,d]=s;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(MS),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class eB{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==JV?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Rq extends eB{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==JV?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Pq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function kq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,r,d)})}return this.delegate.listen(e,t,r)}}let Oq=(()=>{class n extends MS{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie),h.LFG(RP),h.LFG(HP),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const tB=[{provide:Y2,useClass:Dq},{provide:HP,useFactory:function Nq(){return new eq}},{provide:MS,useClass:Oq},{provide:h.FYo,useFactory:function Fq(n,e,t){return new Mq(n,e,t)},deps:[ki,MS,h.R0b]}],YP=[{provide:RP,useFactory:()=>new Sq},{provide:h.QbO,useValue:"BrowserAnimations"},...tB],nB=[{provide:RP,useClass:AV},{provide:h.QbO,useValue:"NoopAnimations"},...tB];let rB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nB:YP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:YP,imports:[Ra]}),n})();var Bq=O(655),ZP=O(3008),iB=O(8502);function Uq(n){return new si.y(function(e){return{unsubscribe:(0,iB.x)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class PS{constructor(e){return e}}class kS{constructor(){return(0,Pt.vb)("auth")}}const QP=new h.OlP("angularfire2.auth-instances");function $q(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new PS(r)}}const zq={provide:kS,deps:[[new h.FiY,QP]]},Gq={provide:PS,useFactory:function Hq(n,e){const t=(0,Pt.JM)("auth",n,e);return t&&new PS(t)},deps:[[new h.FiY,QP],Zs]};let Wq=(()=>{class n{constructor(){(0,Xi.KN)("angularfire",Pt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Gq,zq]}),n})();function qq(n,...e){return{ngModule:Wq,providers:[{provide:QP,useFactory:$q(n),multi:!0,deps:[h.R0b,h.zs3,Pt.HU,Ua,[new h.FiY,Oc],...e]}]}}const Kq=(0,Pt.u3)(Uq,!0),Yq=(0,Pt.u3)(iB.o,!0);class Q0{constructor(e){return e}}const oB="analytics",aB=Pt.nk.async,Qq=(0,Pt.u3)(ZP.IH,!0),Xq=(0,Pt.u3)(ZP.Kz,!0),Jq=(0,Pt.u3)(ZP.Iv,!0);let lB=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],(0,Xi.KN)("angularfire",Pt.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(l=>{s=l})),aB().then(()=>{const l=i.get(Q0);l?this.disposables=[Kq(t).subscribe(d=>{Jq(l,d?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(PS),h.LFG(h.R0b),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const cB="firebase_screen_id",XP="outlet",X0="screen_class",uB="screen_name";let d8=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const JP={},h8=n=>{const e=[n[X0],n[XP]].join("#");if(JP.hasOwnProperty(e))return JP[e];{const t=d8++;return JP[e]=t,t}},f8=(n,e,t)=>n.events.pipe(Hr(i=>i instanceof mv)).pipe(Xn(i=>{var s;const d=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,k=>k.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",p=n.routerState.root.children.map(k=>k).find(k=>k.outlet===i.snapshot.outlet);if(!p)return ct(null);let _=p;for(;_.firstChild;)_=_.firstChild;const E=_.pathFromRoot.map(k=>{var V;return null===(V=k.routeConfig)||void 0===V?void 0:V.path}).filter(k=>k).join("/")||"/",T={[uB]:E,page_path:`/${d}`,firebase_event_origin:"auto",firebase_screen:E,[XP]:i.snapshot.outlet};e&&(T.page_title=e.getTitle());let A=p.component;if(A){if(A===bg){let k=i.snapshot;for(;k.firstChild;)k=k.firstChild;A=k.component}}else A=i.snapshot.component;if("string"==typeof A)return ct(Object.assign(Object.assign({},T),{[X0]:A}));if(A){const k=t.resolveComponentFactory(A);return ct(Object.assign(Object.assign({},T),{[X0]:k.selector}))}return ct(null)}),Hr(i=>!!i),(0,It.U)(i=>Object.assign({firebase_screen_class:i[X0],[cB]:h8(i)},i)),function Lq(n,e,t,r){return(0,Nr.e)((i,s)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:r}=e):l=e;const d=new Map,p=V=>{d.forEach(V),V(s)},_=V=>p(q=>q.error(V));let E=0,T=!1;const A=new or.Q(s,V=>{try{const q=n(V);let re=d.get(q);if(!re){d.set(q,re=r?r():new $n.x);const Ue=function k(V,q){const re=new si.y(Ue=>{E++;const Ke=q.subscribe(Ue);return()=>{Ke.unsubscribe(),0==--E&&T&&A.unsubscribe()}});return re.key=V,re}(q,re);if(s.next(Ue),t){const Ke=(0,or.x)(re,()=>{re.complete(),Ke?.unsubscribe()},void 0,void 0,()=>d.delete(q));A.add((0,Hs.Xf)(t(Ue)).subscribe(Ke))}}re.next(l?l(V):V)}catch(q){_(q)}},()=>p(V=>V.complete()),_,()=>d.clear(),()=>(T=!0,0===E));i.subscribe(A)})}(i=>i[XP]),(0,Fr.z)(i=>i.pipe(Qg((s,l)=>JSON.stringify(s)===JSON.stringify(l)),uo(void 0),function Vq(){return(0,Nr.e)((n,e)=>{let t,r=!1;n.subscribe((0,or.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),(0,It.U)(([s,l])=>s?Object.assign({firebase_previous_class:s[X0],firebase_previous_screen:s[uB],firebase_previous_id:s[cB]},l):l))));let p8=(()=>{class n{constructor(t,r,i,s,l,d){(0,Xi.KN)("angularfire",Pt.q4.full,"screen-tracking"),aB().then(()=>{const p=d.get(Q0);!t||!p||s.runOutsideAngular(()=>{this.disposable=f8(t,r,i).pipe(Xn(_=>(0,Bq.mG)(this,void 0,void 0,function*(){return l&&(yield l.initialized),Xq(p,"screen_view",_)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hi,8),h.LFG(Xm,8),h.LFG(h._Vd),h.LFG(h.R0b),h.LFG(lB,8),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ek=new h.OlP("angularfire2.analytics-instances");function g8(n){return(e,t)=>{if(!Pt.nk.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new Q0(r)}}const _8={provide:class Zq{constructor(){return(0,Pt.vb)(oB)}},deps:[[new h.FiY,ek]]},y8={provide:Q0,useFactory:function m8(n,e){if(!Pt.nk.sync())return null;const t=(0,Pt.JM)(oB,n,e);return t&&new Q0(t)},deps:[[new h.FiY,ek],Zs]};let v8=(()=>{class n{constructor(t,r){(0,Xi.KN)("angularfire",Pt.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(p8,8),h.LFG(lB,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[y8,_8,{provide:h.ip1,useValue:Pt.nk.async,multi:!0}]}),n})();function b8(n,...e){return{ngModule:v8,providers:[{provide:ek,useFactory:g8(n),multi:!0,deps:[h.R0b,h.zs3,Pt.HU,Ua,...e]}]}}class tk{constructor(e){return e}}const dB="database",nk=new h.OlP("angularfire2.database-instances");function C8(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new tk(r)}}const I8={provide:class E8{constructor(){return(0,Pt.vb)(dB)}},deps:[[new h.FiY,nk]]},T8={provide:tk,useFactory:function w8(n,e){const t=(0,Pt.JM)(dB,n,e);return t&&new tk(t)},deps:[[new h.FiY,nk],Zs]};let S8=(()=>{class n{constructor(){(0,Xi.KN)("angularfire",Pt.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[T8,I8]}),n})();function D8(n,...e){return{ngModule:S8,providers:[{provide:nk,useFactory:C8(n),multi:!0,deps:[h.R0b,h.zs3,Pt.HU,Ua,[new h.FiY,kS],[new h.FiY,Oc],...e]}]}}const A8=(0,Pt.u3)(o,!0);var Tt,x8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ya={},rk=rk||{},In=x8||self;function OS(){}function NS(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function J0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ik="closure_uid_"+(1e9*Math.random()>>>0),R8=0;function P8(n,e,t){return n.call.apply(n.bind,arguments)}function k8(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ys(n,e,t){return(ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?P8:k8).apply(null,arguments)}function FS(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ji(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return e.prototype[i].apply(r,l)}}function ih(){this.s=this.s,this.o=this.o}ih.prototype.s=!1,ih.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function M8(n){Object.prototype.hasOwnProperty.call(n,ik)&&n[ik]||(n[ik]=++R8)}(this)},ih.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sk(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function fB(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(NS(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let l=0;l<s;l++)n[i+l]=r[l]}else n.push(r)}}function vs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}vs.prototype.h=function(){this.defaultPrevented=!0};var N8=function(){if(!In.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{In.addEventListener("test",OS,e),In.removeEventListener("test",OS,e)}catch{}return n}();function LS(n){return/^[\s\xa0]*$/.test(n)}var pB=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ok(n,e){return n<e?-1:n>e?1:0}function VS(){var n=In.navigator;return n&&(n=n.userAgent)?n:""}function $l(n){return-1!=VS().indexOf(n)}function ak(n){return ak[" "](n),n}function mB(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}ak[" "]=OS;var BS,n,F8=$l("Opera"),ny=$l("Trident")||$l("MSIE"),gB=$l("Edge"),lk=gB||ny,_B=$l("Gecko")&&!(-1!=VS().toLowerCase().indexOf("webkit")&&!$l("Edge"))&&!($l("Trident")||$l("MSIE"))&&!$l("Edge"),L8=-1!=VS().toLowerCase().indexOf("webkit")&&!$l("Edge");function yB(){var n=In.document;return n?n.documentMode:void 0}e:{var ck="",uk=(n=VS(),_B?/rv:([^\);]+)(\)|;)/.exec(n):gB?/Edge\/([\d\.]+)/.exec(n):ny?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):L8?/WebKit\/(\S+)/.exec(n):F8?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(uk&&(ck=uk?uk[1]:""),ny){var dk=yB();if(null!=dk&&dk>parseFloat(ck)){BS=String(dk);break e}}BS=ck}var V8={},U8=In.document&&ny&&(yB()||parseInt(BS,10))||void 0;function eE(n,e){if(vs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_B){e:{try{ak(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:j8[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&eE.$.h.call(this)}}ji(eE,vs);var j8={2:"touch",3:"pen",4:"mouse"};eE.prototype.h=function(){eE.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tE="closure_listenable_"+(1e6*Math.random()|0),H8=0;function $8(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++H8,this.fa=this.ia=!1}function US(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function fk(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function bB(n){const e={};for(const t in n)e[t]=n[t];return e}const EB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wB(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<EB.length;s++)t=EB[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function jS(n){this.src=n,this.g={},this.h=0}function pk(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=hB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(US(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mk(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}jS.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=mk(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new $8(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var gk="closure_lm_"+(1e6*Math.random()|0),_k={};function CB(n,e,t,r,i){if(r&&r.once)return TB(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)CB(n,e[s],t,r,i);return null}return t=Ek(t),n&&n[tE]?n.O(e,t,J0(r)?!!r.capture:!!r,i):IB(n,e,t,!1,r,i)}function IB(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var l=J0(i)?!!i.capture:!!i,d=vk(n);if(d||(n[gk]=d=new jS(n)),(t=d.add(e,t,r,l,s)).proxy)return t;if(r=function z8(){const e=G8;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)N8||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(DB(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function TB(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TB(n,e[s],t,r,i);return null}return t=Ek(t),n&&n[tE]?n.P(e,t,J0(r)?!!r.capture:!!r,i):IB(n,e,t,!0,r,i)}function SB(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)SB(n,e[s],t,r,i);else r=J0(r)?!!r.capture:!!r,t=Ek(t),n&&n[tE]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mk(s=n.g[e],t,r,i))&&(US(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=vk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mk(e,t,r,i)),(t=-1<n?e[n]:null)&&yk(t))}function yk(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[tE])pk(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(DB(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=vk(e))?(pk(t,n),0==t.h&&(t.src=null,e[gk]=null)):US(n)}}}function DB(n){return n in _k?_k[n]:_k[n]="on"+n}function G8(n,e){if(n.fa)n=!0;else{e=new eE(e,this);var t=n.listener,r=n.la||n.src;n.ia&&yk(n),n=t.call(r,e)}return n}function vk(n){return(n=n[gk])instanceof jS?n:null}var bk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ek(n){return"function"==typeof n?n:(n[bk]||(n[bk]=function(e){return n.handleEvent(e)}),n[bk])}function Hi(){ih.call(this),this.i=new jS(this),this.S=this,this.J=null}function rs(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new vs(e,n);else if(e instanceof vs)e.target=e.target||n;else{var i=e;wB(e=new vs(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];i=HS(l,r,!0,e)&&i}if(i=HS(l=e.g=n,r,!0,e)&&i,i=HS(l,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=HS(l=e.g=t[s],r,!1,e)&&i}function HS(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var d=l.listener,p=l.la||l.src;l.ia&&pk(n.i,l),i=!1!==d.call(p,r)&&i}}return i&&!r.defaultPrevented}ji(Hi,ih),Hi.prototype[tE]=!0,Hi.prototype.removeEventListener=function(n,e,t,r){SB(this,n,e,t,r)},Hi.prototype.N=function(){if(Hi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)US(t[r]);delete n.g[e],n.h--}}this.J=null},Hi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wk=In.JSON.stringify;function W8(){var n=MB;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ck,AB=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new K8,n=>n.reset());class K8{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Y8(n){In.setTimeout(()=>{throw n},0)}function xB(n,e){Ck||function Z8(){var n=In.Promise.resolve(void 0);Ck=function(){n.then(Q8)}}(),Ik||(Ck(),Ik=!0),MB.add(n,e)}var Ik=!1,MB=new class q8{constructor(){this.h=this.g=null}add(e,t){const r=AB.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Q8(){for(var n;n=W8();){try{n.h.call(n.g)}catch(t){Y8(t)}var e=AB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ik=!1}function $S(n,e){Hi.call(this),this.h=n||1,this.g=e||In,this.j=ys(this.qb,this),this.l=Date.now()}function Tk(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Sk(n,e,t){if("function"==typeof n)t&&(n=ys(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ys(n.handleEvent,n)}return 2147483647<Number(e)?-1:In.setTimeout(n,e||0)}function RB(n){n.g=Sk(()=>{n.g=null,n.i&&(n.i=!1,RB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ji($S,Hi),(Tt=$S.prototype).ga=!1,Tt.T=null,Tt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rs(this,"tick"),this.ga&&(Tk(this),this.start()))}},Tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tt.N=function(){$S.$.N.call(this),Tk(this),delete this.g};class X8 extends ih{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RB(this)}N(){super.N(),this.g&&(In.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nE(n){ih.call(this),this.h=n,this.g={}}ji(nE,ih);var PB=[];function kB(n,e,t,r){Array.isArray(t)||(t&&(PB[0]=t.toString()),t=PB);for(var i=0;i<t.length;i++){var s=CB(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function OB(n){fk(n.g,function(e,t){this.g.hasOwnProperty(t)&&yk(e)},n),n.g={}}function zS(){this.g=!0}function ry(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function n9(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<i.length;l++)i[l]=""}}}return wk(t)}catch{return e}}(n,t)+(r?" "+r:"")})}nE.prototype.N=function(){nE.$.N.call(this),OB(this)},nE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zS.prototype.Ea=function(){this.g=!1},zS.prototype.info=function(){};var em={},NB=null;function GS(){return NB=NB||new Hi}function FB(n){vs.call(this,em.Ta,n)}function rE(n){const e=GS();rs(e,new FB(e))}function LB(n,e){vs.call(this,em.STAT_EVENT,n),this.stat=e}function ks(n){const e=GS();rs(e,new LB(e,n))}function VB(n,e){vs.call(this,em.Ua,n),this.size=e}function iE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return In.setTimeout(function(){n()},e)}em.Ta="serverreachability",ji(FB,vs),em.STAT_EVENT="statevent",ji(LB,vs),em.Ua="timingevent",ji(VB,vs);var WS={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dk(){}function jB(){}Dk.prototype.h=null;var Mk,sE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ak(){vs.call(this,"d")}function xk(){vs.call(this,"c")}function qS(){}function oE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new nE(this),this.P=r9,this.V=new $S(n=lk?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new HB}function HB(){this.i=null,this.g="",this.h=!1}ji(Ak,vs),ji(xk,vs),ji(qS,Dk),qS.prototype.g=function(){return new XMLHttpRequest},qS.prototype.i=function(){return{}},Mk=new qS;var r9=45e3,Rk={},KS={};function Pk(n,e,t){n.L=1,n.v=XS(eu(e)),n.s=t,n.S=!0,$B(n,null)}function $B(n,e){n.G=Date.now(),aE(n),n.A=eu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),JB(t.i,"t",r),n.C=0,t=n.l.I,n.h=new HB,n.g=CU(n.l,t?e:null,!n.s),0<n.O&&(n.M=new X8(ys(n.Pa,n,n.g),n.O)),kB(n.U,n.g,"readystatechange",n.nb),e=n.I?bB(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),rE(),function J8(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var l="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var E=_[0];_=_[1];var T=E.split("_");l=2<=T.length&&"type"==T[1]?l+(E+"=")+_+"&":l+(E+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function zB(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function GB(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=i9(n,t),i==KS){4==e&&(n.o=4,ks(14),r=!1),ry(n.j,n.m,null,"[Incomplete Response]");break}if(i==Rk){n.o=4,ks(15),ry(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ry(n.j,n.m,i,null),kk(n,i)}zB(n)&&i!=KS&&i!=Rk&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ks(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),jk(e),e.L=!0,ks(11))):(ry(n.j,n.m,t,"[Invalid Chunked Response]"),tm(n),lE(n))}function i9(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?KS:(t=Number(e.substring(t,r)),isNaN(t)?Rk:(r+=1)+t>e.length?KS:(e=e.substr(r,t),n.C=r+t,e))}function aE(n){n.Y=Date.now()+n.P,WB(n,n.P)}function WB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=iE(ys(n.lb,n),e)}function YS(n){n.B&&(In.clearTimeout(n.B),n.B=null)}function lE(n){0==n.l.H||n.J||vU(n.l,n)}function tm(n){YS(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Tk(n.V),OB(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function kk(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Ok(t.h,n)))if(!n.K&&Ok(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;iD(t),nD(t)}Uk(t),ks(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=iE(ys(t.ib,t),6e3));if(1>=nU(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else rm(t,11)}else if((n.K||t.g==n)&&iD(t),!LS(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.J=_[1],t.oa=_[2];const E=_[3];null!=E&&(t.qa=E,t.j.info("VER="+t.qa));const T=_[4];null!=T&&(t.Ga=T,t.j.info("SVER="+t.Ga));const A=_[5];null!=A&&"number"==typeof A&&0<A&&(t.K=r=1.5*A,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const k=n.g;if(k){const V=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=r.h;s.g||-1==V.indexOf("spdy")&&-1==V.indexOf("quic")&&-1==V.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Nk(s,s.h),s.h=null))}if(r.F){const q=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(r.Da=q,Xr(r.G,r.F,q))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=wU(r,r.I?r.oa:null,r.Y),l.K){rU(r.h,l);var d=l,p=r.K;p&&d.setTimeout(p),d.B&&(YS(d),aE(d)),r.g=l}else _U(r);0<t.i.length&&rD(t)}else"stop"!=_[0]&&"close"!=_[0]||rm(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?rm(t,7):Bk(t):"noop"!=_[0]&&t.l&&t.l.Aa(_),t.A=0)}rE()}catch{}}function qB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(NS(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function o9(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(NS(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function s9(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(NS(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Tt=oE.prototype).setTimeout=function(n){this.P=n},Tt.nb=function(n){n=n.target;const e=this.M;e&&3==tu(n)?e.l():this.Pa(n)},Tt.Pa=function(n){try{if(n==this.g)e:{const E=tu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>E)&&(3!=E||lk||this.g&&(this.h.h||this.g.ja()||dU(this.g)))){this.J||4!=E||7==e||rE(),YS(this);var t=this.g.da();this.aa=t;t:if(zB(this)){var r=dU(this.g);n="";var i=r.length,s=4==tu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tm(this),lE(this);var l="";break t}this.h.i=new In.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function e9(n,e,t,r,i,s,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,E,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!LS(d)){var _=d;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,ks(12),tm(this),lE(this);break e}ry(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kk(this,t)}this.S?(GB(this,E,l),lk&&this.i&&3==E&&(kB(this.U,this.V,"tick",this.mb),this.V.start())):(ry(this.j,this.m,l,null),kk(this,l)),4==E&&tm(this),this.i&&!this.J&&(4==E?vU(this.l,this):(this.i=!1,aE(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ks(12)):(this.o=0,ks(13)),tm(this),lE(this)}}}catch{}},Tt.mb=function(){if(this.g){var n=tu(this.g),e=this.g.ja();this.C<e.length&&(YS(this),GB(this,n,e),this.i&&4!=n&&aE(this))}},Tt.cancel=function(){this.J=!0,tm(this)},Tt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function t9(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(rE(),ks(17)),tm(this),this.o=2,lE(this)):WB(this,this.Y-n)};var KB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nm(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nm){this.h=void 0!==e?e:n.h,ZS(this,n.j),this.s=n.s,this.g=n.g,QS(this,n.m),this.l=n.l,e=n.i;var t=new dE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),YB(this,t),this.o=n.o}else n&&(t=String(n).match(KB))?(this.h=!!e,ZS(this,t[1]||"",!0),this.s=cE(t[2]||""),this.g=cE(t[3]||"",!0),QS(this,t[4]),this.l=cE(t[5]||"",!0),YB(this,t[6]||"",!0),this.o=cE(t[7]||"")):(this.h=!!e,this.i=new dE(null,this.h))}function eu(n){return new nm(n)}function ZS(n,e,t){n.j=t?cE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function QS(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function YB(n,e,t){e instanceof dE?(n.i=e,function f9(n,e){e&&!n.j&&(sh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(QB(this,r),JB(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=uE(e,d9)),n.i=new dE(e,n.h))}function Xr(n,e,t){n.i.set(e,t)}function XS(n){return Xr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function uE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,l9),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function l9(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(uE(e,ZB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(uE(e,ZB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(uE(t,"/"==t.charAt(0)?u9:c9,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",uE(t,h9)),n.join("")};var ZB=/[#\/\?@]/g,c9=/[#\?:]/g,u9=/[#\?]/g,d9=/[#\?@]/g,h9=/#/g;function dE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function sh(n){n.g||(n.g=new Map,n.h=0,n.i&&function a9(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function QB(n,e){sh(n),e=iy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function XB(n,e){return sh(n),e=iy(n,e),n.g.has(e)}function JB(n,e,t){QB(n,e),0<t.length&&(n.i=null,n.g.set(iy(n,e),sk(t)),n.h+=t.length)}function iy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function eU(n){this.l=n||m9,n=In.PerformanceNavigationTiming?0<(n=In.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(In.g&&In.g.Ka&&In.g.Ka()&&In.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Tt=dE.prototype).add=function(n,e){sh(this),this.i=null,n=iy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Tt.forEach=function(n,e){sh(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Tt.sa=function(){sh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Tt.Z=function(n){sh(this);let e=[];if("string"==typeof n)XB(this,n)&&(e=e.concat(this.g.get(iy(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Tt.set=function(n,e){return sh(this),this.i=null,XB(this,n=iy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Tt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=s;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var m9=10;function tU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nU(n){return n.h?1:n.g?n.g.size:0}function Ok(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Nk(n,e){n.g?n.g.add(e):n.h=e}function rU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function iU(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return sk(n.i)}function Fk(){}function g9(){this.g=new Fk}function _9(n,e,t){const r=t||"";try{qB(n,function(i,s){let l=i;J0(i)&&(l=wk(i)),e.push(r+s+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function JS(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hE(n){this.l=n.fc||null,this.j=n.ob||!1}function eD(n,e){Hi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Lk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eU.prototype.cancel=function(){if(this.i=iU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Fk.prototype.stringify=function(n){return In.JSON.stringify(n,void 0)},Fk.prototype.parse=function(n){return In.JSON.parse(n,void 0)},ji(hE,Dk),hE.prototype.g=function(){return new eD(this.l,this.j)},hE.prototype.i=function(n){return function(){return n}}({}),ji(eD,Hi);var Lk=0;function sU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function fE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pE(n)}function pE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Tt=eD.prototype).open=function(n,e){if(this.readyState!=Lk)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pE(this)},Tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||In).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fE(this)),this.readyState=Lk},Tt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pE(this)),this.g&&(this.readyState=3,pE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof In.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Tt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fE(this):pE(this),3==this.readyState&&sU(this)}},Tt.Za=function(n){this.g&&(this.response=this.responseText=n,fE(this))},Tt.Ya=function(n){this.g&&(this.response=n,fE(this))},Tt.ka=function(){this.g&&fE(this)},Tt.setRequestHeader=function(n,e){this.v.append(n,e)},Tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(eD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var v9=In.JSON.parse;function fi(n){Hi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oU,this.L=this.M=!1}ji(fi,Hi);var oU="",b9=/^https?$/i,E9=["POST","PUT"];function aU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,lU(n),tD(n)}function lU(n){n.F||(n.F=!0,rs(n,"complete"),rs(n,"error"))}function cU(n){if(n.h&&typeof rk<"u"&&(!n.C[1]||4!=tu(n)||2!=n.da()))if(n.v&&4==tu(n))Sk(n.La,0,n);else if(rs(n,"readystatechange"),4==tu(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var i=String(n.I).match(KB)[1]||null;if(!i&&In.self&&In.self.location){var s=In.self.location.protocol;i=s.substr(0,s.length-1)}r=!b9.test(i?i.toLowerCase():"")}t=r}if(t)rs(n,"complete"),rs(n,"success");else{n.m=6;try{var l=2<tu(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",lU(n)}}finally{tD(n)}}}function tD(n,e){if(n.g){uU(n);const t=n.g,r=n.C[0]?OS:null;n.g=null,n.C=null,e||rs(n,"ready");try{t.onreadystatechange=r}catch{}}}function uU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(In.clearTimeout(n.A),n.A=null)}function tu(n){return n.g?n.g.readyState:0}function dU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case oU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hU(n){let e="";return fk(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Vk(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=hU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xr(n,e,t))}function mE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fU(n){this.Ga=0,this.i=[],this.j=new zS,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mE("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mE("baseRetryDelayMs",5e3,n),this.hb=mE("retryDelaySeedMs",1e4,n),this.eb=mE("forwardChannelMaxRetries",2,n),this.xa=mE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new eU(n&&n.concurrentRequestLimit),this.Ja=new g9,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Bk(n){if(pU(n),3==n.H){var e=n.W++,t=eu(n.G);Xr(t,"SID",n.J),Xr(t,"RID",e),Xr(t,"TYPE","terminate"),gE(n,t),(e=new oE(n,n.j,e,void 0)).L=2,e.v=XS(eu(t)),t=!1,In.navigator&&In.navigator.sendBeacon&&(t=In.navigator.sendBeacon(e.v.toString(),"")),!t&&In.Image&&((new Image).src=e.v,t=!0),t||(e.g=CU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),aE(e)}EU(n)}function nD(n){n.g&&(jk(n),n.g.cancel(),n.g=null)}function pU(n){nD(n),n.u&&(In.clearTimeout(n.u),n.u=null),iD(n),n.h.cancel(),n.m&&("number"==typeof n.m&&In.clearTimeout(n.m),n.m=null)}function rD(n){tU(n.h)||n.m||(n.m=!0,xB(n.Na,n),n.C=0)}function mU(n,e){var t;t=e?e.m:n.W++;const r=eu(n.G);Xr(r,"SID",n.J),Xr(r,"RID",t),Xr(r,"AID",n.V),gE(n,r),n.o&&n.s&&Vk(r,n.o,n.s),t=new oE(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=gU(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Nk(n.h,t),Pk(t,r,e)}function gE(n,e){n.ma&&fk(n.ma,function(t,r){Xr(e,r,t)}),n.l&&qB({},function(t,r){Xr(e,r,t)})}function gU(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ys(n.l.Va,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=i[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let d=!0;for(let p=0;p<t;p++){let _=i[p].h;const E=i[p].g;if(_-=s,0>_)s=Math.max(0,i[p].h-100),d=!1;else try{_9(E,l,"req"+_+"_")}catch{r&&r(E)}}if(d){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function _U(n){n.g||n.u||(n.ba=1,xB(n.Ma,n),n.A=0)}function Uk(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=iE(ys(n.Ma,n),bU(n,n.A)),n.A++,0))}function jk(n){null!=n.B&&(In.clearTimeout(n.B),n.B=null)}function yU(n){n.g=new oE(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=eu(n.wa);Xr(e,"RID","rpc"),Xr(e,"SID",n.J),Xr(e,"CI",n.M?"0":"1"),Xr(e,"AID",n.V),Xr(e,"TYPE","xmlhttp"),gE(n,e),n.o&&n.s&&Vk(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=XS(eu(e)),t.s=null,t.S=!0,$B(t,n)}function iD(n){null!=n.v&&(In.clearTimeout(n.v),n.v=null)}function vU(n,e){var t=null;if(n.g==e){iD(n),jk(n),n.g=null;var r=2}else{if(!Ok(n.h,e))return;t=e.F,rU(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;rs(r=GS(),new VB(r,t)),rD(n)}else _U(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function C9(n,e){return!(nU(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=iE(ys(n.Na,n,e),bU(n,n.C)),n.C++,0)))}(n,e)||2==r&&Uk(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:rm(n,5);break;case 4:rm(n,10);break;case 3:rm(n,6);break;default:rm(n,2)}}function bU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function rm(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ys(n.pb,n);t||(t=new nm("//www.google.com/images/cleardot.gif"),In.location&&"http"==In.location.protocol||ZS(t,"https"),XS(t)),function y9(n,e){const t=new zS;if(In.Image){const r=new Image;r.onload=FS(JS,t,r,"TestLoadImage: loaded",!0,e),r.onerror=FS(JS,t,r,"TestLoadImage: error",!1,e),r.onabort=FS(JS,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=FS(JS,t,r,"TestLoadImage: timeout",!1,e),In.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ks(2);n.H=0,n.l&&n.l.za(e),EU(n),pU(n)}function EU(n){if(n.H=0,n.pa=[],n.l){const e=iU(n.h);(0!=e.length||0!=n.i.length)&&(fB(n.pa,e),fB(n.pa,n.i),n.h.i.length=0,sk(n.i),n.i.length=0),n.l.ya()}}function wU(n,e,t){var r=t instanceof nm?eu(t):new nm(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),QS(r,r.m);else{var i=In.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new nm(null,void 0);r&&ZS(s,r),e&&(s.g=e),i&&QS(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Xr(r,t,e),Xr(r,"VER",n.qa),gE(n,r),r}function CU(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fi(t&&n.Ha&&!n.va?new hE({ob:!0}):n.va)).Oa(n.I),e}function IU(){}function sD(){if(ny&&!(10<=Number(U8)))throw Error("Environmental error: no available transport.")}function xo(n,e){Hi.call(this),this.g=new fU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!LS(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!LS(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new sy(this)}function TU(n){Ak.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function SU(){xk.call(this),this.status=1}function sy(n){this.g=n}function Za(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hk(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;l=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=s+((l=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function gr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Tt=fi.prototype).Oa=function(n){this.M=n},Tt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mk.g(),this.C=function UB(n){return n.h||(n.h=n.i())}(this.u?this.u:Mk),this.g.onreadystatechange=ys(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void aU(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=In.FormData&&n instanceof In.FormData,!(0<=hB(E9,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uU(this),0<this.B&&((this.L=function w9(n){return ny&&function B8(){return mB(V8,9,function(){let n=0;const e=pB(String(BS)).split("."),t=pB("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",s=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=ok(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ok(0==i[2].length,0==s[2].length)||ok(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ys(this.ua,this)):this.A=Sk(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){aU(this,s)}},Tt.ua=function(){typeof rk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rs(this,"timeout"),this.abort(8))},Tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,rs(this,"complete"),rs(this,"abort"),tD(this))},Tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tD(this,!0)),fi.$.N.call(this)},Tt.La=function(){this.s||(this.G||this.v||this.l?cU(this):this.kb())},Tt.kb=function(){cU(this)},Tt.da=function(){try{return 2<tu(this)?this.g.status:-1}catch{return-1}},Tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Tt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),v9(e)}},Tt.Ia=function(){return this.m},Tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tt=fU.prototype).qa=8,Tt.H=1,Tt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new oE(this,this.j,n,void 0);let s=this.s;if(this.U&&(s?(s=bB(s),wB(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gU(this,i,e),Xr(t=eu(this.G),"RID",n),Xr(t,"CVER",22),this.F&&Xr(t,"X-HTTP-Session-Id",this.F),gE(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(hU(s)))+"&"+e:this.o&&Vk(t,this.o,s)),Nk(this.h,i),this.bb&&Xr(t,"TYPE","init"),this.P?(Xr(t,"$req",e),Xr(t,"SID","null"),i.ba=!0,Pk(i,t,null)):Pk(i,t,e),this.H=2}}else 3==this.H&&(n?mU(this,n):0==this.i.length||tU(this.h)||mU(this))},Tt.Ma=function(){if(this.u=null,yU(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=iE(ys(this.jb,this),n)}},Tt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,ks(10),nD(this),yU(this))},Tt.ib=function(){null!=this.v&&(this.v=null,nD(this),Uk(this),ks(19))},Tt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),ks(2)):(this.j.info("Failed to ping google.com"),ks(1))},(Tt=IU.prototype).Ba=function(){},Tt.Aa=function(){},Tt.za=function(){},Tt.ya=function(){},Tt.Va=function(){},sD.prototype.g=function(n,e){return new xo(n,e)},ji(xo,Hi),xo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;ks(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=wU(n,null,n.Y),rD(n)},xo.prototype.close=function(){Bk(this.g)},xo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wk(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&rD(e)},xo.prototype.N=function(){this.g.l=null,delete this.j,Bk(this.g),delete this.g,xo.$.N.call(this)},ji(TU,Ak),ji(SU,xk),ji(sy,IU),sy.prototype.Ba=function(){rs(this.g,"a")},sy.prototype.Aa=function(n){rs(this.g,new TU(n))},sy.prototype.za=function(n){rs(this.g,new SU)},sy.prototype.ya=function(){rs(this.g,"b")},ji(Za,function I9(){this.blockSize=-1}),Za.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Za.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)Hk(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){Hk(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){Hk(this,r),i=0;break}}this.h=i,this.i+=e},Za.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var T9={};function $k(n){return-128<=n&&128>n?mB(T9,n,function(e){return new gr([0|e],0>e?-1:0)}):new gr([0|n],0>n?-1:0)}function zl(n){if(isNaN(n)||!isFinite(n))return oy;if(0>n)return is(zl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=zk;return new gr(e,0)}var zk=4294967296,oy=$k(0),Gk=$k(1),AU=$k(16777216);function nu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ma(n){return-1==n.h}function is(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new gr(t,~n.h).add(Gk)}function oD(n,e){return n.add(is(e))}function aD(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function _E(n,e){this.g=n,this.h=e}function lD(n,e){if(nu(e))throw Error("division by zero");if(nu(n))return new _E(oy,oy);if(ma(n))return e=lD(is(n),e),new _E(is(e.g),is(e.h));if(ma(e))return e=lD(n,is(e)),new _E(is(e.g),e.h);if(30<n.g.length){if(ma(n)||ma(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Gk,r=e;0>=r.X(n);)t=xU(t),r=xU(r);var i=ay(t,1),s=ay(r,1);for(r=ay(r,2),t=ay(t,2);!nu(r);){var l=s.add(r);0>=l.X(n)&&(i=i.add(t),s=l),r=ay(r,1),t=ay(t,1)}return e=oD(n,i.R(e)),new _E(i,e)}for(i=oy;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(s=zl(t)).R(e);ma(l)||0<l.X(n);)l=(s=zl(t-=r)).R(e);nu(s)&&(s=Gk),i=i.add(s),n=oD(n,l)}return new _E(i,n)}function xU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new gr(t,n.h)}function ay(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new gr(i,n.h)}(Tt=gr.prototype).ea=function(){if(ma(this))return-is(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:zk+r)*e,e*=zk}return n},Tt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(nu(this))return"0";if(ma(this))return"-"+is(this).toString(n);for(var e=zl(Math.pow(n,6)),t=this,r="";;){var i=lD(t,e).g,s=((0<(t=oD(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(nu(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Tt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Tt.X=function(n){return ma(n=oD(this,n))?-1:nu(n)?0:1},Tt.abs=function(){return ma(this)?is(this):this},Tt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),l=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(s&=65535)}return new gr(t,-2147483648&t[t.length-1]?-1:0)},Tt.R=function(n){if(nu(this)||nu(n))return oy;if(ma(this))return ma(n)?is(this).R(is(n)):is(is(this).R(n));if(ma(n))return is(this.R(is(n)));if(0>this.X(AU)&&0>n.X(AU))return zl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,l=65535&this.D(r),d=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=l*p,aD(t,2*r+2*i),t[2*r+2*i+1]+=s*p,aD(t,2*r+2*i+1),t[2*r+2*i+1]+=l*d,aD(t,2*r+2*i+1),t[2*r+2*i+2]+=s*d,aD(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new gr(t,0)},Tt.gb=function(n){return lD(this,n).h},Tt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new gr(t,this.h&n.h)},Tt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new gr(t,this.h|n.h)},Tt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new gr(t,this.h^n.h)},sD.prototype.createWebChannel=sD.prototype.g,xo.prototype.send=xo.prototype.u,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,WS.NO_ERROR=0,WS.TIMEOUT=8,WS.HTTP_ERROR=6,BB.COMPLETE="complete",jB.EventType=sE,sE.OPEN="a",sE.CLOSE="b",sE.ERROR="c",sE.MESSAGE="d",Hi.prototype.listen=Hi.prototype.O,fi.prototype.listenOnce=fi.prototype.P,fi.prototype.getLastError=fi.prototype.Sa,fi.prototype.getLastErrorCode=fi.prototype.Ia,fi.prototype.getStatus=fi.prototype.da,fi.prototype.getResponseJson=fi.prototype.Wa,fi.prototype.getResponseText=fi.prototype.ja,fi.prototype.send=fi.prototype.ha,fi.prototype.setWithCredentials=fi.prototype.Oa,Za.prototype.digest=Za.prototype.l,Za.prototype.reset=Za.prototype.reset,Za.prototype.update=Za.prototype.j,gr.prototype.add=gr.prototype.add,gr.prototype.multiply=gr.prototype.R,gr.prototype.modulo=gr.prototype.gb,gr.prototype.compare=gr.prototype.X,gr.prototype.toNumber=gr.prototype.ea,gr.prototype.toString=gr.prototype.toString,gr.prototype.getBits=gr.prototype.D,gr.fromNumber=zl,gr.fromString=function DU(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return is(DU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=zl(Math.pow(e,8)),r=oy,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+s),e);8>s?(s=zl(Math.pow(e,s)),r=r.R(s).add(zl(l))):r=(r=r.R(t)).add(zl(l))}return r},Ya.createWebChannelTransport=function(){return new sD},Ya.getStatEventTarget=function(){return GS()},Ya.ErrorCode=WS,Ya.EventType=BB,Ya.Event=em,Ya.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ya.FetchXmlHttpFactory=hE,Ya.WebChannel=jB,Ya.XhrIo=fi,Ya.Md5=Za;var S9=Ya.Integer=gr;const MU="@firebase/firestore";class $i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let yE="9.21.0";const oh=new ea.Yd("@firebase/firestore");function Xe(n,...e){if(oh.logLevel<=ea.in.DEBUG){const t=e.map(qk);oh.debug(`Firestore (${yE}): ${n}`,...t)}}function yi(n,...e){if(oh.logLevel<=ea.in.ERROR){const t=e.map(qk);oh.error(`Firestore (${yE}): ${n}`,...t)}}function qk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ot(n="Unexpected state"){const e=`FIRESTORE (${yE}) INTERNAL ASSERTION FAILED: `+n;throw yi(e),new Error(e)}function $t(n,e){n||Ot()}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends B.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class RU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($i.UNAUTHENTICATED))}shutdown(){}}class A9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class x9{constructor(e){this.t=e,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let l=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fi,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=l;e.enqueueRetryable((0,_i.Z)(function*(){yield _.promise,yield s(r.currentUser)}))},p=_=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t("string"==typeof r.accessToken),new RU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(null===e||"string"==typeof e),new $i(e)}}class M9{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class R9{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new M9(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P9{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($t("string"==typeof t.token),this.T=t.token,new PU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function k9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class kU{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=k9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Cn(n,e){return n<e?-1:n>e?1:0}class cD{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ot(),void 0===r?r=e.length-t:r>e.length-t&&Ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===cD.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cD?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),l=t.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yn extends cD{construct(e,t,r){return new Yn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Yn(t)}static emptyPath(){return new Yn([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(Yn.fromString(e))}static fromName(e){return new vt(Yn.fromString(e).popFirst(5))}static empty(){return new vt(Yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new Yn(e.slice()))}}function lh(n){return"IndexedDbTransactionError"===n.name}class Vr{constructor(e,t){this.comparator=e,this.root=t||ss.EMPTY}insert(e,t){return new Vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pD(this.root,e,this.comparator,!1)}getReverseIterator(){return new pD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pD(this.root,e,this.comparator,!0)}}class pD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ss{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ss.RED,this.left=i??ss.EMPTY,this.right=s??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ss(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ss.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1,ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ss(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gr{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KU(this.data.getIterator())}getIteratorFrom(e){return new KU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gr(this.comparator);return t.data=e,t}}class KU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class YU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Li{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new YU("Invalid base64 string: "+i):i}}(e);return new Li(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Li(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function pi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Li.EMPTY_BYTE_STRING=new Li("");class oK{constructor(e,t,r,i,s,l,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class om{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new om("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof om&&e.projectId===this.projectId&&e.database===this.database}}var xi,Zn;new Vr(vt.comparator),new Vr(vt.comparator),new Vr(vt.comparator),new Gr(vt.comparator),new Gr(Cn),(Zn=xi||(xi={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS",new S9([4294967295,4294967295],0);class OE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mm{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(pi(e.integerValue));else if("doubleValue"in e){const r=pi(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),function wE(n){return 0===n&&1/n==-1/0}(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(function ru(n){return"string"==typeof n?Li.fromBase64String(n):Li.fromUint8Array(n)}(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?function JU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Ot()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),vt.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}mm.be=new mm,new Uint8Array(0);class Es{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Es(e,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function HD(){return typeof document<"u"?document:null}Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(41943040,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);class HO{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class aN{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,d=new aN(e,t,l,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class _Y{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$i.UNAUTHENTICATED,this.clientId=kU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,_i.Z)(function*(d){Xe("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Xe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,_i.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_i.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Dy(n,e){if(yi("AsyncQueue",`${e}: ${n}`),lh(n))return new We(ge.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const m$=new Map;function qn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new We(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function ZD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ot()}(n);throw new We(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class v${constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new We(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new We(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function SY(n,e,t,r){if(!0===e&&!0===r)throw new We(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class QE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new We(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new D9;switch(t.type){case"firstParty":return new R9(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new We(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=m$.get(e);t&&(Xe("ComponentProvider","Removing Datastore"),m$.delete(e),t.terminate())}(this),Promise.resolve()}}class xY{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new HO(this,"async_queue_retry"),this.Yc=()=>{const t=HD();t&&Xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=HD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=HD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Fi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,_i.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!lh(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,yi("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=aN.createAndSchedule(this,e,t,r,s=>this.ea(s));return this.jc.push(i),i}Xc(){this.zc&&Ot()}verifyOperationInProgress(){}na(){var e=this;return(0,_i.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}class qr extends QE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xY,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function E$(n){var e,t,r;const i=n._freezeSettings(),s=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new oK(n._databaseId,d,n._persistenceKey,(_=i).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var d,_;n._firestoreClient=new _Y(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function RY(n,e){const t="object"==typeof n?n:(0,wr.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,wr._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,B.P0)("firestore");s&&function DY(n,e,t,r={}){var i;const s=(n=qn(n,QE))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&function Gl(n,...e){if(oh.logLevel<=ea.in.WARN){const t=e.map(qk);oh.warn(`Firestore (${yE}): ${n}`,...t)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,d;if("string"==typeof r.mockUserToken)l=r.mockUserToken,d=$i.MOCK_USER;else{l=(0,B.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new We(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new $i(p)}n._authCredentials=new A9(new RU(l,d))}}(i,...s)}return i}!function(n,e=!0){yE=wr.SDK_VERSION,(0,wr._registerComponent)(new Jo.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),l=new qr(new x9(t.getProvider("auth-internal")),new P9(t.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new We(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new om(d.options.projectId,p)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,wr.registerVersion)(MU,"3.11.0",n),(0,wr.registerVersion)(MU,"3.11.0","esm2017")}();class n1{constructor(e){return e}}const H$="firestore",r1=new h.OlP("angularfire2.firestore-instances");function iZ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new n1(r)}}const sZ={provide:class nZ{constructor(){return(0,Pt.vb)(H$)}},deps:[[new h.FiY,r1]]},oZ={provide:n1,useFactory:function rZ(n,e){const t=(0,Pt.JM)(H$,n,e);return t&&new n1(t)},deps:[[new h.FiY,r1],Zs]};let aZ=(()=>{class n{constructor(){(0,Xi.KN)("angularfire",Pt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[oZ,sZ]}),n})();function lZ(n,...e){return{ngModule:aZ,providers:[{provide:r1,useFactory:iZ(n),multi:!0,deps:[h.R0b,h.zs3,Pt.HU,Ua,[new h.FiY,kS],[new h.FiY,Oc],...e]}]}}const cZ=(0,Pt.u3)(RY,!0);O(4727);const $$="@firebase/performance",s1="0.6.4",z$=s1,o1="FB-PERF-TRACE-MEASURE",Y$="@firebase/performance/config",Z$="@firebase/performance/configexpire",Q$="Performance",as=new B.LL("performance",Q$,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Ql=new ea.Yd(Q$);let a1,X$,J$,c1;Ql.logLevel=ea.in.INFO;class Wi{constructor(e){if(this.window=e,!e)throw as.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,B.zI)()?!!(0,B.hl)()||(Ql.info("IndexedDB is not supported by current browswer"),!1):(Ql.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===a1&&(a1=new Wi(X$)),a1}}function l1(){return J$}function ez(n,e){const t=n.length-e.length;if(t<0||t>1)throw as.create("invalid String merger input");const r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class Po{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ez("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ez("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===c1&&(c1=new Po),c1}}var wm=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(wm||(wm={})),wm))();const _Z=["firebase_","google_","ga_"],yZ=new RegExp("^[a-zA-Z]\\w*$");function EZ(){const n=Wi.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function tz(){switch(Wi.getInstance().document.visibilityState){case"visible":return wm.VISIBLE;case"hidden":return wm.HIDDEN;default:return wm.UNKNOWN}}function wZ(){const e=Wi.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function nz(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw as.create("no app id");return t}const DZ="0.0.1",Xa={loggingEnabled:!0},AZ="FIREBASE_INSTALLATIONS_AUTH";const PZ="Could not fetch config, will use default configs";function rz(n){if(!n)return n;const e=Po.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Xa.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Xa.logSource&&(e.logSource=Xa.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Xa.logEndPointUrl&&(e.logEndPointUrl=Xa.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Xa.transportKey&&(e.transportKey=Xa.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Xa.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Xa.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Xa.tracesSamplingRate&&(e.tracesSamplingRate=Xa.tracesSamplingRate),e.logTraceAfterSampling=iz(e.tracesSamplingRate),e.logNetworkAfterSampling=iz(e.networkRequestsSamplingRate),n}function iz(n){return Math.random()<=n}let d1,u1=1;function sz(n){return u1=2,d1=d1||function FZ(n){return function LZ(){const n=Wi.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function mZ(n){const e=n.getId();return e.then(t=>{J$=t}),e}(n.installations)).then(e=>function xZ(n,e){const t=function MZ(){const n=Wi.getInstance().localStorage;if(!n)return;const e=n.getItem(Z$);if(!e||!function OZ(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(Y$);if(t)try{return JSON.parse(t)}catch{return}}();return t?(rz(t),Promise.resolve()):function kZ(n,e){return function gZ(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const r=function TZ(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw as.create("no project id");return t}(n.app),i=function SZ(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw as.create("no api key");return t}(n.app),l=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`${AZ} ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:nz(n.app),app_version:z$,sdk_version:DZ})});return fetch(l).then(d=>{if(d.ok)return d.json();throw as.create("RC response not ok")})}).catch(()=>{Ql.info(PZ)})}(n,e).then(rz).then(r=>function RZ(n){const e=Wi.getInstance().localStorage;!n||!e||(e.setItem(Y$,JSON.stringify(n)),e.setItem(Z$,String(Date.now()+60*Po.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,e)).then(()=>oz(),()=>oz())}(n),d1}function oz(){u1=3}const h1=1e4,az=3,BZ=1e3;let f1,oA=az,wh=[],lz=!1;function aA(n){setTimeout(()=>{if(0!==oA){if(!wh.length)return aA(h1);!function jZ(){const n=wh.splice(0,BZ),e=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function HZ(n,e){return function $Z(n){const e=Po.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||Ql.info("Call to Firebase backend failed."),t.json())).then(t=>{const r=Number(t.nextRequestWaitMillis);let i=h1;isNaN(r)||(i=Math.max(r,i));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(wh=[...e,...wh],Ql.info("Retry transport request later.")),oA=az,aA(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Po.getInstance().logSource,log_event:e},n).catch(()=>{wh=[...n,...wh],oA--,Ql.info(`Tries left: ${oA}.`),aA(h1)})}()}},n)}function cz(n,e){f1||(f1=function GZ(n){return(...e)=>{!function zZ(n){if(!n.eventTime||!n.message)throw as.create("invalid cc log");wh=[...wh,n]}({message:n(...e),eventTime:Date.now()})}}(qZ)),f1(n,e)}function lA(n){const e=Po.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||Wi.getInstance().requiredApisAvailable()&&(n.isAuto&&tz()!==wm.VISIBLE||(function NZ(){return 3===u1}()?p1(n):sz(n.performanceController).then(()=>p1(n),()=>p1(n))))}function p1(n){if(!l1())return;const e=Po.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>cz(n,1),0)}function qZ(n,e){return 0===e?function KZ(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:uz(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function YZ(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const r={application_info:uz(n.performanceController.app),trace_metric:e};return JSON.stringify(r)}(n)}function uz(n){return{google_app_id:nz(n),app_instance_id:l1(),web_app_info:{sdk_version:z$,page_url:Wi.getInstance().getUrl(),service_worker_status:EZ(),visibility_state:tz(),effective_connection_type:wZ()},application_process_state:0}}const XZ=["_fp","_fcp","_fid"];class Ch{constructor(e,t,r=!1,i){this.performanceController=e,this.name=t,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Wi.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${o1}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw as.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw as.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),lA(this)}record(e,t,r){if(e<=0)throw as.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw as.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));lA(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function JZ(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&XZ.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw as.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function eQ(n){const e=Math.floor(n);return e<n&&Ql.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const r=function CZ(n){return!(0===n.length||n.length>40||_Z.some(t=>n.startsWith(t))||!n.match(yZ))}(e),i=function IZ(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw as.create("invalid attribute name",{attributeName:e});if(!i)throw as.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,r,i){const s=Wi.getInstance().getUrl();if(!s)return;const l=new Ch(e,"_wt_"+s,!0),d=Math.floor(1e3*Wi.getInstance().getTimeOrigin());if(l.setStartTime(d),t&&t[0]&&(l.setDuration(Math.floor(1e3*t[0].duration)),l.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),l.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),l.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){const E=r.find(A=>"first-paint"===A.name);E&&E.startTime&&l.putMetric("_fp",Math.floor(1e3*E.startTime));const T=r.find(A=>"first-contentful-paint"===A.name);T&&T.startTime&&l.putMetric("_fcp",Math.floor(1e3*T.startTime)),i&&l.putMetric("_fid",Math.floor(1e3*i))}lA(l)}static createUserTimingTrace(e,t){lA(new Ch(e,t,!1,t))}}function dz(n,e){const t=e;if(!t||void 0===t.responseStart)return;const r=Wi.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+r)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,l=Math.floor(1e3*(t.responseEnd-t.startTime));!function WZ(n){const e=Po.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>cz(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:l})}const tQ=5e3;function hz(n){l1()&&(setTimeout(()=>function rQ(n){const e=Wi.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{Ch.createOobTrace(n,t,r),i=void 0},tQ);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),Ch.createOobTrace(n,t,r,s))})}else Ch.createOobTrace(n,t,r)}(n),0),setTimeout(()=>function nQ(n){const e=Wi.getInstance(),t=e.getEntriesByType("resource");for(const r of t)dz(n,r);e.setupObserver("resource",r=>dz(n,r))}(n),0),setTimeout(()=>function iQ(n){const e=Wi.getInstance(),t=e.getEntriesByType("measure");for(const r of t)fz(n,r);e.setupObserver("measure",r=>fz(n,r))}(n),0))}function fz(n,e){const t=e.name;t.substring(0,o1.length)!==o1&&Ch.createUserTimingTrace(n,t)}class sQ{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Wi.getInstance().requiredApisAvailable()?(0,B.eu)().then(t=>{t&&(function UZ(){lz||(aA(5500),lz=!0)}(),sz(this).then(()=>hz(this),()=>hz(this)),this.initialized=!0)}).catch(t=>{Ql.info(`Environment doesn't support IndexedDB: ${t}`)}):Ql.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Po.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Po.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Po.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Po.getInstance().dataCollectionEnabled}}function aQ(n=(0,wr.getApp)()){return n=(0,B.m9)(n),(0,wr._getProvider)(n,"performance").getImmediate()}const lQ=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw as.create("FB not default");if(typeof window>"u")throw as.create("no window");!function pZ(n){X$=n}(window);const i=new sQ(t,r);return i._init(e),i};!function cQ(){(0,wr._registerComponent)(new Jo.wA("performance",lQ,"PUBLIC")),(0,wr.registerVersion)($$,s1),(0,wr.registerVersion)($$,s1,"esm2017")}();class m1{constructor(e){return e}}const pz="performance",g1=new h.OlP("angularfire2.performance-instances");function hQ(n){return(e,t,r)=>{if(!cr(t))return null;const i=e.runOutsideAngular(()=>n(r));return new m1(i)}}const fQ={provide:class uQ{constructor(){return(0,Pt.vb)(pz)}},deps:[[new h.FiY,g1]]},pQ={provide:m1,useFactory:function dQ(n,e,t){if(!cr(t))return null;const r=(0,Pt.JM)(pz,n,e);return r&&new m1(r)},deps:[[new h.FiY,g1],Zs,h.Lbi]};let mQ=(()=>{class n{constructor(){(0,Xi.KN)("angularfire",Pt.q4.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[pQ,fQ]}),n})();function gQ(n,...e){return{ngModule:mQ,providers:[{provide:g1,useFactory:hQ(n),multi:!0,deps:[h.R0b,h.Lbi,h.zs3,Pt.HU,Ua,...e]}]}}const _Q=(0,Pt.u3)(aQ,!0);var yQ=O(4880);class _1{constructor(e){return e}}const mz="remote-config",y1=new h.OlP("angularfire2.remote-config-instances");function EQ(n){return(e,t)=>{if(!Pt._J.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new _1(r)}}const wQ={provide:class vQ{constructor(){return(0,Pt.vb)(mz)}},deps:[[new h.FiY,y1]]},CQ={provide:_1,useFactory:function bQ(n,e){if(!Pt._J.sync())return null;const t=(0,Pt.JM)(mz,n,e);return t&&new _1(t)},deps:[[new h.FiY,y1],Zs]};let IQ=(()=>{class n{constructor(){(0,Xi.KN)("angularfire",Pt.q4.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[CQ,wQ,{provide:h.ip1,useValue:Pt._J.async,multi:!0}]}),n})();function TQ(n,...e){return{ngModule:IQ,providers:[{provide:y1,useFactory:EQ(n),multi:!0,deps:[h.R0b,h.zs3,Pt.HU,Ua,...e]}]}}const SQ=(0,Pt.u3)(yQ.sN,!0),gz="firebasestorage.googleapis.com",_z="storageBucket";class ai extends B.ZR{constructor(e,t,r=0){super(v1(e),`Firebase Storage: ${t} (${v1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return v1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Br=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Br||(Br={})),Br))();function v1(n){return"storage/"+n}function E1(n){return new ai(Br.INVALID_ARGUMENT,n)}function Ez(){return new ai(Br.APP_DELETED,"The Firebase app was deleted.")}class Ns{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ns.makeFromUrl(e,t)}catch{return new Ns(e,"")}if(""===r.path)return r;throw function FQ(n){return new ai(Br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+i+"(/(.*))?$","i");function _(gt){gt.path_=decodeURIComponent(gt.path)}const T=t.replace(/[.]/g,"\\."),tt=[{regex:d,indices:{bucket:1,path:3},postModify:function s(gt){"/"===gt.path.charAt(gt.path.length-1)&&(gt.path_=gt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===gz?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let gt=0;gt<tt.length;gt++){const sn=tt[gt],un=sn.regex.exec(e);if(un){let ei=un[sn.indices.path];ei||(ei=""),r=new Ns(un[sn.indices.bucket],ei),sn.postModify(r);break}}if(null==r)throw function NQ(n){return new ai(Br.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class HQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function C1(n,e,t,r){if(r<e)throw E1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw E1(`Invalid value for '${n}'. Expected ${t} or less.`)}var Ih=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ih||(Ih={})),Ih))();class KQ{constructor(e,t,r,i,s,l,d,p,_,E,T,A=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=T,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,V)=>{this.resolve_=k,this.reject_=V,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function GQ(n){return void 0!==n}(p)?s():s(p)}catch(p){l(p)}else if(null!==d){const p=function b1(){return new ai(Br.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();p.serverResponse=d.getErrorText(),l(this.errorCallback_?this.errorCallback_(d,p):p)}else l(i.canceled?this.appDelete_?Ez():function vz(){return new ai(Br.CANCELED,"User canceled the upload/download.")}():function yz(){return new ai(Br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new uA(!1,null,!0)):this.backoffId_=function $Q(n,e,t){let r=1,i=null,s=null,l=!1,d=0;function p(){return 2===d}let _=!1;function E(...re){_||(_=!0,e.apply(null,re))}function T(re){i=setTimeout(()=>{i=null,n(k,p())},re)}function A(){s&&clearTimeout(s)}function k(re,...Ue){if(_)return void A();if(re)return A(),void E.call(null,re,...Ue);if(p()||l)return A(),void E.call(null,re,...Ue);let tt;r<64&&(r*=2),1===d?(d=2,tt=0):tt=1e3*(r+Math.random()),T(tt)}let V=!1;function q(re){V||(V=!0,A(),!_&&(null!==i?(re||(d=2),clearTimeout(i),T(0)):re||(d=1)))}return T(0),s=setTimeout(()=>{l=!0,q(!0)},t),q}((r,i)=>{if(i)return void r(!1,new uA(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const d=s.getErrorCode()===Ih.NO_ERROR,p=s.getStatus();if(!d||function Iz(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}(p,this.additionalRetryCodes_)&&this.retry){const E=s.getErrorCode()===Ih.ABORT;return void r(!1,new uA(!1,null,E))}const _=-1!==this.successCodes_.indexOf(p);r(!0,new uA(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function zQ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class uA{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class Cm{constructor(e,t){this._service=e,this._location=t instanceof Ns?t:Ns.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Cm(e,t)}get root(){const e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function xz(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function lX(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ns(this._location.bucket,e);return new Cm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function jQ(n){return new ai(Br.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function zz(n,e){const t=e?.[_z];return null==t?null:Ns.makeFromBucketSpec(t,n)}class M1{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=gz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ns.makeFromBucketSpec(i,this._host):zz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ns.makeFromBucketSpec(this._url,e):zz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_i.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_i.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cm(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new HQ(Ez());{const l=function JQ(n,e,t,r,i,s,l=!0){const d=function Cz(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return function QQ(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function YQ(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function ZQ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,s),function XQ(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new KQ(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,_i.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const Gz="@firebase/storage",qz="storage";function qX(n=(0,wr.getApp)(),e){n=(0,B.m9)(n);const r=(0,wr._getProvider)(n,qz).getImmediate({identifier:e}),i=(0,B.P0)("storage");return i&&function KX(n,e,t,r={}){!function WX(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,B.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function YX(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new M1(t,r,i,e,wr.SDK_VERSION)}!function ZX(){(0,wr._registerComponent)(new Jo.wA(qz,YX,"PUBLIC").setMultipleInstances(!0)),(0,wr.registerVersion)(Gz,"0.11.2",""),(0,wr.registerVersion)(Gz,"0.11.2","esm2017")}();class R1{constructor(e){return e}}const Kz="storage",P1=new h.OlP("angularfire2.storage-instances");function JX(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new R1(r)}}const eJ={provide:class QX{constructor(){return(0,Pt.vb)(Kz)}},deps:[[new h.FiY,P1]]},tJ={provide:R1,useFactory:function XX(n,e){const t=(0,Pt.JM)(Kz,n,e);return t&&new R1(t)},deps:[[new h.FiY,P1],Zs]};let nJ=(()=>{class n{constructor(){(0,Xi.KN)("angularfire",Pt.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[tJ,eJ]}),n})();function rJ(n,...e){return{ngModule:nJ,providers:[{provide:P1,useFactory:JX(n),multi:!0,deps:[h.R0b,h.zs3,Pt.HU,Ua,[new h.FiY,kS],[new h.FiY,Oc],...e]}]}}const iJ=(0,Pt.u3)(qX,!0),Yz_firebase={apiKey:"AIzaSyCD81VQjHMq9mkAY1bMLLw-hyBWMhw34dg",authDomain:"angular-7e7df.firebaseapp.com",projectId:"angular-7e7df",storageBucket:"angular-7e7df.appspot.com",messagingSenderId:"1055478818098",appId:"1:1055478818098:web:f7a14fa958f39acc40632b",databaseURL:"https://angular-7e7df-default-rtdb.europe-west1.firebasedatabase.app",measurementId:"G-MK5KYZ5Y4C"},sJ=[w2,U2,j2,yV];let oJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[sJ,w2,U2,j2,yV]}),n})(),aJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[fe,YL,oJ,rB]}),n})(),lJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[L6]}),n.\u0275inj=h.cJS({providers:[xR,zp],imports:[Ra,YL,rB,aJ,Ys.hO.initializeApp(Yz_firebase),BC,yG,bW,gC(()=>_C(Yz_firebase)),b8(()=>Qq()),qq(()=>Yq()),D8(()=>A8()),lZ(()=>cZ()),gQ(()=>_Q()),TQ(()=>SQ()),rJ(()=>iJ())]}),n})();Xy().bootstrapModule(lJ).catch(n=>console.error(n))},9751:(Mt,Pe,O)=>{O.d(Pe,{y:()=>_e});var h=O(930),j=O(727),L=O(8822),ee=O(9635),we=O(2416),ie=O(576),Ce=O(2806);let _e=(()=>{class Q{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const $e=new Q;return $e.source=this,$e.operator=ke,$e}subscribe(ke,$e,ft){const ve=function W(Q){return Q&&Q instanceof h.Lv||function K(Q){return Q&&(0,ie.m)(Q.next)&&(0,ie.m)(Q.error)&&(0,ie.m)(Q.complete)}(Q)&&(0,j.Nn)(Q)}(ke)?ke:new h.Hp(ke,$e,ft);return(0,Ce.x)(()=>{const{operator:Ne,source:Be}=this;ve.add(Ne?Ne.call(ve,Be):Be?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(ke){try{return this._subscribe(ke)}catch($e){ke.error($e)}}forEach(ke,$e){return new($e=Ee($e))((ft,ve)=>{const Ne=new h.Hp({next:Be=>{try{ke(Be)}catch(qe){ve(qe),Ne.unsubscribe()}},error:ve,complete:ft});this.subscribe(Ne)})}_subscribe(ke){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(ke)}[L.L](){return this}pipe(...ke){return(0,ee.U)(ke)(this)}toPromise(ke){return new(ke=Ee(ke))(($e,ft)=>{let ve;this.subscribe(Ne=>ve=Ne,Ne=>ft(Ne),()=>$e(ve))})}}return Q.create=Oe=>new Q(Oe),Q})();function Ee(Q){var Oe;return null!==(Oe=Q??we.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(Mt,Pe,O)=>{O.d(Pe,{x:()=>Ce});var h=O(9751),j=O(727);const ee=(0,O(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=O(8737),ie=O(2806);let Ce=(()=>{class Ee extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const Q=new _e(this,this);return Q.operator=W,Q}_throwIfClosed(){if(this.closed)throw new ee}next(W){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(W)}})}error(W){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:Q}=this;for(;Q.length;)Q.shift().error(W)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:Q,isStopped:Oe,observers:ke}=this;return Q||Oe?j.Lc:(this.currentObservers=null,ke.push(W),new j.w0(()=>{this.currentObservers=null,(0,we.P)(ke,W)}))}_checkFinalizedStatuses(W){const{hasError:Q,thrownError:Oe,isStopped:ke}=this;Q?W.error(Oe):ke&&W.complete()}asObservable(){const W=new h.y;return W.source=this,W}}return Ee.create=(K,W)=>new _e(K,W),Ee})();class _e extends Ce{constructor(K,W){super(),this.destination=K,this.source=W}next(K){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===Q||Q.call(W,K)}error(K){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===Q||Q.call(W,K)}complete(){var K,W;null===(W=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===W||W.call(K)}_subscribe(K){var W,Q;return null!==(Q=null===(W=this.source)||void 0===W?void 0:W.subscribe(K))&&void 0!==Q?Q:j.Lc}}},930:(Mt,Pe,O)=>{O.d(Pe,{Hp:()=>ft,Lv:()=>Q});var h=O(576),j=O(727),L=O(2416),ee=O(7849),we=O(5032);const ie=Ee("C",void 0,void 0);function Ee(Se,De,Re){return{kind:Se,value:De,error:Re}}var K=O(3410),W=O(2806);class Q extends j.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,j.Nn)(De)&&De.add(this)):this.destination=qe}static create(De,Re,Ze){return new ft(De,Re,Ze)}next(De){this.isStopped?Be(function _e(Se){return Ee("N",Se,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Be(function Ce(Se){return Ee("E",void 0,Se)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Be(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ke(Se,De){return Oe.call(Se,De)}class $e{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Re}=this;if(Re.next)try{Re.next(De)}catch(Ze){ve(Ze)}}error(De){const{partialObserver:Re}=this;if(Re.error)try{Re.error(De)}catch(Ze){ve(Ze)}else ve(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Re){ve(Re)}}}class ft extends Q{constructor(De,Re,Ze){let je;if(super(),(0,h.m)(De)||!De)je={next:De??void 0,error:Re??void 0,complete:Ze??void 0};else{let ae;this&&L.v.useDeprecatedNextContext?(ae=Object.create(De),ae.unsubscribe=()=>this.unsubscribe(),je={next:De.next&&ke(De.next,ae),error:De.error&&ke(De.error,ae),complete:De.complete&&ke(De.complete,ae)}):je=De}this.destination=new $e(je)}}function ve(Se){L.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Se):(0,ee.h)(Se)}function Be(Se,De){const{onStoppedNotification:Re}=L.v;Re&&K.z.setTimeout(()=>Re(Se,De))}const qe={closed:!0,next:we.Z,error:function Ne(Se){throw Se},complete:we.Z}},727:(Mt,Pe,O)=>{O.d(Pe,{Lc:()=>ie,w0:()=>we,Nn:()=>Ce});var h=O(576);const L=(0,O(3888).d)(Ee=>function(W){Ee(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((Q,Oe)=>`${Oe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ee=O(8737);class we{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const ke of W)ke.remove(this);else W.remove(this);const{initialTeardown:Q}=this;if((0,h.m)(Q))try{Q()}catch(ke){K=ke instanceof L?ke.errors:[ke]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ke of Oe)try{_e(ke)}catch($e){K=K??[],$e instanceof L?K=[...K,...$e.errors]:K.push($e)}}if(K)throw new L(K)}}add(K){var W;if(K&&K!==this)if(this.closed)_e(K);else{if(K instanceof we){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(K)}}_hasParent(K){const{_parentage:W}=this;return W===K||Array.isArray(W)&&W.includes(K)}_addParent(K){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(K),W):W?[W,K]:K}_removeParent(K){const{_parentage:W}=this;W===K?this._parentage=null:Array.isArray(W)&&(0,ee.P)(W,K)}remove(K){const{_finalizers:W}=this;W&&(0,ee.P)(W,K),K instanceof we&&K._removeParent(this)}}we.EMPTY=(()=>{const Ee=new we;return Ee.closed=!0,Ee})();const ie=we.EMPTY;function Ce(Ee){return Ee instanceof we||Ee&&"closed"in Ee&&(0,h.m)(Ee.remove)&&(0,h.m)(Ee.add)&&(0,h.m)(Ee.unsubscribe)}function _e(Ee){(0,h.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(Mt,Pe,O)=>{O.d(Pe,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Mt,Pe,O)=>{O.d(Pe,{E:()=>j});const j=new(O(9751).y)(we=>we.complete())},8996:(Mt,Pe,O)=>{O.d(Pe,{D:()=>De});var h=O(8421),j=O(5363),L=O(9468),ie=O(9751),_e=O(2202),Ee=O(576),K=O(9672);function Q(Re,Ze){if(!Re)throw new Error("Iterable cannot be null");return new ie.y(je=>{(0,K.f)(je,Ze,()=>{const ae=Re[Symbol.asyncIterator]();(0,K.f)(je,Ze,()=>{ae.next().then(lt=>{lt.done?je.complete():je.next(lt.value)})},0,!0)})})}var Oe=O(3670),ke=O(8239),$e=O(1144),ft=O(6495),ve=O(2206),Ne=O(4532),Be=O(3260);function De(Re,Ze){return Ze?function Se(Re,Ze){if(null!=Re){if((0,Oe.c)(Re))return function ee(Re,Ze){return(0,h.Xf)(Re).pipe((0,L.R)(Ze),(0,j.Q)(Ze))}(Re,Ze);if((0,$e.z)(Re))return function Ce(Re,Ze){return new ie.y(je=>{let ae=0;return Ze.schedule(function(){ae===Re.length?je.complete():(je.next(Re[ae++]),je.closed||this.schedule())})})}(Re,Ze);if((0,ke.t)(Re))return function we(Re,Ze){return(0,h.Xf)(Re).pipe((0,L.R)(Ze),(0,j.Q)(Ze))}(Re,Ze);if((0,ve.D)(Re))return Q(Re,Ze);if((0,ft.T)(Re))return function W(Re,Ze){return new ie.y(je=>{let ae;return(0,K.f)(je,Ze,()=>{ae=Re[_e.h](),(0,K.f)(je,Ze,()=>{let lt,Ft;try{({value:lt,done:Ft}=ae.next())}catch(at){return void je.error(at)}Ft?je.complete():je.next(lt)},0,!0)}),()=>(0,Ee.m)(ae?.return)&&ae.return()})}(Re,Ze);if((0,Be.L)(Re))return function qe(Re,Ze){return Q((0,Be.Q)(Re),Ze)}(Re,Ze)}throw(0,Ne.z)(Re)}(Re,Ze):(0,h.Xf)(Re)}},8421:(Mt,Pe,O)=>{O.d(Pe,{Xf:()=>Oe});var h=O(655),j=O(1144),L=O(8239),ee=O(9751),we=O(3670),ie=O(2206),Ce=O(4532),_e=O(6495),Ee=O(3260),K=O(576),W=O(7849),Q=O(8822);function Oe(Se){if(Se instanceof ee.y)return Se;if(null!=Se){if((0,we.c)(Se))return function ke(Se){return new ee.y(De=>{const Re=Se[Q.L]();if((0,K.m)(Re.subscribe))return Re.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,j.z)(Se))return function $e(Se){return new ee.y(De=>{for(let Re=0;Re<Se.length&&!De.closed;Re++)De.next(Se[Re]);De.complete()})}(Se);if((0,L.t)(Se))return function ft(Se){return new ee.y(De=>{Se.then(Re=>{De.closed||(De.next(Re),De.complete())},Re=>De.error(Re)).then(null,W.h)})}(Se);if((0,ie.D)(Se))return Ne(Se);if((0,_e.T)(Se))return function ve(Se){return new ee.y(De=>{for(const Re of Se)if(De.next(Re),De.closed)return;De.complete()})}(Se);if((0,Ee.L)(Se))return function Be(Se){return Ne((0,Ee.Q)(Se))}(Se)}throw(0,Ce.z)(Se)}function Ne(Se){return new ee.y(De=>{(function qe(Se,De){var Re,Ze,je,ae;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Re=(0,h.KL)(Se);!(Ze=yield Re.next()).done;)if(De.next(Ze.value),De.closed)return}catch(lt){je={error:lt}}finally{try{Ze&&!Ze.done&&(ae=Re.return)&&(yield ae.call(Re))}finally{if(je)throw je.error}}De.complete()})})(Se,De).catch(Re=>De.error(Re))})}},6451:(Mt,Pe,O)=>{O.d(Pe,{T:()=>ie});var h=O(8189),j=O(8421),L=O(515),ee=O(3269),we=O(8996);function ie(...Ce){const _e=(0,ee.yG)(Ce),Ee=(0,ee._6)(Ce,1/0),K=Ce;return K.length?1===K.length?(0,j.Xf)(K[0]):(0,h.J)(Ee)((0,we.D)(K,_e)):L.E}},5403:(Mt,Pe,O)=>{O.d(Pe,{Q:()=>L,x:()=>j});var h=O(930);function j(ee,we,ie,Ce,_e){return new L(ee,we,ie,Ce,_e)}class L extends h.Lv{constructor(we,ie,Ce,_e,Ee,K){super(we),this.onFinalize=Ee,this.shouldUnsubscribe=K,this._next=ie?function(W){try{ie(W)}catch(Q){we.error(Q)}}:super._next,this._error=_e?function(W){try{_e(W)}catch(Q){we.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(W){we.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},4004:(Mt,Pe,O)=>{O.d(Pe,{U:()=>L});var h=O(4482),j=O(5403);function L(ee,we){return(0,h.e)((ie,Ce)=>{let _e=0;ie.subscribe((0,j.x)(Ce,Ee=>{Ce.next(ee.call(we,Ee,_e++))}))})}},8189:(Mt,Pe,O)=>{O.d(Pe,{J:()=>L});var h=O(5577),j=O(4671);function L(ee=1/0){return(0,h.z)(j.y,ee)}},5577:(Mt,Pe,O)=>{O.d(Pe,{z:()=>_e});var h=O(4004),j=O(8421),L=O(4482),ee=O(9672),we=O(5403),Ce=O(576);function _e(Ee,K,W=1/0){return(0,Ce.m)(K)?_e((Q,Oe)=>(0,h.U)((ke,$e)=>K(Q,ke,Oe,$e))((0,j.Xf)(Ee(Q,Oe))),W):("number"==typeof K&&(W=K),(0,L.e)((Q,Oe)=>function ie(Ee,K,W,Q,Oe,ke,$e,ft){const ve=[];let Ne=0,Be=0,qe=!1;const Se=()=>{qe&&!ve.length&&!Ne&&K.complete()},De=Ze=>Ne<Q?Re(Ze):ve.push(Ze),Re=Ze=>{ke&&K.next(Ze),Ne++;let je=!1;(0,j.Xf)(W(Ze,Be++)).subscribe((0,we.x)(K,ae=>{Oe?.(ae),ke?De(ae):K.next(ae)},()=>{je=!0},void 0,()=>{if(je)try{for(Ne--;ve.length&&Ne<Q;){const ae=ve.shift();$e?(0,ee.f)(K,$e,()=>Re(ae)):Re(ae)}Se()}catch(ae){K.error(ae)}}))};return Ee.subscribe((0,we.x)(K,De,()=>{qe=!0,Se()})),()=>{ft?.()}}(Q,Oe,Ee,W)))}},5363:(Mt,Pe,O)=>{O.d(Pe,{Q:()=>ee});var h=O(9672),j=O(4482),L=O(5403);function ee(we,ie=0){return(0,j.e)((Ce,_e)=>{Ce.subscribe((0,L.x)(_e,Ee=>(0,h.f)(_e,we,()=>_e.next(Ee),ie),()=>(0,h.f)(_e,we,()=>_e.complete(),ie),Ee=>(0,h.f)(_e,we,()=>_e.error(Ee),ie)))})}},3099:(Mt,Pe,O)=>{O.d(Pe,{B:()=>we});var h=O(8421),j=O(7579),L=O(930),ee=O(4482);function we(Ce={}){const{connector:_e=(()=>new j.x),resetOnError:Ee=!0,resetOnComplete:K=!0,resetOnRefCountZero:W=!0}=Ce;return Q=>{let Oe,ke,$e,ft=0,ve=!1,Ne=!1;const Be=()=>{ke?.unsubscribe(),ke=void 0},qe=()=>{Be(),Oe=$e=void 0,ve=Ne=!1},Se=()=>{const De=Oe;qe(),De?.unsubscribe()};return(0,ee.e)((De,Re)=>{ft++,!Ne&&!ve&&Be();const Ze=$e=$e??_e();Re.add(()=>{ft--,0===ft&&!Ne&&!ve&&(ke=ie(Se,W))}),Ze.subscribe(Re),!Oe&&ft>0&&(Oe=new L.Hp({next:je=>Ze.next(je),error:je=>{Ne=!0,Be(),ke=ie(qe,Ee,je),Ze.error(je)},complete:()=>{ve=!0,Be(),ke=ie(qe,K),Ze.complete()}}),(0,h.Xf)(De).subscribe(Oe))})(Q)}}function ie(Ce,_e,...Ee){if(!0===_e)return void Ce();if(!1===_e)return;const K=new L.Hp({next:()=>{K.unsubscribe(),Ce()}});return(0,h.Xf)(_e(...Ee)).subscribe(K)}},9468:(Mt,Pe,O)=>{O.d(Pe,{R:()=>j});var h=O(4482);function j(L,ee=0){return(0,h.e)((we,ie)=>{ie.add(L.schedule(()=>we.subscribe(ie),ee))})}},8505:(Mt,Pe,O)=>{O.d(Pe,{b:()=>we});var h=O(576),j=O(4482),L=O(5403),ee=O(4671);function we(ie,Ce,_e){const Ee=(0,h.m)(ie)||Ce||_e?{next:ie,error:Ce,complete:_e}:ie;return Ee?(0,j.e)((K,W)=>{var Q;null===(Q=Ee.subscribe)||void 0===Q||Q.call(Ee);let Oe=!0;K.subscribe((0,L.x)(W,ke=>{var $e;null===($e=Ee.next)||void 0===$e||$e.call(Ee,ke),W.next(ke)},()=>{var ke;Oe=!1,null===(ke=Ee.complete)||void 0===ke||ke.call(Ee),W.complete()},ke=>{var $e;Oe=!1,null===($e=Ee.error)||void 0===$e||$e.call(Ee,ke),W.error(ke)},()=>{var ke,$e;Oe&&(null===(ke=Ee.unsubscribe)||void 0===ke||ke.call(Ee)),null===($e=Ee.finalize)||void 0===$e||$e.call(Ee)}))}):ee.y}},4408:(Mt,Pe,O)=>{O.d(Pe,{o:()=>we});var h=O(727);class j extends h.w0{constructor(Ce,_e){super()}schedule(Ce,_e=0){return this}}const L={setInterval(ie,Ce,..._e){const{delegate:Ee}=L;return Ee?.setInterval?Ee.setInterval(ie,Ce,..._e):setInterval(ie,Ce,..._e)},clearInterval(ie){const{delegate:Ce}=L;return(Ce?.clearInterval||clearInterval)(ie)},delegate:void 0};var ee=O(8737);class we extends j{constructor(Ce,_e){super(Ce,_e),this.scheduler=Ce,this.work=_e,this.pending=!1}schedule(Ce,_e=0){var Ee;if(this.closed)return this;this.state=Ce;const K=this.id,W=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(W,K,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(W,this.id,_e),this}requestAsyncId(Ce,_e,Ee=0){return L.setInterval(Ce.flush.bind(Ce,this),Ee)}recycleAsyncId(Ce,_e,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return _e;null!=_e&&L.clearInterval(_e)}execute(Ce,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Ce,_e);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,_e){let K,Ee=!1;try{this.work(Ce)}catch(W){Ee=!0,K=W||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:_e}=this,{actions:Ee}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(Ee,this),null!=Ce&&(this.id=this.recycleAsyncId(_e,Ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(Mt,Pe,O)=>{O.d(Pe,{v:()=>L});var h=O(6063);class j{constructor(we,ie=j.now){this.schedulerActionCtor=we,this.now=ie}schedule(we,ie=0,Ce){return new this.schedulerActionCtor(this,we).schedule(Ce,ie)}}j.now=h.l.now;class L extends j{constructor(we,ie=j.now){super(we,ie),this.actions=[],this._active=!1}flush(we){const{actions:ie}=this;if(this._active)return void ie.push(we);let Ce;this._active=!0;do{if(Ce=we.execute(we.state,we.delay))break}while(we=ie.shift());if(this._active=!1,Ce){for(;we=ie.shift();)we.unsubscribe();throw Ce}}}},4986:(Mt,Pe,O)=>{O.d(Pe,{P:()=>ee,z:()=>L});var h=O(4408);const L=new(O(7565).v)(h.o),ee=L},6063:(Mt,Pe,O)=>{O.d(Pe,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Mt,Pe,O)=>{O.d(Pe,{z:()=>h});const h={setTimeout(j,L,...ee){const{delegate:we}=h;return we?.setTimeout?we.setTimeout(j,L,...ee):setTimeout(j,L,...ee)},clearTimeout(j){const{delegate:L}=h;return(L?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(Mt,Pe,O)=>{O.d(Pe,{h:()=>j});const j=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Mt,Pe,O)=>{O.d(Pe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Mt,Pe,O)=>{O.d(Pe,{_6:()=>ie,jO:()=>ee,yG:()=>we});var h=O(576),j=O(3532);function L(Ce){return Ce[Ce.length-1]}function ee(Ce){return(0,h.m)(L(Ce))?Ce.pop():void 0}function we(Ce){return(0,j.K)(L(Ce))?Ce.pop():void 0}function ie(Ce,_e){return"number"==typeof L(Ce)?Ce.pop():_e}},8737:(Mt,Pe,O)=>{function h(j,L){if(j){const ee=j.indexOf(L);0<=ee&&j.splice(ee,1)}}O.d(Pe,{P:()=>h})},3888:(Mt,Pe,O)=>{function h(j){const ee=j(we=>{Error.call(we),we.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}O.d(Pe,{d:()=>h})},2806:(Mt,Pe,O)=>{O.d(Pe,{O:()=>ee,x:()=>L});var h=O(2416);let j=null;function L(we){if(h.v.useDeprecatedSynchronousErrorHandling){const ie=!j;if(ie&&(j={errorThrown:!1,error:null}),we(),ie){const{errorThrown:Ce,error:_e}=j;if(j=null,Ce)throw _e}}else we()}function ee(we){h.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=we)}},9672:(Mt,Pe,O)=>{function h(j,L,ee,we=0,ie=!1){const Ce=L.schedule(function(){ee(),ie?j.add(this.schedule(null,we)):this.unsubscribe()},we);if(j.add(Ce),!ie)return Ce}O.d(Pe,{f:()=>h})},4671:(Mt,Pe,O)=>{function h(j){return j}O.d(Pe,{y:()=>h})},1144:(Mt,Pe,O)=>{O.d(Pe,{z:()=>h});const h=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(Mt,Pe,O)=>{O.d(Pe,{D:()=>j});var h=O(576);function j(L){return Symbol.asyncIterator&&(0,h.m)(L?.[Symbol.asyncIterator])}},576:(Mt,Pe,O)=>{function h(j){return"function"==typeof j}O.d(Pe,{m:()=>h})},3670:(Mt,Pe,O)=>{O.d(Pe,{c:()=>L});var h=O(8822),j=O(576);function L(ee){return(0,j.m)(ee[h.L])}},6495:(Mt,Pe,O)=>{O.d(Pe,{T:()=>L});var h=O(2202),j=O(576);function L(ee){return(0,j.m)(ee?.[h.h])}},8239:(Mt,Pe,O)=>{O.d(Pe,{t:()=>j});var h=O(576);function j(L){return(0,h.m)(L?.then)}},3260:(Mt,Pe,O)=>{O.d(Pe,{L:()=>ee,Q:()=>L});var h=O(655),j=O(576);function L(we){return(0,h.FC)(this,arguments,function*(){const Ce=we.getReader();try{for(;;){const{value:_e,done:Ee}=yield(0,h.qq)(Ce.read());if(Ee)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(_e)}}finally{Ce.releaseLock()}})}function ee(we){return(0,j.m)(we?.getReader)}},3532:(Mt,Pe,O)=>{O.d(Pe,{K:()=>j});var h=O(576);function j(L){return L&&(0,h.m)(L.schedule)}},4482:(Mt,Pe,O)=>{O.d(Pe,{A:()=>j,e:()=>L});var h=O(576);function j(ee){return(0,h.m)(ee?.lift)}function L(ee){return we=>{if(j(we))return we.lift(function(ie){try{return ee(ie,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Mt,Pe,O)=>{function h(){}O.d(Pe,{Z:()=>h})},9635:(Mt,Pe,O)=>{O.d(Pe,{U:()=>L,z:()=>j});var h=O(4671);function j(...ee){return L(ee)}function L(ee){return 0===ee.length?h.y:1===ee.length?ee[0]:function(ie){return ee.reduce((Ce,_e)=>_e(Ce),ie)}}},7849:(Mt,Pe,O)=>{O.d(Pe,{h:()=>L});var h=O(2416),j=O(3410);function L(ee){j.z.setTimeout(()=>{const{onUnhandledError:we}=h.v;if(!we)throw ee;we(ee)})}},4532:(Mt,Pe,O)=>{function h(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Pe,{z:()=>h})},655:(Mt,Pe,O)=>{function ee(me,ye){var Ae={};for(var Fe in me)Object.prototype.hasOwnProperty.call(me,Fe)&&ye.indexOf(Fe)<0&&(Ae[Fe]=me[Fe]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Fe=Object.getOwnPropertySymbols(me);Je<Fe.length;Je++)ye.indexOf(Fe[Je])<0&&Object.prototype.propertyIsEnumerable.call(me,Fe[Je])&&(Ae[Fe[Je]]=me[Fe[Je]])}return Ae}function Q(me,ye,Ae,Fe){return new(Ae||(Ae=Promise))(function(Ye,Et){function ze(Ut){try{St(Fe.next(Ut))}catch(wt){Et(wt)}}function zt(Ut){try{St(Fe.throw(Ut))}catch(wt){Et(wt)}}function St(Ut){Ut.done?Ye(Ut.value):function Je(Ye){return Ye instanceof Ae?Ye:new Ae(function(Et){Et(Ye)})}(Ut.value).then(ze,zt)}St((Fe=Fe.apply(me,ye||[])).next())})}function Se(me){return this instanceof Se?(this.v=me,this):new Se(me)}function De(me,ye,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Fe=Ae.apply(me,ye||[]),Ye=[];return Je={},Et("next"),Et("throw"),Et("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function Et(Kt){Fe[Kt]&&(Je[Kt]=function(Bn){return new Promise(function(Un,dr){Ye.push([Kt,Bn,Un,dr])>1||ze(Kt,Bn)})})}function ze(Kt,Bn){try{!function zt(Kt){Kt.value instanceof Se?Promise.resolve(Kt.value.v).then(St,Ut):wt(Ye[0][2],Kt)}(Fe[Kt](Bn))}catch(Un){wt(Ye[0][3],Un)}}function St(Kt){ze("next",Kt)}function Ut(Kt){ze("throw",Kt)}function wt(Kt,Bn){Kt(Bn),Ye.shift(),Ye.length&&ze(Ye[0][0],Ye[0][1])}}function Ze(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ye=me[Symbol.asyncIterator];return ye?ye.call(me):(me=function ft(me){var ye="function"==typeof Symbol&&Symbol.iterator,Ae=ye&&me[ye],Fe=0;if(Ae)return Ae.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Fe>=me.length&&(me=void 0),{value:me&&me[Fe++],done:!me}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),Ae={},Fe("next"),Fe("throw"),Fe("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Fe(Ye){Ae[Ye]=me[Ye]&&function(Et){return new Promise(function(ze,zt){!function Je(Ye,Et,ze,zt){Promise.resolve(zt).then(function(St){Ye({value:St,done:ze})},Et)}(ze,zt,(Et=me[Ye](Et)).done,Et.value)})}}}O.d(Pe,{FC:()=>De,KL:()=>Ze,_T:()=>ee,mG:()=>Q,qq:()=>Se})},4650:(Mt,Pe,O)=>{O.d(Pe,{$8M:()=>gc,$WT:()=>Rr,$Z:()=>fC,AFp:()=>mT,ALo:()=>Jb,AaK:()=>_e,BQk:()=>Yg,CHM:()=>kh,CRH:()=>r0,CZH:()=>Wd,CqO:()=>Ux,D6c:()=>CR,DdM:()=>Zb,EJc:()=>yT,EiD:()=>RA,EpF:()=>Bx,F$t:()=>_b,F4k:()=>NC,FYo:()=>kv,FiY:()=>Pa,Gf:()=>n0,GfV:()=>qw,Gpc:()=>W,Hsn:()=>yb,JOm:()=>qt,JVY:()=>Sw,JZr:()=>ft,KtG:()=>Oh,L6k:()=>Dw,LAX:()=>Yu,LFG:()=>Jt,Lbi:()=>_T,Lck:()=>Js,MAs:()=>RC,MMx:()=>Hc,NdJ:()=>FC,O4$:()=>qy,OlP:()=>jn,Oqu:()=>np,P3R:()=>Vw,PXZ:()=>U_,Q6J:()=>Kg,QGY:()=>OC,QbO:()=>Pp,Qsj:()=>$A,R0b:()=>Ms,RDi:()=>wA,Rgc:()=>Vd,SBq:()=>rd,Sil:()=>eo,Suo:()=>JI,TTD:()=>Gn,TgZ:()=>fb,Udp:()=>Nc,W1O:()=>nT,X6Q:()=>PT,XFs:()=>ce,Xpm:()=>rt,Xts:()=>Cv,Y36:()=>ld,YKP:()=>PI,YNc:()=>xC,Yjl:()=>yn,Yz7:()=>wt,Z0I:()=>dr,ZZ4:()=>D0,_Bn:()=>RI,_UZ:()=>PC,_Vd:()=>nd,_c5:()=>wR,_uU:()=>Ab,aQg:()=>A0,c2e:()=>ua,cJS:()=>Bn,cg1:()=>kb,dDg:()=>oR,dqk:()=>jt,eBb:()=>SA,eFA:()=>E0,eJc:()=>la,ekj:()=>Jf,eoX:()=>g0,f3M:()=>Hn,g9A:()=>Rp,h0i:()=>kd,hGG:()=>To,hij:()=>rp,iGM:()=>XI,ifc:()=>N,ip1:()=>Gd,jDz:()=>zc,kL8:()=>Ob,lG2:()=>Rt,lcZ:()=>WI,lqb:()=>Dc,lri:()=>IT,mCW:()=>Zu,n5z:()=>Kh,n_E:()=>Ld,oAB:()=>ne,oxw:()=>gb,pB0:()=>Aw,q3G:()=>zr,q4F:()=>Kw,qLn:()=>xf,qOj:()=>qf,qZA:()=>md,qzn:()=>ms,rWj:()=>TT,sBO:()=>to,s_b:()=>Bd,soG:()=>N_,tBr:()=>yc,tb:()=>Kc,tp0:()=>It,uIk:()=>lb,vHH:()=>ve,vpe:()=>xs,wAp:()=>Xt,xp6:()=>sC,ynx:()=>pb,z2F:()=>H_,z3N:()=>po,zSh:()=>xl,zs3:()=>sd});var h=O(7579),j=O(727),L=O(9751),ee=O(6451),we=O(3099);function ie(o){for(let a in o)if(o[a]===ie)return a;throw Error("Could not find renamed property on target object.")}function Ce(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function _e(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(_e).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Ee(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const K=ie({__forward_ref__:ie});function W(o){return o.__forward_ref__=W,o.toString=function(){return _e(this())},o}function Q(o){return Oe(o)?o():o}function Oe(o){return"function"==typeof o&&o.hasOwnProperty(K)&&o.__forward_ref__===W}function ke(o){return o&&!!o.\u0275providers}const ft="https://g.co/ng/security#xss";class ve extends Error{constructor(a,c){super(Ne(a,c)),this.code=a}}function Ne(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}function Be(o){return"string"==typeof o?o:null==o?"":String(o)}function Ze(o,a){throw new ve(-201,!1)}function Et(o,a){null==o&&function ze(o,a,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function wt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Bn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Un(o){return zn(o,Kr)||zn(o,ot)}function dr(o){return null!==Un(o)}function zn(o,a){return o.hasOwnProperty(a)?o[a]:null}function hr(o){return o&&(o.hasOwnProperty(ar)||o.hasOwnProperty(oe))?o[ar]:null}const Kr=ie({\u0275prov:ie}),ar=ie({\u0275inj:ie}),ot=ie({ngInjectableDef:ie}),oe=ie({ngInjectorDef:ie});var ce=(()=>((ce=ce||{})[ce.Default=0]="Default",ce[ce.Host=1]="Host",ce[ce.Self=2]="Self",ce[ce.SkipSelf=4]="SkipSelf",ce[ce.Optional=8]="Optional",ce))();let st;function Vt(o){const a=st;return st=o,a}function Zt(o,a,c){const u=Un(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&ce.Optional?null:void 0!==a?a:void Ze(_e(o))}const jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),kn={},_n="__NG_DI_FLAG__",Fn="ngTempTokenPath",Qn="ngTokenPath",An=/\n/gm,Sn="\u0275",Nt="__source";let lr;function Qt(o){const a=lr;return lr=o,a}function ci(o,a=ce.Default){if(void 0===lr)throw new ve(-203,!1);return null===lr?Zt(o,void 0,a):lr.get(o,a&ce.Optional?null:void 0,a)}function Jt(o,a=ce.Default){return(function Lt(){return st}()||ci)(Q(o),a)}function Hn(o,a=ce.Default){return Jt(o,fr(a))}function fr(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function nr(o){const a=[];for(let c=0;c<o.length;c++){const u=Q(o[c]);if(Array.isArray(u)){if(0===u.length)throw new ve(900,!1);let f,g=ce.Default;for(let v=0;v<u.length;v++){const C=u[v],I=Mr(C);"number"==typeof I?-1===I?f=C.token:g|=I:f=C}a.push(Jt(f,g))}else a.push(Jt(u))}return a}function Sr(o,a){return o[_n]=a,o.prototype[_n]=a,o}function Mr(o){return o[_n]}function $(o){return{toString:o}.toString()}var R=(()=>((R=R||{})[R.OnPush=0]="OnPush",R[R.Default=1]="Default",R))(),N=(()=>{return(o=N||(N={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",N;var o})();const x={},Z=[],Ie=ie({\u0275cmp:ie}),Y=ie({\u0275dir:ie}),ue=ie({\u0275pipe:ie}),he=ie({\u0275mod:ie}),Le=ie({\u0275fac:ie}),xe=ie({__NG_ELEMENT_ID__:ie});let ht=0;function rt(o){return $(()=>{const a=_a(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||N.Emulated,id:"c"+ht++,styles:o.styles||Z,_:null,schemas:o.schemas||null,tView:null};ya(c);const u=o.dependencies;return c.directiveDefs=oo(u,!1),c.pipeDefs=oo(u,!0),c})}function on(o){return xt(o)||Ln(o)}function le(o){return null!==o}function ne(o){return $(()=>({type:o.type,bootstrap:o.bootstrap||Z,declarations:o.declarations||Z,imports:o.imports||Z,exports:o.exports||Z,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Ct(o,a){if(null==o)return x;const c={};for(const u in o)if(o.hasOwnProperty(u)){let f=o[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=u,a&&(a[f]=g)}return c}function Rt(o){return $(()=>{const a=_a(o);return ya(a),a})}function yn(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function xt(o){return o[Ie]||null}function Ln(o){return o[Y]||null}function bn(o){return o[ue]||null}function Rr(o){const a=xt(o)||Ln(o)||bn(o);return null!==a&&a.standalone}function pr(o,a){const c=o[he]||null;if(!c&&!0===a)throw new Error(`Type ${_e(o)} does not have '\u0275mod' property.`);return c}function _a(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Z,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ct(o.inputs,a),outputs:Ct(o.outputs)}}function ya(o){o.features?.forEach(a=>a(o))}function oo(o,a){if(!o)return null;const c=a?bn:on;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(le)}const vr=0,pt=1,an=2,rr=3,On=4,ls=5,ni=6,cs=7,Kn=8,No=9,Ls=10,dn=11,Fo=12,H=13,te=14,be=15,it=16,En=17,cn=18,mn=19,ir=20,br=21,hn=22,va=1,Lo=2,Vs=7,Bs=8,Vi=9,Ur=10;function wi(o){return Array.isArray(o)&&"object"==typeof o[va]}function Ki(o){return Array.isArray(o)&&!0===o[va]}function ba(o){return 0!=(4&o.flags)}function Ea(o){return o.componentOffset>-1}function Vo(o){return 1==(1&o.flags)}function Pr(o){return!!o.template}function us(o){return 0!=(256&o[an])}function Ci(o,a){return o.hasOwnProperty(Le)?o[Le]:null}class ao{constructor(a,c,u){this.previousValue=a,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function Gn(){return Am}function Am(o){return o.type.prototype.ngOnChanges&&(o.setInput=wa),By}function By(){const o=_u(this),a=o?.current;if(a){const c=o.previous;if(c===x)o.previous=a;else for(let u in a)c[u]=a[u];o.current=null,this.ngOnChanges(a)}}function wa(o,a,c,u){const f=this.declaredInputs[c],g=_u(o)||function Uy(o,a){return o[xm]=a}(o,{previous:x,current:null}),v=g.current||(g.current={}),C=g.previous,I=C[f];v[f]=new ao(I&&I.currentValue,a,C===x),o[u]=a}Gn.ngInherit=!0;const xm="__ngSimpleChanges__";function _u(o){return o[xm]||null}const kr=function(o,a,c){},xh="svg";function ri(o){for(;Array.isArray(o);)o=o[vr];return o}function rc(o,a){return ri(a[o])}function mi(o,a){return ri(a[o.index])}function yu(o,a){return o.data[a]}function Ia(o,a){return o[a]}function Ii(o,a){const c=a[o];return wi(c)?c:c[vr]}function tl(o){return 64==(64&o[an])}function lo(o,a){return null==a?null:o[a]}function Mh(o){o[cn]=0}function ic(o,a){o[ls]+=a;let c=o,u=o[rr];for(;null!==u&&(1===a&&1===c[ls]||-1===a&&0===c[ls]);)u[ls]+=a,c=u,u=u[rr]}const ln={lFrame:Fh(null),bindingsEnabled:!0};function km(){return ln.bindingsEnabled}function Te(){return ln.lFrame.lView}function Mn(){return ln.lFrame.tView}function kh(o){return ln.lFrame.contextLView=o,o[Kn]}function Oh(o){return ln.lFrame.contextLView=null,o}function jr(){let o=$y();for(;null!==o&&64===o.type;)o=o.parent;return o}function $y(){return ln.lFrame.currentTNode}function js(o,a){const c=ln.lFrame;c.currentTNode=o,c.isParent=a}function Eu(){return ln.lFrame.isParent}function Nm(){ln.lFrame.isParent=!1}function Ri(){const o=ln.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Ta(){return ln.lFrame.bindingIndex++}function uw(o,a){const c=ln.lFrame;c.bindingIndex=c.bindingRootIndex=o,oc(a)}function oc(o){ln.lFrame.currentDirectiveIndex=o}function Nh(){return ln.lFrame.currentQueryIndex}function Bm(o){ln.lFrame.currentQueryIndex=o}function Um(o){const a=o[pt];return 2===a.type?a.declTNode:1===a.type?o[ni]:null}function zy(o,a,c){if(c&ce.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||c&ce.Host||(f=Um(g),null===f||(g=g[be],10&f.type))););if(null===f)return!1;a=f,o=g}const u=ln.lFrame=Gy();return u.currentTNode=a,u.lView=o,!0}function Iu(o){const a=Gy(),c=o[pt];ln.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Gy(){const o=ln.lFrame,a=null===o?null:o.child;return null===a?Fh(o):a}function Fh(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Wy(){const o=ln.lFrame;return ln.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Lh=Wy;function jm(){const o=Wy();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Pi(){return ln.lFrame.selectedIndex}function Uo(o){ln.lFrame.selectedIndex=o}function Er(){const o=ln.lFrame;return yu(o.tView,o.selectedIndex)}function qy(){ln.lFrame.currentNamespace=xh}function Bh(o,a){for(let c=a.directiveStart,u=a.directiveEnd;c<u;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:M}=g;v&&(o.contentHooks??(o.contentHooks=[])).push(-c,v),C&&((o.contentHooks??(o.contentHooks=[])).push(c,C),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,C)),I&&(o.viewHooks??(o.viewHooks=[])).push(-c,I),S&&((o.viewHooks??(o.viewHooks=[])).push(c,S),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,S)),null!=M&&(o.destroyHooks??(o.destroyHooks=[])).push(c,M)}}function Uh(o,a,c){Tu(o,a,3,c)}function Hm(o,a,c,u){(3&o[an])===c&&Tu(o,a,c,u)}function $m(o,a){let c=o[an];(3&c)===a&&(c&=2047,c+=1,o[an]=c)}function Tu(o,a,c,u){const g=u??-1,v=a.length-1;let C=0;for(let I=void 0!==u?65535&o[cn]:0;I<v;I++)if("number"==typeof a[I+1]){if(C=a[I],null!=u&&C>=u)break}else a[I]<0&&(o[cn]+=65536),(C<g||-1==g)&&(lc(o,c,a,I),o[cn]=(4294901760&o[cn])+I+2),I++}function lc(o,a,c,u){const f=c[u]<0,g=c[u+1],C=o[f?-c[u]:c[u]];if(f){if(o[an]>>11<o[cn]>>16&&(3&o[an])===a){o[an]+=2048,kr(4,C,g);try{g.call(C)}finally{kr(5,C,g)}}}else{kr(4,C,g);try{g.call(C)}finally{kr(5,C,g)}}}const il=-1;class Sa{constructor(a,c,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function Su(o,a,c){let u=0;for(;u<c.length;){const f=c[u];if("number"==typeof f){if(0!==f)break;u++;const g=c[u++],v=c[u++],C=c[u++];o.setAttribute(a,v,C,g)}else{const g=f,v=c[++u];sl(g)?o.setProperty(a,g,v):o.setAttribute(a,g,v),u++}}return u}function Wm(o){return 3===o||4===o||6===o}function sl(o){return 64===o.charCodeAt(0)}function Aa(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?c=f:0===c||ol(o,c,f,null,-1===c||2===c?a[++u]:null)}}return o}function ol(o,a,c,u,f){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===c){if(null===u)return void(null!==f&&(o[g+1]=f));if(u===o[g+1])return void(o[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,c),null!==u&&o.splice(g++,0,u),null!==f&&o.splice(g++,0,f)}function cc(o){return o!==il}function uc(o){return 32767&o}function dc(o,a){let c=function Du(o){return o>>16}(o),u=a;for(;c>0;)u=u[be],c--;return u}let zh=!0;function hc(o){const a=zh;return zh=o,a}const Yy=255,Au=5;let Zy=0;const ki={};function xu(o,a){const c=Wh(o,a);if(-1!==c)return c;const u=a[pt];u.firstCreatePass&&(o.injectorIndex=a.length,jo(u.data,o),jo(a,null),jo(u.blueprint,null));const f=Or(o,a),g=o.injectorIndex;if(cc(f)){const v=uc(f),C=dc(f,a),I=C[pt].data;for(let S=0;S<8;S++)a[g+S]=C[v+S]|I[v+S]}return a[g+8]=f,g}function jo(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Wh(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Or(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,f=a;for(;null!==f;){if(u=mc(f),null===u)return il;if(c++,f=f[be],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return il}function fc(o,a,c){!function Gh(o,a,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(xe)&&(u=c[xe]),null==u&&(u=c[xe]=Zy++);const f=u&Yy;a.data[o+(f>>Au)]|=1<<f}(o,a,c)}function qm(o,a,c){if(c&ce.Optional||void 0!==o)return o;Ze()}function pc(o,a,c,u){if(c&ce.Optional&&void 0===u&&(u=null),!(c&(ce.Self|ce.Host))){const f=o[No],g=Vt(void 0);try{return f?f.get(a,u,c&ce.Optional):Zt(a,u,c&ce.Optional)}finally{Vt(g)}}return qm(u,0,c)}function Km(o,a,c,u=ce.Default,f){if(null!==o){if(1024&a[an]){const v=function Xy(o,a,c,u,f){let g=o,v=a;for(;null!==g&&null!==v&&1024&v[an]&&!(256&v[an]);){const C=Ym(g,v,c,u|ce.Self,ki);if(C!==ki)return C;let I=g.parent;if(!I){const S=v[br];if(S){const M=S.get(c,ki,u);if(M!==ki)return M}I=mc(v),v=v[be]}g=I}return f}(o,a,c,u,ki);if(v!==ki)return v}const g=Ym(o,a,c,u,ki);if(g!==ki)return g}return pc(a,c,u,f)}function Ym(o,a,c,u,f){const g=function Qy(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(xe)?o[xe]:void 0;return"number"==typeof a?a>=0?a&Yy:qh:a}(c);if("function"==typeof g){if(!zy(a,o,u))return u&ce.Host?qm(f,0,u):pc(a,c,u,f);try{const v=g(u);if(null!=v||u&ce.Optional)return v;Ze()}finally{Lh()}}else if("number"==typeof g){let v=null,C=Wh(o,a),I=il,S=u&ce.Host?a[it][ni]:null;for((-1===C||u&ce.SkipSelf)&&(I=-1===C?Or(o,a):a[C+8],I!==il&&Ru(u,!1)?(v=a[pt],C=uc(I),a=dc(I,a)):C=-1);-1!==C;){const M=a[pt];if(xa(g,C,M.data)){const U=Zm(C,a,c,v,u,S);if(U!==ki)return U}I=a[C+8],I!==il&&Ru(u,a[pt].data[C+8]===S)&&xa(g,C,a)?(v=M,C=uc(I),a=dc(I,a)):C=-1}}return f}function Zm(o,a,c,u,f,g){const v=a[pt],C=v.data[o+8],M=al(C,v,c,null==u?Ea(C)&&zh:u!=v&&0!=(3&C.type),f&ce.Host&&g===C);return null!==M?co(a,v,M,C):ki}function al(o,a,c,u,f){const g=o.providerIndexes,v=a.data,C=1048575&g,I=o.directiveStart,M=g>>20,X=f?C+M:o.directiveEnd;for(let se=u?C:C+M;se<X;se++){const Me=v[se];if(se<I&&c===Me||se>=I&&Me.type===c)return se}if(f){const se=v[I];if(se&&Pr(se)&&se.type===c)return I}return null}function co(o,a,c,u){let f=o[c];const g=a.data;if(function gw(o){return o instanceof Sa}(f)){const v=f;v.resolving&&function Se(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new ve(-200,`Circular dependency in DI detected for ${o}${c}`)}(function qe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Be(o)}(g[c]));const C=hc(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Vt(v.injectImpl):null;zy(o,u,ce.Default);try{f=o[c]=v.factory(void 0,g,o,u),a.firstCreatePass&&c>=u.directiveStart&&function mw(o,a,c){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(u){const v=Am(a);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,v)}f&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,f),g&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==I&&Vt(I),hc(C),v.resolving=!1,Lh()}}return f}function xa(o,a,c){return!!(c[a+(o>>Au)]&1<<o)}function Ru(o,a){return!(o&ce.Self||o&ce.Host&&a)}class ll{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,u){return Km(this._tNode,this._lView,a,fr(u),c)}}function qh(){return new ll(jr(),Te())}function Kh(o){return $(()=>{const a=o.prototype.constructor,c=a[Le]||cl(a),u=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==u;){const g=f[Le]||cl(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function cl(o){return Oe(o)?()=>{const a=cl(Q(o));return a&&a()}:Ci(o)}function mc(o){const a=o[pt],c=a.type;return 2===c?a.declTNode:1===c?o[ni]:null}function gc(o){return function Mu(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const u=c.length;let f=0;for(;f<u;){const g=c[f];if(Wm(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof c[f];)f++;else{if(g===a)return c[f+1];f+=2}}}return null}(jr(),o)}const Ra="__parameters__";function ul(o,a,c){return $(()=>{const u=function Qm(o){return function(...c){if(o){const u=o(...c);for(const f in u)this[f]=u[f]}}}(a);function f(...g){if(this instanceof f)return u.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(I,S,M){const U=I.hasOwnProperty(Ra)?I[Ra]:Object.defineProperty(I,Ra,{value:[]})[Ra];for(;U.length<=M;)U.push(null);return(U[M]=U[M]||[]).push(v),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class jn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function dl(o,a){o.forEach(c=>Array.isArray(c)?dl(c,a):a(c))}function Qh(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Xh(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function hl(o,a){const c=[];for(let u=0;u<o;u++)c.push(a);return c}function ds(o,a,c){let u=hs(o,a);return u>=0?o[1|u]=c:(u=~u,function Nu(o,a,c,u){let f=o.length;if(f==a)o.push(c,u);else if(1===f)o.push(u,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=u}}(o,u,a,c)),u}function mr(o,a){const c=hs(o,a);if(c>=0)return o[1|c]}function hs(o,a){return function $n(o,a,c){let u=0,f=o.length>>c;for(;f!==u;){const g=u+(f-u>>1),v=o[g<<c];if(a===v)return g<<c;v>a?f=g:u=g+1}return~(f<<c)}(o,a,1)}const yc=Sr(ul("Inject",o=>({token:o})),-1),Pa=Sr(ul("Optional"),8),It=Sr(ul("SkipSelf"),4);var qt=(()=>((qt=qt||{})[qt.Important=1]="Important",qt[qt.DashCase=2]="DashCase",qt))();const lf=new Map;let Ws=0;const Uu="__ngContext__";function di(o,a){wi(a)?(o[Uu]=a[ir],function lg(o){lf.set(o[ir],o)}(a)):o[Uu]=a}let hf;function ho(o,a){return hf(o,a)}function ju(o){const a=o[rr];return Ki(a)?a[rr]:a}function Fa(o){return pf(o[H])}function La(o){return pf(o[On])}function pf(o){for(;null!==o&&!Ki(o);)o=o[On];return o}function Wo(o,a,c,u,f){if(null!=u){let g,v=!1;Ki(u)?g=u:wi(u)&&(v=!0,u=u[vr]);const C=ri(u);0===o&&null!==c?null==f?Ti(a,c,C):gn(a,c,C,f||null,!0):1===o&&null!==c?gn(a,c,C,f||null,!0):2===o?function uv(o,a,c){const u=Ds(o,a);u&&function qo(o,a,c,u){o.removeChild(a,c,u)}(o,u,a,c)}(a,C,v):3===o&&a.destroyNode(C),null!=g&&function bf(o,a,c,u,f){const g=c[Vs];g!==ri(c)&&Wo(a,o,u,g,f);for(let C=Ur;C<c.length;C++){const I=c[C];vf(I[pt],I,o,a,u,g)}}(a,o,g,c,f)}}function gf(o,a,c){return o.createElement(a,c)}function w(o,a){const c=o[Vi],u=c.indexOf(a),f=a[rr];512&a[an]&&(a[an]&=-513,ic(f,-1)),c.splice(u,1)}function D(o,a){if(o.length<=Ur)return;const c=Ur+a,u=o[c];if(u){const f=u[En];null!==f&&f!==o&&w(f,u),a>0&&(o[c-1][On]=u[On]);const g=Xh(o,Ur+a);!function pg(o,a){vf(o,a,a[dn],2,null,null),a[vr]=null,a[ni]=null}(u[pt],u);const v=g[mn];null!==v&&v.detachView(g[pt]),u[rr]=null,u[On]=null,u[an]&=-65}return u}function P(o,a){if(!(128&a[an])){const c=a[dn];c.destroyNode&&vf(o,a,c,3,null,null),function b(o){let a=o[H];if(!a)return J(o[pt],o);for(;a;){let c=null;if(wi(a))c=a[H];else{const u=a[Ur];u&&(c=u)}if(!c){for(;a&&!a[On]&&a!==o;)wi(a)&&J(a[pt],a),a=a[rr];null===a&&(a=o),wi(a)&&J(a[pt],a),c=a&&a[On]}a=c}}(a)}}function J(o,a){if(!(128&a[an])){a[an]&=-65,a[an]|=128,function Qe(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const f=a[c[u]];if(!(f instanceof Sa)){const g=c[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],I=g[v+1];kr(4,C,I);try{I.call(C)}finally{kr(5,C,I)}}else{kr(4,f,g);try{g.call(f)}finally{kr(5,f,g)}}}}}(o,a),function pe(o,a){const c=o.cleanup,u=a[cs];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+3];v>=0?u[f=v]():u[f=-v].unsubscribe(),g+=2}else{const v=u[f=c[g+1]];c[g].call(v)}if(null!==u){for(let g=f+1;g<u.length;g++)(0,u[g])();a[cs]=null}}(o,a),1===a[pt].type&&a[dn].destroy();const c=a[En];if(null!==c&&Ki(a[rr])){c!==a[rr]&&w(c,a);const u=a[mn];null!==u&&u.detachView(o)}!function cg(o){lf.delete(o[ir])}(a)}}function dt(o,a,c){return function Bt(o,a,c){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return c[vr];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=o.data[u.directiveStart+f];if(g===N.None||g===N.Emulated)return null}return mi(u,c)}}(o,a.parent,c)}function gn(o,a,c,u,f){o.insertBefore(a,c,u,f)}function Ti(o,a,c){o.appendChild(a,c)}function fo(o,a,c,u,f){null!==u?gn(o,a,c,u,f):Ti(o,a,c)}function Ds(o,a){return o.parentNode(a)}function $u(o,a,c){return Ko(o,a,c)}let zu,Ic,fv,mg,Ko=function Cc(o,a,c){return 40&o.type?mi(o,c):null};function Sl(o,a,c,u){const f=dt(o,u,a),g=a[dn],C=$u(u.parent||a[ni],u,a);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)fo(g,f,c[I],C,!1);else fo(g,f,c,C,!1);void 0!==zu&&zu(g,u,a,c,f)}function Wu(o,a){if(null!==a){const c=a.type;if(3&c)return mi(a,o);if(4&c)return Yo(-1,o[a.index]);if(8&c){const u=a.child;if(null!==u)return Wu(o,u);{const f=o[a.index];return Ki(f)?Yo(-1,f):ri(f)}}if(32&c)return ho(a,o)()||ri(o[a.index]);{const u=Dl(o,a);return null!==u?Array.isArray(u)?u[0]:Wu(ju(o[it]),u):Wu(o,a.next)}}return null}function Dl(o,a){return null!==a?o[it][ni].projection[a.projection]:null}function Yo(o,a){const c=Ur+o+1;if(c<a.length){const u=a[c],f=u[pt].firstChild;if(null!==f)return Wu(u,f)}return a[Vs]}function yf(o,a,c,u,f,g,v){for(;null!=c;){const C=u[c.index],I=c.type;if(v&&0===a&&(C&&di(ri(C),u),c.flags|=2),32!=(32&c.flags))if(8&I)yf(o,a,c.child,u,f,g,!1),Wo(a,o,f,C,g);else if(32&I){const S=ho(c,u);let M;for(;M=S();)Wo(a,o,f,M,g);Wo(a,o,f,C,g)}else 16&I?dv(o,a,u,c,f,g):Wo(a,o,f,C,g);c=v?c.projectionNext:c.next}}function vf(o,a,c,u,f,g){yf(c,u,o.firstChild,a,f,g,!1)}function dv(o,a,c,u,f,g){const v=c[it],I=v[ni].projection[u.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)Wo(a,o,f,I[S],g);else yf(o,a,I,v[rr],f,g,!0)}function Al(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function Ef(o,a,c){const{mergedAttrs:u,classes:f,styles:g}=c;null!==u&&Su(o,a,u),null!==f&&Al(o,a,f),null!==g&&function hv(o,a,c){o.setAttribute(a,"style",c)}(o,a,g)}function qu(o){return function wf(){if(void 0===Ic&&(Ic=null,jt.trustedTypes))try{Ic=jt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ic}()?.createHTML(o)||o}function wA(o){fv=o}function Iw(o){return function pv(){if(void 0===mg&&(mg=null,jt.trustedTypes))try{mg=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return mg}()?.createScriptURL(o)||o}class Tc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}class CA extends Tc{getTypeName(){return"HTML"}}class IA extends Tc{getTypeName(){return"Style"}}class TA extends Tc{getTypeName(){return"Script"}}class Tw extends Tc{getTypeName(){return"URL"}}class _v extends Tc{getTypeName(){return"ResourceURL"}}function po(o){return o instanceof Tc?o.changingThisBreaksApplicationSecurity:o}function ms(o,a){const c=function Ku(o){return o instanceof Tc&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${ft})`)}return c===a}function Sw(o){return new CA(o)}function Dw(o){return new IA(o)}function SA(o){return new TA(o)}function Yu(o){return new Tw(o)}function Aw(o){return new _v(o)}class gg{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(qu(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Mw{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=qu(a),c}}const Rw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zu(o){return(o=String(o)).match(Rw)?o:"unsafe:"+o}function mo(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Cf(...o){const a={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(a[u]=!0);return a}const Qu=mo("area,br,col,hr,img,wbr"),Pw=mo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kw=mo("rp,rt"),_g=Cf(Qu,Cf(Pw,mo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cf(kw,mo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cf(kw,Pw)),yg=mo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),If=Cf(yg,mo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vv=mo("script,style,template");class xA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!_g.hasOwnProperty(c))return this.sanitizedSomething=!0,!vv.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=a.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),v=g.name,C=v.toLowerCase();if(!If.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=g.value;yg[C]&&(I=Zu(I)),this.buf.push(" ",v,'="',bv(I),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();_g.hasOwnProperty(c)&&!Qu.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(bv(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const MA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bg=/([^\#-~ |!])/g;function bv(o){return o.replace(/&/g,"&amp;").replace(MA,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(bg,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ev;function RA(o,a){let c=null;try{Ev=Ev||function xw(o){const a=new Mw(o);return function yv(){try{return!!(new window.DOMParser).parseFromString(qu(""),"text/html")}catch{return!1}}()?new gg(a):a}(o);let u=a?String(a):"";c=Ev.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=c.innerHTML,c=Ev.getInertBodyElement(u)}while(u!==g);return qu((new xA).sanitizeChildren(Nw(c)||c))}finally{if(c){const u=Nw(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Nw(o){return"content"in o&&function F1(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var zr=(()=>((zr=zr||{})[zr.NONE=0]="NONE",zr[zr.HTML=1]="HTML",zr[zr.STYLE=2]="STYLE",zr[zr.SCRIPT=3]="SCRIPT",zr[zr.URL=4]="URL",zr[zr.RESOURCE_URL=5]="RESOURCE_URL",zr))();function Fw(o){const a=Sf();return a?a.sanitize(zr.URL,o)||"":ms(o,"URL")?po(o):Zu(Be(o))}function Eg(o){const a=Sf();if(a)return Iw(a.sanitize(zr.RESOURCE_URL,o)||"");if(ms(o,"ResourceURL"))return Iw(po(o));throw new ve(904,!1)}function Vw(o,a,c){return function OA(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Eg:Fw}(a,c)(o)}function Sf(){const o=Te();return o&&o[Fo]}const Cv=new jn("ENVIRONMENT_INITIALIZER"),Sc=new jn("INJECTOR",-1),Xu=new jn("INJECTOR_DEF_TYPES");class Bw{get(a,c=kn){if(c===kn){const u=new Error(`NullInjectorError: No provider for ${_e(a)}!`);throw u.name="NullInjectorError",u}return c}}function Df(...o){return{\u0275providers:Ju(0,o),\u0275fromNgModule:!0}}function Ju(o,...a){const c=[],u=new Set;let f;return dl(a,g=>{const v=g;Iv(v,c,[],u)&&(f||(f=[]),f.push(v))}),void 0!==f&&Uw(f,c),c}function Uw(o,a){for(let c=0;c<o.length;c++){const{providers:f}=o[c];Tv(f,g=>{a.push(g)})}}function Iv(o,a,c,u){if(!(o=Q(o)))return!1;let f=null,g=hr(o);const v=!g&&xt(o);if(g||v){if(v&&!v.standalone)return!1;f=o}else{const I=o.ngModule;if(g=hr(I),!g)return!1;f=I}const C=u.has(f);if(v){if(C)return!1;if(u.add(f),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)Iv(S,a,c,u)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let S;u.add(f);try{dl(g.imports,M=>{Iv(M,a,c,u)&&(S||(S=[]),S.push(M))})}finally{}void 0!==S&&Uw(S,a)}if(!C){const S=Ci(f)||(()=>new f);a.push({provide:f,useFactory:S,deps:Z},{provide:Xu,useValue:f,multi:!0},{provide:Cv,useValue:()=>Jt(f),multi:!0})}const I=g.providers;null==I||C||Tv(I,M=>{a.push(M)})}}return f!==o&&void 0!==o.providers}function Tv(o,a){for(let c of o)ke(c)&&(c=c.\u0275providers),Array.isArray(c)?Tv(c,a):a(c)}const FA=ie({provide:String,useValue:ie});function Sv(o){return null!==o&&"object"==typeof o&&FA in o}function Va(o){return"function"==typeof o}const xl=new jn("Set Injector scope."),Cg={},VA={};let Dv;function Ig(){return void 0===Dv&&(Dv=new Bw),Dv}class Dc{}class Hw extends Dc{get destroyed(){return this._destroyed}constructor(a,c,u,f){super(),this.parent=c,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,td(a,v=>this.processProvider(v)),this.records.set(Sc,ed(void 0,this)),f.has("environment")&&this.records.set(Dc,ed(void 0,this));const g=this.records.get(xl);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Xu.multi,Z,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=Qt(this),u=Vt(void 0);try{return a()}finally{Qt(c),Vt(u)}}get(a,c=kn,u=ce.Default){this.assertNotDestroyed(),u=fr(u);const f=Qt(this),g=Vt(void 0);try{if(!(u&ce.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function Rv(o){return"function"==typeof o||"object"==typeof o&&o instanceof jn}(a)&&Un(a);C=I&&this.injectableDefInScope(I)?ed(Av(a),Cg):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(u&ce.Self?Ig():this.parent).get(a,c=u&ce.Optional&&c===kn?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Fn]=v[Fn]||[]).unshift(_e(a)),f)throw v;return function ti(o,a,c,u){const f=o[Fn];throw a[Nt]&&f.unshift(a[Nt]),o.message=function G(o,a,c,u=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==Sn?o.slice(2):o;let f=_e(a);if(Array.isArray(a))f=a.map(_e).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):_e(C)))}f=`{${g.join(", ")}}`}return`${c}${u?"("+u+")":""}[${f}]: ${o.replace(An,"\n  ")}`}("\n"+o.message,f,c,u),o[Qn]=f,o[Fn]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{Vt(g),Qt(f)}}resolveInjectorInitializers(){const a=Qt(this),c=Vt(void 0);try{const u=this.get(Cv.multi,Z,ce.Self);for(const f of u)f()}finally{Qt(a),Vt(c)}}toString(){const a=[],c=this.records;for(const u of c.keys())a.push(_e(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(a){let c=Va(a=Q(a))?a:Q(a&&a.provide);const u=function UA(o){return Sv(o)?ed(void 0,o.useValue):ed(xv(o),Cg)}(a);if(Va(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=ed(void 0,Cg,!0),f.factory=()=>nr(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,u)}hydrate(a,c){return c.value===Cg&&(c.value=VA,c.value=c.factory()),"object"==typeof c.value&&c.value&&function $w(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Av(o){const a=Un(o),c=null!==a?a.factory:Ci(o);if(null!==c)return c;if(o instanceof jn)throw new ve(204,!1);if(o instanceof Function)return function BA(o){const a=o.length;if(a>0)throw hl(a,"?"),new ve(204,!1);const c=function Tr(o){return o&&(o[Kr]||o[ot])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new ve(204,!1)}function xv(o,a,c){let u;if(Va(o)){const f=Q(o);return Ci(f)||Av(f)}if(Sv(o))u=()=>Q(o.useValue);else if(function jw(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...nr(o.deps||[]));else if(function LA(o){return!(!o||!o.useExisting)}(o))u=()=>Jt(Q(o.useExisting));else{const f=Q(o&&(o.useClass||o.provide));if(!function Mv(o){return!!o.deps}(o))return Ci(f)||Av(f);u=()=>new f(...nr(o.deps))}return u}function ed(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function td(o,a){for(const c of o)Array.isArray(c)?td(c,a):c&&ke(c)?td(c.\u0275providers,a):a(c)}class jA{}class zw{}class Ww{resolveComponentFactory(a){throw function HA(o){const a=Error(`No component factory found for ${_e(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let nd=(()=>{class o{}return o.NULL=new Ww,o})();function Tg(){return Ba(jr(),Te())}function Ba(o,a){return new rd(mi(o,a))}let rd=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=Tg,o})();function Af(o){return o instanceof rd?o.nativeElement:o}class kv{}let $A=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function zA(){const o=Te(),c=Ii(jr().index,o);return(wi(c)?c:o)[dn]}(),o})(),GA=(()=>{class o{}return o.\u0275prov=wt({token:o,providedIn:"root",factory:()=>null}),o})();class qw{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Kw=new qw("15.2.9"),Sg={},Ov="ngOriginalError";function Nv(o){return o[Ov]}class xf{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Nv(a);for(;c&&Nv(c);)c=Nv(c);return c||null}}function Qo(o){return o instanceof Function?o():o}function eC(o,a,c){let u=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===u||o.charCodeAt(f+g)<=32)return f}c=f+1}}const Fv="ng-template";function Lv(o,a,c){let u=0,f=!0;for(;u<o.length;){let g=o[u++];if("string"==typeof g&&f){const v=o[u++];if(c&&"class"===g&&-1!==eC(v.toLowerCase(),a,0))return!0}else{if(1===g){for(;u<o.length&&"string"==typeof(g=o[u++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Vv(o){return 4===o.type&&o.value!==Fv}function id(o,a,c){return a===(4!==o.type||c?o.value:Fv)}function Bv(o,a,c){let u=4;const f=o.attrs||[],g=function nC(o){for(let a=0;a<o.length;a++)if(Wm(o[a]))return a;return o.length}(f);let v=!1;for(let C=0;C<a.length;C++){const I=a[C];if("number"!=typeof I){if(!v)if(4&u){if(u=2|1&u,""!==I&&!id(o,I,c)||""===I&&1===a.length){if(go(u))return!1;v=!0}}else{const S=8&u?I:a[++C];if(8&u&&null!==o.attrs){if(!Lv(o.attrs,S,c)){if(go(u))return!1;v=!0}continue}const U=tC(8&u?"class":I,f,Vv(o),c);if(-1===U){if(go(u))return!1;v=!0;continue}if(""!==S){let X;X=U>g?"":f[U+1].toLowerCase();const se=8&u?X:null;if(se&&-1!==eC(se,S,0)||2&u&&S!==X){if(go(u))return!1;v=!0}}}}else{if(!v&&!go(u)&&!go(I))return!1;if(v&&go(I))continue;v=!1,u=I|1&u}}return go(u)||v}function go(o){return 0==(1&o)}function tC(o,a,c,u){if(null===a)return-1;let f=0;if(u||!c){let g=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function rC(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===a)return c;c++}return-1}(a,o)}function Rf(o,a,c=!1){for(let u=0;u<a.length;u++)if(Bv(o,a[u],c))return!0;return!1}function XA(o,a){e:for(let c=0;c<a.length;c++){const u=a[c];if(o.length===u.length){for(let f=0;f<o.length;f++)if(o[f]!==u[f])continue e;return!0}}return!1}function iC(o,a){return o?":not("+a.trim()+")":a}function JA(o){let a=o[0],c=1,u=2,f="",g=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&u){const C=o[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?f+="."+v:4&u&&(f+=" "+v);else""!==f&&!go(v)&&(a+=iC(g,f),f=""),u=v,g=g||!go(u);c++}return""!==f&&(a+=iC(g,f)),a}const fn={};function sC(o){oC(Mn(),Te(),Pi()+o,!1)}function oC(o,a,c,u){if(!u)if(3==(3&a[an])){const g=o.preOrderCheckHooks;null!==g&&Uh(a,g,c)}else{const g=o.preOrderHooks;null!==g&&Hm(a,g,0,c)}Uo(c)}function lC(o,a=null,c=null,u){const f=Uv(o,a,c,u);return f.resolveInjectorInitializers(),f}function Uv(o,a=null,c=null,u,f=new Set){const g=[c||Z,Df(o)];return u=u||("object"==typeof o?void 0:_e(o)),new Hw(g,a||Ig(),u||null,f)}let sd=(()=>{class o{static create(c,u){if(Array.isArray(c))return lC({name:""},u,c,"");{const f=c.name??"";return lC({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=kn,o.NULL=new Bw,o.\u0275prov=wt({token:o,providedIn:"any",factory:()=>Jt(Sc)}),o.__NG_ELEMENT_ID__=-1,o})();function ld(o,a=ce.Default){const c=Te();return null===c?Jt(o,a):Km(jr(),c,Q(o),a)}function fC(){throw new Error("invalid")}function pC(o,a){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const g=c[u+1];if(-1!==g){const v=o.data[g];Bm(c[u]),v.contentQueries(2,a[g],g)}}}function Rg(o,a,c,u,f,g,v,C,I,S,M){const U=a.blueprint.slice();return U[vr]=f,U[an]=76|u,(null!==M||o&&1024&o[an])&&(U[an]|=1024),Mh(U),U[rr]=U[be]=o,U[Kn]=c,U[Ls]=v||o&&o[Ls],U[dn]=C||o&&o[dn],U[Fo]=I||o&&o[Fo]||null,U[No]=S||o&&o[No]||null,U[ni]=g,U[ir]=function ag(){return Ws++}(),U[br]=M,U[it]=2==a.type?o[it]:U,U}function Nf(o,a,c,u,f){let g=o.data[a];if(null===g)g=function Pg(o,a,c,u,f){const g=$y(),v=Eu(),I=o.data[a]=function Xi(o,a,c,u,f,g){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,a,u,f);return null===o.firstChild&&(o.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I,I.prev=g)),I}(o,a,c,u,f),function Vm(){return ln.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=u,g.attrs=f;const v=function nl(){const o=ln.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return js(g,!0),g}function xc(o,a,c,u){if(0===c)return-1;const f=a.length;for(let g=0;g<c;g++)a.push(u),o.blueprint.push(u),o.data.push(null);return f}function _i(o,a,c){Iu(a);try{const u=o.viewQuery;null!==u&&cd(1,u,c);const f=o.template;null!==f&&Ff(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&pC(o,a),o.staticViewQueries&&cd(2,o.viewQuery,c);const g=o.components;null!==g&&function mC(o,a){for(let c=0;c<a.length;c++)vC(o,a[c])}(a,g)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[an]&=-5,jm()}}function Xo(o,a,c,u){const f=a[an];if(128!=(128&f)){Iu(a);try{Mh(a),function rl(o){return ln.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Ff(o,a,c,2,u);const v=3==(3&f);if(v){const S=o.preOrderCheckHooks;null!==S&&Uh(a,S,null)}else{const S=o.preOrderHooks;null!==S&&Hm(a,S,0,null),$m(a,0)}if(function Cx(o){for(let a=Fa(o);null!==a;a=La(a)){if(!a[Lo])continue;const c=a[Vi];for(let u=0;u<c.length;u++){const f=c[u];512&f[an]||ic(f[rr],1),f[an]|=512}}}(a),function Xv(o){for(let a=Fa(o);null!==a;a=La(a))for(let c=Ur;c<a.length;c++){const u=a[c],f=u[pt];tl(u)&&Xo(f,u,f.template,u[Kn])}}(a),null!==o.contentQueries&&pC(o,a),v){const S=o.contentCheckHooks;null!==S&&Uh(a,S)}else{const S=o.contentHooks;null!==S&&Hm(a,S,1),$m(a,1)}!function _x(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const f=c[u];if(f<0)Uo(~f);else{const g=f,v=c[++u],C=c[++u];uw(v,g),C(2,a[g])}}}finally{Uo(-1)}}(o,a);const C=o.components;null!==C&&function yx(o,a){for(let c=0;c<a.length;c++)Ix(o,a[c])}(a,C);const I=o.viewQuery;if(null!==I&&cd(2,I,u),v){const S=o.viewCheckHooks;null!==S&&Uh(a,S)}else{const S=o.viewHooks;null!==S&&Hm(a,S,2),$m(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[an]&=-41,512&a[an]&&(a[an]&=-513,ic(a[rr],-1))}finally{jm()}}}function Ff(o,a,c,u,f){const g=Pi(),v=2&u;try{Uo(-1),v&&a.length>hn&&oC(o,a,hn,!1),kr(v?2:0,f),c(u,f)}finally{Uo(g),kr(v?3:1,f)}}function Gv(o,a,c){if(ba(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function Wv(o,a,c){km()&&(function Q1(o,a,c,u){const f=c.directiveStart,g=c.directiveEnd;Ea(c)&&function Zv(o,a,c){const u=mi(a,o),f=qv(c),g=o[Ls],v=Og(o,Rg(o,f,null,c.onPush?32:16,u,a,g,g.createRenderer(u,c),null,null,null));o[a.index]=v}(a,c,o.data[f+c.componentOffset]),o.firstCreatePass||xu(c,a),di(u,a);const v=c.initialInputs;for(let C=f;C<g;C++){const I=o.data[C],S=co(a,o,C,c);di(S,a),null!==v&&Qr(0,C-f,S,I,0,v),Pr(I)&&(Ii(c.index,a)[Kn]=co(a,o,C,c))}}(o,a,c,mi(c,a)),64==(64&c.flags)&&_C(o,a,c))}function Lf(o,a,c=mi){const u=a.localNames;if(null!==u){let f=a.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],C=-1===v?c(a,o):o[v];o[f++]=C}}}function qv(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=kg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function kg(o,a,c,u,f,g,v,C,I,S){const M=hn+u,U=M+f,X=function Kv(o,a){const c=[];for(let u=0;u<a;u++)c.push(u<o?null:fn);return c}(M,U),se="function"==typeof S?S():S;return X[pt]={type:o,blueprint:X,template:c,queries:null,viewQuery:C,declTNode:a,data:X.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:se,incompleteFirstPass:!1}}function Ys(o,a,c,u){const f=Lg(a);null===c?f.push(u):(f.push(c),o.firstCreatePass&&Bf(o).push(u,f.length-1))}function Zs(o,a,c,u){for(let f in o)if(o.hasOwnProperty(f)){c=null===c?{}:c;const g=o[f];null===u?Ua(c,a,f,g):u.hasOwnProperty(f)&&Ua(c,a,u[f],g)}return c}function Ua(o,a,c,u){o.hasOwnProperty(c)?o[c].push(a,u):o[c]=[a,u]}function Yv(o,a,c,u){if(km()){const f=null===u?null:{"":-1},g=function J1(o,a){const c=o.directiveRegistry;let u=null,f=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];if(Rf(a,v.selectors,!1))if(u||(u=[]),Pr(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),u.unshift(...C,v),yC(o,a,C.length)}else u.unshift(v),yC(o,a,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,u,f),u.push(v)}return null===u?null:[u,f]}(o,c);let v,C;null===g?v=C=null:[v,C]=g,null!==v&&gC(o,a,c,v,f,C),f&&function wr(o,a,c){if(a){const u=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=c[a[f+1]];if(null==g)throw new ve(-301,!1);u.push(a[f],g)}}}(c,u,f)}c.mergedAttrs=Aa(c.mergedAttrs,c.attrs)}function gC(o,a,c,u,f,g){for(let S=0;S<u.length;S++)fc(xu(c,a),o,u[S].type);!function B(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,u.length);for(let S=0;S<u.length;S++){const M=u[S];M.providersResolver&&M.providersResolver(M)}let v=!1,C=!1,I=xc(o,a,u.length,null);for(let S=0;S<u.length;S++){const M=u[S];c.mergedAttrs=Aa(c.mergedAttrs,M.hostAttrs),ea(o,c,a,I,M),Jo(I,M,f),null!==M.contentQueries&&(c.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(c.flags|=64);const U=M.type.prototype;!v&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),v=!0),!C&&(U.ngOnChanges||U.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),C=!0),I++}!function q1(o,a,c){const f=a.directiveEnd,g=o.data,v=a.attrs,C=[];let I=null,S=null;for(let M=a.directiveStart;M<f;M++){const U=g[M],X=c?c.get(U):null,Me=X?X.outputs:null;I=Zs(U.inputs,M,I,X?X.inputs:null),S=Zs(U.outputs,M,S,Me);const nt=null===I||null===v||Vv(a)?null:wx(I,M,v);C.push(nt)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=I,a.outputs=S}(o,c,g)}function _C(o,a,c){const u=c.directiveStart,f=c.directiveEnd,g=c.index,v=function dw(){return ln.lFrame.currentDirectiveIndex}();try{Uo(g);for(let C=u;C<f;C++){const I=o.data[C],S=a[C];oc(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&X1(I,S)}}finally{Uo(-1),oc(v)}}function X1(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function yC(o,a,c){a.componentOffset=c,(o.components??(o.components=[])).push(a.index)}function Jo(o,a,c){if(c){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)c[a.exportAs[u]]=o;Pr(a)&&(c[""]=o)}}function ea(o,a,c,u,f){o.data[u]=f;const g=f.factory||(f.factory=Ci(f.type)),v=new Sa(g,Pr(f),ld);o.blueprint[u]=v,c[u]=v,function Y1(o,a,c,u,f){const g=f.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const C=~a.index;(function Z1(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(v)!=C&&v.push(C),v.push(c,u,g)}}(o,a,u,xc(o,c,f.hostVars,fn),f)}function _o(o,a,c,u,f,g){const v=mi(o,a);!function Qv(o,a,c,u,f,g,v){if(null==g)o.removeAttribute(a,f,c);else{const C=null==v?Be(g):v(g,u||"",f);o.setAttribute(a,f,C,c)}}(a[dn],v,g,o.value,c,u,f)}function Qr(o,a,c,u,f,g){const v=g[a];if(null!==v){const C=u.setInput;for(let I=0;I<v.length;){const S=v[I++],M=v[I++],U=v[I++];null!==C?u.setInput(c,U,S,M):c[M]=U}}}function wx(o,a,c){let u=null,f=0;for(;f<c.length;){const g=c[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===u&&(u=[]);const v=o[g];for(let C=0;C<v.length;C+=2)if(v[C]===a){u.push(g,v[C+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function Vf(o,a,c,u){return[o,!0,!1,a,null,0,u,c,null,null]}function Ix(o,a){const c=Ii(a,o);if(tl(c)){const u=c[pt];48&c[an]?Xo(u,c,u.template,c[Kn]):c[ls]>0&&Jv(c)}}function Jv(o){for(let u=Fa(o);null!==u;u=La(u))for(let f=Ur;f<u.length;f++){const g=u[f];if(tl(g))if(512&g[an]){const v=g[pt];Xo(v,g,v.template,g[Kn])}else g[ls]>0&&Jv(g)}const c=o[pt].components;if(null!==c)for(let u=0;u<c.length;u++){const f=Ii(c[u],o);tl(f)&&f[ls]>0&&Jv(f)}}function vC(o,a){const c=Ii(a,o),u=c[pt];(function Tx(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(u,c),_i(u,c,c[Kn])}function Og(o,a){return o[H]?o[te][On]=a:o[H]=a,o[te]=a,a}function Ng(o){for(;o;){o[an]|=32;const a=ju(o);if(us(o)&&!a)return o;o=a}return null}function Fg(o,a,c,u=!0){const f=a[Ls];f.begin&&f.begin();try{Xo(o,a,o.template,c)}catch(v){throw u&&Vg(a,v),v}finally{f.end&&f.end()}}function cd(o,a,c){Bm(0),a(o,c)}function Lg(o){return o[cs]||(o[cs]=[])}function Bf(o){return o.cleanup||(o.cleanup=[])}function Vg(o,a){const c=o[No],u=c?c.get(xf,null):null;u&&u.handleError(a)}function eb(o,a,c,u,f){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],I=a[v],S=o.data[v];null!==S.setInput?S.setInput(I,f,u,C):I[C]=f}}function jf(o,a,c){let u=c?o.styles:null,f=c?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?g=C:1==g?f=Ee(f,C):2==g&&(u=Ee(u,C+": "+a[++v]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=f:o.classesWithoutHost=f}function Bg(o,a,c,u,f=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&u.push(ri(g)),Ki(g))for(let C=Ur;C<g.length;C++){const I=g[C],S=I[pt].firstChild;null!==S&&Bg(I[pt],I,S,u)}const v=c.type;if(8&v)Bg(o,a,c.child,u);else if(32&v){const C=ho(c,a);let I;for(;I=C();)u.push(I)}else if(16&v){const C=Dl(a,c);if(Array.isArray(C))u.push(...C);else{const I=ju(a[it]);Bg(I[pt],I,C,u,!0)}}c=f?c.projectionNext:c.next}return u}class Hf{get rootNodes(){const a=this._lView,c=a[pt];return Bg(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kn]}set context(a){this._lView[Kn]=a}get destroyed(){return 128==(128&this._lView[an])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[rr];if(Ki(a)){const c=a[Bs],u=c?c.indexOf(this):-1;u>-1&&(D(a,u),Xh(c,u))}this._attachedToViewContainer=!1}P(this._lView[pt],this._lView)}onDestroy(a){Ys(this._lView[pt],this._lView,null,a)}markForCheck(){Ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[an]&=-65}reattach(){this._lView[an]|=64}detectChanges(){Fg(this._lView[pt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hu(o,a){vf(o,a,a[dn],2,null,null)}(this._lView[pt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=a}}class $f extends Hf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Fg(a[pt],a,a[Kn],!1)}checkNoChanges(){}get context(){return null}}class tb extends nd{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=xt(a);return new Gf(c,this.ngModule)}}function zf(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class Sx{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,u){u=fr(u);const f=this.injector.get(a,Sg,u);return f!==Sg||c===Sg?f:this.parentInjector.get(a,c,u)}}class Gf extends zw{get inputs(){return zf(this.componentDef.inputs)}get outputs(){return zf(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function ex(o){return o.map(JA).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,u,f){let g=(f=f||this.ngModule)instanceof Dc?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new Sx(a,g):a,C=v.get(kv,null);if(null===C)throw new ve(407,!1);const I=v.get(GA,null),S=C.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",U=u?function Pt(o,a,c){return o.selectRootElement(a,c===N.ShadowDom)}(S,u,this.componentDef.encapsulation):gf(S,M,function EC(o){const a=o.toLowerCase();return"svg"===a?xh:"math"===a?"math":null}(M)),X=this.componentDef.onPush?288:272,se=kg(0,null,null,1,0,null,null,null,null,null),Me=Rg(null,se,null,X,null,null,C,S,I,v,null);let nt,mt;Iu(Me);try{const kt=this.componentDef;let tn,Ge=null;kt.findHostDirectiveDefs?(tn=[],Ge=new Map,kt.findHostDirectiveDefs(kt,tn,Ge),tn.push(kt)):tn=[kt];const vn=function wC(o,a){const c=o[pt],u=hn;return o[u]=a,Nf(c,u,2,"#host",null)}(Me,U),Jn=function nb(o,a,c,u,f,g,v,C){const I=f[pt];!function CC(o,a,c,u){for(const f of o)a.mergedAttrs=Aa(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(jf(a,a.mergedAttrs,!0),null!==c&&Ef(u,c,a))}(u,o,a,v);const S=g.createRenderer(a,c),M=Rg(f,qv(c),null,c.onPush?32:16,f[o.index],o,g,S,C||null,null,null);return I.firstCreatePass&&yC(I,o,u.length-1),Og(f,M),f[o.index]=M}(vn,U,kt,tn,Me,C,S);mt=yu(se,hn),U&&function IC(o,a,c,u){if(u)Su(o,c,["ng-version",Kw.full]);else{const{attrs:f,classes:g}=function tx(o){const a=[],c=[];let u=1,f=2;for(;u<o.length;){let g=o[u];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++u]):8===f&&c.push(g);else{if(!go(f))break;f=g}u++}return{attrs:a,classes:c}}(a.selectors[0]);f&&Su(o,c,f),g&&g.length>0&&Al(o,c,g.join(" "))}}(S,kt,U,u),void 0!==c&&function Wf(o,a,c){const u=o.projection=[];for(let f=0;f<a.length;f++){const g=c[f];u.push(null!=g?Array.from(g):null)}}(mt,this.ngContentSelectors,c),nt=function rb(o,a,c,u,f,g){const v=jr(),C=f[pt],I=mi(v,f);gC(C,f,v,c,null,u);for(let M=0;M<c.length;M++)di(co(f,C,v.directiveStart+M,v),f);_C(C,f,v),I&&di(I,f);const S=co(f,C,v.directiveStart+v.componentOffset,v);if(o[Kn]=f[Kn]=S,null!==g)for(const M of g)M(S,a);return Gv(C,v,o),S}(Jn,kt,tn,Ge,Me,[Ax]),_i(se,Me,null)}finally{jm()}return new Dx(this.componentType,nt,Ba(mt,Me),Me,mt)}}class Dx extends jA{constructor(a,c,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new $f(f),this.componentType=a}setInput(a,c){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){const g=this._rootLView;eb(g[pt],g,f,a,c),Ng(Ii(this._tNode.index,g))}}get injector(){return new ll(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Ax(){const o=jr();Bh(Te()[pt],o)}function qf(o){let a=function Ug(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;a;){let f;if(Pr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ve(903,!1);f=a.\u0275dir}if(f){if(c){u.push(f);const v=o;v.inputs=Kf(o.inputs),v.declaredInputs=Kf(o.declaredInputs),v.outputs=Kf(o.outputs);const C=f.hostBindings;C&&ob(o,C);const I=f.viewQuery,S=f.contentQueries;if(I&&ib(o,I),S&&sb(o,S),Ce(o.inputs,f.inputs),Ce(o.declaredInputs,f.declaredInputs),Ce(o.outputs,f.outputs),Pr(f)&&f.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(o),C===qf&&(c=!1)}}a=Object.getPrototypeOf(a)}!function xx(o){let a=0,c=null;for(let u=o.length-1;u>=0;u--){const f=o[u];f.hostVars=a+=f.hostVars,f.hostAttrs=Aa(f.hostAttrs,c=Aa(c,f.hostAttrs))}}(u)}function Kf(o){return o===x?{}:o===Z?[]:o}function ib(o,a){const c=o.viewQuery;o.viewQuery=c?(u,f)=>{a(u,f),c(u,f)}:a}function sb(o,a){const c=o.contentQueries;o.contentQueries=c?(u,f,g)=>{a(u,f,g),c(u,f,g)}:a}function ob(o,a){const c=o.hostBindings;o.hostBindings=c?(u,f)=>{a(u,f),c(u,f)}:a}function zg(o){return!!Gg(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Gg(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ta(o,a,c){return o[a]=c}function Ui(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function lb(o,a,c,u){const f=Te();return Ui(f,Ta(),a)&&(Mn(),_o(Er(),f,o,a,c,u)),lb}function xC(o,a,c,u,f,g,v,C){const I=Te(),S=Mn(),M=o+hn,U=S.firstCreatePass?function nF(o,a,c,u,f,g,v,C,I){const S=a.consts,M=Nf(a,o,4,v||null,lo(S,C));Yv(a,c,M,lo(S,I)),Bh(a,M);const U=M.tView=kg(2,M,u,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,M),U.queries=a.queries.embeddedTView(M)),M}(M,S,I,a,c,u,f,g,v):S.data[M];js(U,!1);const X=I[dn].createComment("");Sl(S,I,X,U),di(X,I),Og(I,I[M]=Vf(X,I,X,U)),Vo(U)&&Wv(S,I,U),null!=v&&Lf(I,U,C)}function RC(o){return Ia(function Fm(){return ln.lFrame.contextLView}(),hn+o)}function Kg(o,a,c){const u=Te();return Ui(u,Ta(),a)&&function Ji(o,a,c,u,f,g,v,C){const I=mi(a,c);let M,S=a.inputs;!C&&null!=S&&(M=S[u])?(eb(o,c,M,u,f),Ea(a)&&function bx(o,a){const c=Ii(a,o);16&c[an]||(c[an]|=32)}(c,a.index)):3&a.type&&(u=function vx(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),f=null!=v?v(f,a.value||"",u):f,g.setProperty(I,u,f))}(Mn(),Er(),u,o,a,u[dn],c,!1),Kg}function Zf(o,a,c,u,f){const v=f?"class":"style";eb(o,c,a.inputs[v],v,u)}function fb(o,a,c,u){const f=Te(),g=Mn(),v=hn+o,C=f[dn],I=g.firstCreatePass?function Oc(o,a,c,u,f,g){const v=a.consts,I=Nf(a,o,2,u,lo(v,f));return Yv(a,c,I,lo(v,g)),null!==I.attrs&&jf(I,I.attrs,!1),null!==I.mergedAttrs&&jf(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(v,g,f,a,c,u):g.data[v],S=f[v]=gf(C,a,function pw(){return ln.lFrame.currentNamespace}()),M=Vo(I);return js(I,!0),Ef(C,S,I),32!=(32&I.flags)&&Sl(g,f,S,I),0===function Rh(){return ln.lFrame.elementDepthCount}()&&di(S,f),function Pm(){ln.lFrame.elementDepthCount++}(),M&&(Wv(g,f,I),Gv(g,I,f)),null!==u&&Lf(f,I),fb}function md(){let o=jr();Eu()?Nm():(o=o.parent,js(o,!1));const a=o;!function Ph(){ln.lFrame.elementDepthCount--}();const c=Mn();return c.firstCreatePass&&(Bh(c,o),ba(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Da(o){return 0!=(8&o.flags)}(a)&&Zf(c,a,Te(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function jh(o){return 0!=(16&o.flags)}(a)&&Zf(c,a,Te(),a.stylesWithoutHost,!1),md}function PC(o,a,c,u){return fb(o,a,c,u),md(),PC}function pb(o,a,c){const u=Te(),f=Mn(),g=o+hn,v=f.firstCreatePass?function Vx(o,a,c,u,f){const g=a.consts,v=lo(g,u),C=Nf(a,o,8,"ng-container",v);return null!==v&&jf(C,v,!0),Yv(a,c,C,lo(g,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,f,u,a,c):f.data[g];js(v,!0);const C=u[g]=u[dn].createComment("");return Sl(f,u,C,v),di(C,u),Vo(v)&&(Wv(f,u,v),Gv(f,v,u)),null!=c&&Lf(u,v),pb}function Yg(){let o=jr();const a=Mn();return Eu()?Nm():(o=o.parent,js(o,!1)),a.firstCreatePass&&(Bh(a,o),ba(o)&&a.queries.elementEnd(o)),Yg}function Bx(){return Te()}function OC(o){return!!o&&"function"==typeof o.then}function NC(o){return!!o&&"function"==typeof o.subscribe}const Ux=NC;function FC(o,a,c,u){const f=Te(),g=Mn(),v=jr();return function Hx(o,a,c,u,f,g,v){const C=Vo(u),S=o.firstCreatePass&&Bf(o),M=a[Kn],U=Lg(a);let X=!0;if(3&u.type||v){const nt=mi(u,a),mt=v?v(nt):nt,kt=U.length,tn=v?vn=>v(ri(vn[u.index])):u.index;let Ge=null;if(!v&&C&&(Ge=function rF(o,a,c,u){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===u){const C=a[cs],I=f[g+2];return C.length>I?C[I]:null}"string"==typeof v&&(g+=2)}return null}(o,a,f,u.index)),null!==Ge)(Ge.__ngLastListenerFn__||Ge).__ngNextListenerFn__=g,Ge.__ngLastListenerFn__=g,X=!1;else{g=mb(u,a,M,g,!1);const vn=c.listen(mt,f,g);U.push(g,vn),S&&S.push(f,tn,kt,kt+1)}}else g=mb(u,a,M,g,!1);const se=u.outputs;let Me;if(X&&null!==se&&(Me=se[f])){const nt=Me.length;if(nt)for(let mt=0;mt<nt;mt+=2){const Jn=a[Me[mt]][Me[mt+1]].subscribe(g),Vn=U.length;U.push(g,Jn),S&&S.push(f,u.index,Vn,-(Vn+1))}}}(g,f,f[dn],v,o,a,u),FC}function LC(o,a,c,u){try{return kr(6,a,c),!1!==c(u)}catch(f){return Vg(o,f),!1}finally{kr(7,a,c)}}function mb(o,a,c,u,f){return function g(v){if(v===Function)return u;Ng(o.componentOffset>-1?Ii(o.index,a):a);let I=LC(a,c,u,v),S=g.__ngNextListenerFn__;for(;S;)I=LC(a,c,S,v)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function gb(o=1){return function Vh(o){return(ln.lFrame.contextLView=function hw(o,a){for(;o>0;)a=a[be],o--;return a}(o,ln.lFrame.contextLView))[Kn]}(o)}function VC(o,a){let c=null;const u=function Dg(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===u?Rf(o,g,!0):XA(u,g))return f}else c=f}return c}function _b(o){const a=Te()[it][ni];if(!a.projection){const u=a.projection=hl(o?o.length:1,null),f=u.slice();let g=a.child;for(;null!==g;){const v=o?VC(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:u[v]=g,f[v]=g),g=g.next}}}function yb(o,a=0,c){const u=Te(),f=Mn(),g=Nf(f,hn+o,16,null,c||null);null===g.projection&&(g.projection=a),Nm(),32!=(32&g.flags)&&function ww(o,a,c){dv(a[dn],0,a,c,dt(o,c,a),$u(c.parent||a[ni],c,a))}(f,u,g)}function bb(o,a){return o<<17|a<<2}function Rl(o){return o>>17&32767}function Qf(o){return 2|o}function Pl(o){return(131068&o)>>2}function Eb(o,a){return-131069&o|a<<2}function Jg(o){return 1|o}function wb(o,a,c,u,f){const g=o[c+1],v=null===a;let C=u?Rl(g):Pl(g),I=!1;for(;0!==C&&(!1===I||v);){const M=o[C+1];Xf(o[C],a)&&(I=!0,o[C+1]=u?Jg(M):Qf(M)),C=u?Rl(M):Pl(M)}I&&(o[c+1]=u?Qf(g):Jg(g))}function Xf(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&hs(o,a)>=0}function Nc(o,a,c){return bo(o,a,c,!1),Nc}function Jf(o,a){return bo(o,a,null,!0),Jf}function bo(o,a,c,u){const f=Te(),g=Mn(),v=function Bo(o){const a=ln.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}(2);g.firstUpdatePass&&function ZC(o,a,c,u){const f=o.data;if(null===f[c+1]){const g=f[Pi()],v=function YC(o,a){return a>=o.expandoStartIndex}(o,c);(function Db(o,a){return 0!=(o.flags&(a?8:16))})(g,u)&&null===a&&!v&&(a=!1),a=function Gx(o,a,c,u){const f=function Cu(o){const a=ln.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(c=ep(c=Fc(null,o,a,c,u),a.attrs,u),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(c=Fc(f,o,a,c,u),null===g){let I=function QC(o,a,c){const u=c?a.classBindings:a.styleBindings;if(0!==Pl(u))return o[Rl(u)]}(o,a,u);void 0!==I&&Array.isArray(I)&&(I=Fc(null,o,a,I[1],u),I=ep(I,a.attrs,u),function wd(o,a,c,u){o[Rl(c?a.classBindings:a.styleBindings)]=u}(o,a,u,I))}else g=function Wx(o,a,c){let u;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)u=ep(u,o[g].hostAttrs,c);return ep(u,a.attrs,c)}(o,a,u)}return void 0!==g&&(u?a.residualClasses=g:a.residualStyles=g),c}(f,g,a,u),function vd(o,a,c,u,f,g){let v=g?a.classBindings:a.styleBindings,C=Rl(v),I=Pl(v);o[u]=c;let M,S=!1;if(Array.isArray(c)?(M=c[1],(null===M||hs(c,M)>0)&&(S=!0)):M=c,f)if(0!==I){const X=Rl(o[C+1]);o[u+1]=bb(X,C),0!==X&&(o[X+1]=Eb(o[X+1],u)),o[C+1]=function zC(o,a){return 131071&o|a<<17}(o[C+1],u)}else o[u+1]=bb(C,0),0!==C&&(o[C+1]=Eb(o[C+1],u)),C=u;else o[u+1]=bb(I,0),0===C?C=u:o[I+1]=Eb(o[I+1],u),I=u;S&&(o[u+1]=Qf(o[u+1])),wb(o,M,u,!0),wb(o,M,u,!1),function WC(o,a,c,u,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&hs(g,a)>=0&&(c[u+1]=Jg(c[u+1]))}(a,M,o,u,g),v=bb(C,I),g?a.classBindings=v:a.styleBindings=v}(f,g,a,c,v,u)}}(g,o,v,u),a!==fn&&Ui(f,v,a)&&function Tb(o,a,c,u,f,g,v,C){if(!(3&a.type))return;const I=o.data,S=I[C+1],M=function $x(o){return 1==(1&o)}(S)?Sb(I,a,c,f,Pl(S),v):void 0;tp(M)||(tp(g)||function $C(o){return 2==(2&o)}(S)&&(g=Sb(I,null,c,f,C,v)),function Zo(o,a,c,u,f){if(a)f?o.addClass(c,u):o.removeClass(c,u);else{let g=-1===u.indexOf("-")?void 0:qt.DashCase;null==f?o.removeStyle(c,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=qt.Important),o.setStyle(c,u,f,g))}}(u,v,rc(Pi(),c),f,g))}(g,g.data[Pi()],f,f[dn],o,f[v+1]=function JC(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=_e(po(o)))),o}(a,c),u,v)}function Fc(o,a,c,u,f){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=a[C],u=ep(u,g.hostAttrs,f),g!==o);)C++;return null!==o&&(c.directiveStylingLast=C),u}function ep(o,a,c){const u=c?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ds(o,v,!!c||a[++g]))}return void 0===o?null:o}function Sb(o,a,c,u,f,g){const v=null===a;let C;for(;f>0;){const I=o[f],S=Array.isArray(I),M=S?I[1]:I,U=null===M;let X=c[f+1];X===fn&&(X=U?Z:void 0);let se=U?mr(X,u):M===u?X:void 0;if(S&&!tp(se)&&(se=mr(I,u)),tp(se)&&(C=se,v))return C;const Me=o[f+1];f=v?Rl(Me):Pl(Me)}if(null!==a){let I=g?a.residualClasses:a.residualStyles;null!=I&&(C=mr(I,u))}return C}function tp(o){return void 0!==o}function Ab(o,a=""){const c=Te(),u=Mn(),f=o+hn,g=u.firstCreatePass?Nf(u,f,1,a,null):u.data[f],v=c[f]=function Tl(o,a){return o.createText(a)}(c[dn],a);Sl(u,c,v,g),js(g,!1)}function np(o){return rp("",o,""),np}function rp(o,a,c){const u=Te(),f=function Ha(o,a,c,u){return Ui(o,Ta(),c)?a+Be(c)+u:fn}(u,o,a,c);return f!==fn&&function ja(o,a,c){const u=rc(a,o);!function mf(o,a,c){o.setValue(a,c)}(o[dn],u,c)}(u,Pi(),f),rp}const Vc=void 0;var pI=["en",[["a","p"],["AM","PM"],Vc],[["AM","PM"],Vc,Vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vc,"{1} 'at' {0}",Vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pb(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let Id={};function kb(o){const a=function mI(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Nb(a);if(c)return c;const u=a.split("-")[0];if(c=Nb(u),c)return c;if("en"===u)return pI;throw new ve(701,!1)}function Ob(o){return kb(o)[Xt.PluralCase]}function Nb(o){return o in Id||(Id[o]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[o]),Id[o]}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const Wa="en-US";let qa=Wa;function Wb(o,a,c,u,f){if(o=Q(o),Array.isArray(o))for(let g=0;g<o.length;g++)Wb(o[g],a,c,u,f);else{const g=Mn(),v=Te();let C=Va(o)?o:Q(o.provide),I=xv(o);const S=jr(),M=1048575&S.providerIndexes,U=S.directiveStart,X=S.providerIndexes>>20;if(Va(o)||!o.multi){const se=new Sa(I,f,ld),Me=pp(C,a,f?M:M+X,U);-1===Me?(fc(xu(S,v),g,C),Pd(g,o,a.length),a.push(C),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(se),v.push(se)):(c[Me]=se,v[Me]=se)}else{const se=pp(C,a,M+X,U),Me=pp(C,a,M,M+X),mt=Me>=0&&c[Me];if(f&&!mt||!f&&!(se>=0&&c[se])){fc(xu(S,v),g,C);const kt=function MI(o,a,c,u,f){const g=new Sa(o,c,ld);return g.multi=[],g.index=a,g.componentProviders=0,jc(g,f,u&&!c),g}(f?DM:qb,c.length,f,u,I);!f&&mt&&(c[Me].providerFactory=kt),Pd(g,o,a.length,0),a.push(C),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(kt),v.push(kt)}else Pd(g,o,se>-1?se:Me,jc(c[f?Me:se],I,!f&&u));!f&&u&&mt&&c[Me].componentProviders++}}}function Pd(o,a,c,u){const f=Va(a),g=function wg(o){return!!o.useClass}(a);if(f||g){const I=(g?Q(a.useClass):a).prototype.ngOnDestroy;if(I){const S=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const M=S.indexOf(c);-1===M?S.push(c,[u,I]):S[M+1].push(u,I)}else S.push(c,I)}}}function jc(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function pp(o,a,c,u){for(let f=c;f<u;f++)if(a[f]===o)return f;return-1}function qb(o,a,c,u){return Kb(this.multi,[])}function DM(o,a,c,u){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=co(c,c[pt],this.providerFactory.index,u);g=C.slice(0,v),Kb(f,g);for(let I=v;I<C.length;I++)g.push(C[I])}else g=[],Kb(f,g);return g}function Kb(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function RI(o,a=[]){return c=>{c.providersResolver=(u,f)=>function m_(o,a,c){const u=Mn();if(u.firstCreatePass){const f=Pr(o);Wb(c,u.data,u.blueprint,f,!0),Wb(a,u.data,u.blueprint,f,!1)}}(u,f?f(o):o,a)}}class kd{}class PI{}function Js(o,a){return new g_(o,a??null)}class g_ extends kd{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tb(this);const u=pr(a);this._bootstrapComponents=Qo(u.bootstrap),this._r3Injector=Uv(a,c,[{provide:kd,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],_e(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class mp extends PI{constructor(a){super(),this.moduleType=a}create(a){return new g_(this.moduleType,a)}}class __ extends kd{constructor(a,c,u){super(),this.componentFactoryResolver=new tb(this),this.instance=null;const f=new Hw([...a,{provide:kd,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],c||Ig(),u,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Hc(o,a,c=null){return new __(o,a,c).injector}let $c=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=Ju(0,c.type),f=u.length>0?Hc([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=wt({token:o,providedIn:"environment",factory:()=>new o(Jt(Dc))}),o})();function zc(o){o.getStandaloneInjector=a=>a.get($c).getOrCreateStandaloneInjector(o)}function Zb(o,a,c){const u=Ri()+o,f=Te();return f[u]===fn?ta(f,u,c?a.call(c):a()):function Yf(o,a){return o[a]}(f,u)}function UI(o,a,c,u,f,g){const v=a+c;return Ui(o,v,f)?ta(o,v+1,g?u.call(g,f):u(f)):function vp(o,a){const c=o[a];return c===fn?void 0:c}(o,v+1)}function Jb(o,a){const c=Mn();let u;const f=o+hn;c.firstCreatePass?(u=function GI(o,a){if(a)for(let c=a.length-1;c>=0;c--){const u=a[c];if(o===u.name)return u}}(a,c.pipeRegistry),c.data[f]=u,u.onDestroy&&(c.destroyHooks??(c.destroyHooks=[])).push(f,u.onDestroy)):u=c.data[f];const g=u.factory||(u.factory=Ci(u.type)),v=Vt(ld);try{const C=hc(!1),I=g();return hc(C),function MC(o,a,c,u){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=u}(c,Te(),f,I),I}finally{Vt(v)}}function WI(o,a,c){const u=o+hn,f=Te(),g=Ia(f,u);return function Vl(o,a){return o[pt].data[a].pure}(f,u)?UI(f,Ri(),a,g.transform,c,g):g.transform(c)}function E_(o){return a=>{setTimeout(o,void 0,a)}}const xs=class e0 extends h.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,u){let f=a,g=c||(()=>null),v=u;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),g=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(g=E_(g),f&&(f=E_(f)),v&&(v=E_(v)));const C=super.subscribe({next:f,error:g,complete:v});return a instanceof j.w0&&a.add(C),C}};function NM(){return this._results[Symbol.iterator]()}class Ld{get changes(){return this._changes||(this._changes=new xs)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ld.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=NM)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const u=this;u.dirty=!1;const f=function Zi(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function tv(o,a,c){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let f=o[u],g=a[u];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(u._results,f,c))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vd=(()=>{class o{}return o.__NG_ELEMENT_ID__=LM,o})();const qI=Vd,FM=class extends qI{constructor(a,c,u){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(a,c){const u=this._declarationTContainer.tView,f=Rg(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null,c||null);f[En]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[mn];return null!==v&&(f[mn]=v.createEmbeddedView(u)),_i(u,f,a),new Hf(f)}};function LM(){return bp(jr(),Te())}function bp(o,a){return 4&o.type?new FM(a,o,Ba(o,a)):null}let Bd=(()=>{class o{}return o.__NG_ELEMENT_ID__=VM,o})();function VM(){return Ep(jr(),Te())}const BM=Bd,KI=class extends BM{constructor(a,c,u){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=u}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new ll(this._hostTNode,this._hostLView)}get parentInjector(){const a=Or(this._hostTNode,this._hostLView);if(cc(a)){const c=dc(a,this._hostLView),u=uc(a);return new ll(c[pt].data[u+8],c)}return new ll(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=YI(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Ur}createEmbeddedView(a,c,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const v=a.createEmbeddedView(c||{},g);return this.insert(v,f),v}createComponent(a,c,u,f,g){const v=a&&!function ku(o){return"function"==typeof o}(a);let C;if(v)C=c;else{const U=c||{};C=U.index,u=U.injector,f=U.projectableNodes,g=U.environmentInjector||U.ngModuleRef}const I=v?a:new Gf(xt(a)),S=u||this.parentInjector;if(!g&&null==I.ngModule){const X=(v?S:this.parentInjector).get(Dc,null);X&&(g=X)}const M=I.create(S,f,void 0,g);return this.insert(M.hostView,C),M}insert(a,c){const u=a._lView,f=u[pt];if(function Rm(o){return Ki(o[rr])}(u)){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const U=u[rr],X=new KI(U,U[ni],U[rr]);X.detach(X.indexOf(a))}}const g=this._adjustIndex(c),v=this._lContainer;!function m(o,a,c,u){const f=Ur+u,g=c.length;u>0&&(c[f-1][On]=a),u<g-Ur?(a[On]=c[f],Qh(c,Ur+u,a)):(c.push(a),a[On]=null),a[rr]=c;const v=a[En];null!==v&&c!==v&&function y(o,a){const c=o[Vi];a[it]!==a[rr][rr][it]&&(o[Lo]=!0),null===c?o[Vi]=[a]:c.push(a)}(v,a);const C=a[mn];null!==C&&C.insertView(o),a[an]|=64}(f,u,v,g);const C=Yo(g,v),I=u[dn],S=Ds(I,v[Vs]);return null!==S&&function cv(o,a,c,u,f,g){u[vr]=f,u[ni]=a,vf(o,u,c,1,f,g)}(f,v[ni],I,u,S,C),a.attachToViewContainerRef(),Qh(w_(v),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=YI(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),u=D(this._lContainer,c);u&&(Xh(w_(this._lContainer),c),P(u[pt],u))}detach(a){const c=this._adjustIndex(a,-1),u=D(this._lContainer,c);return u&&null!=Xh(w_(this._lContainer),c)?new Hf(u):null}_adjustIndex(a,c=0){return a??this.length+c}};function YI(o){return o[Bs]}function w_(o){return o[Bs]||(o[Bs]=[])}function Ep(o,a){let c;const u=a[o.index];if(Ki(u))c=u;else{let f;if(8&o.type)f=ri(u);else{const g=a[dn];f=g.createComment("");const v=mi(o,a);gn(g,Ds(g,v),f,function _f(o,a){return o.nextSibling(a)}(g,v),!1)}a[o.index]=c=Vf(u,a,f,o),Og(a,c)}return new KI(c,o,a)}class wp{constructor(a){this.queryList=a,this.matches=null}clone(){return new wp(this.queryList)}setDirty(){this.queryList.setDirty()}}class C_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const u=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let g=0;g<u;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new C_(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==o0(a,c).matches&&this.queries[c].setDirty()}}class ZI{constructor(a,c,u=null){this.predicate=a,this.flags=c,this.read=u}}class I_{constructor(a=[]){this.queries=a}elementStart(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let u=0;u<this.length;u++){const f=null!==c?c.length:0,g=this.getByIndex(u).embeddedTView(a,f);g&&(g.indexInDeclarationView=u,null!==c?c.push(g):c=[g])}return null!==c?new I_(c):null}template(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Cp{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Cp(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(a,c,UM(c,g)),this.matchTNodeWithReadOption(a,c,al(c,a,g,!1,!1))}else u===Vd?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,al(c,a,u,!1,!1))}matchTNodeWithReadOption(a,c,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===rd||f===Bd||f===Vd&&4&c.type)this.addMatch(c.index,-2);else{const g=al(c,a,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,u)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function UM(o,a){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===a)return c[u+1];return null}function HM(o,a,c,u){return-1===c?function jM(o,a){return 11&o.type?Ba(o,a):4&o.type?bp(o,a):null}(a,o):-2===c?function $M(o,a,c){return c===rd?Ba(a,o):c===Vd?bp(a,o):c===Bd?Ep(a,o):void 0}(o,a,u):co(o,o[pt],c,a)}function QI(o,a,c,u){const f=a[mn].queries[u];if(null===f.matches){const g=o.data,v=c.matches,C=[];for(let I=0;I<v.length;I+=2){const S=v[I];C.push(S<0?null:HM(a,g[S],v[I+1],c.metadata.read))}f.matches=C}return f.matches}function t0(o,a,c,u){const f=o.queries.getByIndex(c),g=f.matches;if(null!==g){const v=QI(o,a,f,c);for(let C=0;C<g.length;C+=2){const I=g[C];if(I>0)u.push(v[C/2]);else{const S=g[C+1],M=a[-I];for(let U=Ur;U<M.length;U++){const X=M[U];X[En]===X[rr]&&t0(X[pt],X,S,u)}if(null!==M[Vi]){const U=M[Vi];for(let X=0;X<U.length;X++){const se=U[X];t0(se[pt],se,S,u)}}}}}return u}function XI(o){const a=Te(),c=Mn(),u=Nh();Bm(u+1);const f=o0(c,u);if(o.dirty&&function vu(o){return 4==(4&o[an])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?t0(c,a,u,[]):QI(c,a,f,u);o.reset(g,Af),o.notifyOnChanges()}return!0}return!1}function n0(o,a,c){const u=Mn();u.firstCreatePass&&(s0(u,new ZI(o,a,c),-1),2==(2&a)&&(u.staticViewQueries=!0)),tT(u,Te(),a)}function JI(o,a,c,u){const f=Mn();if(f.firstCreatePass){const g=jr();s0(f,new ZI(a,c,u),g.index),function T_(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}tT(f,Te(),c)}function r0(){return function eT(o,a){return o[mn].queries[a].queryList}(Te(),Nh())}function tT(o,a,c){const u=new Ld(4==(4&c));Ys(o,a,u,u.destroy),null===a[mn]&&(a[mn]=new C_),a[mn].queries.push(new wp(u))}function s0(o,a,c){null===o.queries&&(o.queries=new I_),o.queries.track(new Cp(a,c))}function o0(o,a){return o.queries.getByIndex(a)}function nT(o,a){return bp(o,a)}function la(o){return!!pr(o)}function xp(...o){}const Gd=new jn("Application Initializer");let Wd=(()=>{class o{constructor(c){this.appInits=c,this.resolve=xp,this.reject=xp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(OC(g))c.push(g);else if(Ux(g)){const v=new Promise((C,I)=>{g.subscribe({complete:C,error:I})});c.push(v)}}Promise.all(c).then(()=>{u()}).catch(f=>{this.reject(f)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Jt(Gd,8))},o.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const mT=new jn("AppId",{providedIn:"root",factory:function gT(){return`${Mp()}${Mp()}${Mp()}`}});function Mp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rp=new jn("Platform Initializer"),_T=new jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pp=new jn("AnimationModuleType");let ua=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const N_=new jn("LocaleId",{providedIn:"root",factory:()=>Hn(N_,ce.Optional|ce.SkipSelf)||function kp(){return typeof $localize<"u"&&$localize.locale||Wa}()}),yT=new jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nR{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let eo=(()=>{class o{compileModuleSync(c){return new mp(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),g=Qo(pr(c).declarations).reduce((v,C)=>{const I=xt(C);return I&&v.push(new Gf(I)),v},[]);return new nR(u,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ET=(()=>Promise.resolve(0))();function p0(o){typeof Zone>"u"?ET.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ms{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xs(!1),this.onMicrotaskEmpty=new xs(!1),this.onStable=new xs(!1),this.onError=new xs(!1),typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&c,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function iR(){let o=jt.requestAnimationFrame,a=jt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function sR(o){const a=()=>{!function wT(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(jt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Np(o),o.isCheckStableRunning=!0,B_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Np(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,f,g,v,C)=>{try{return Fp(o),c.invokeTask(f,g,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),CT(o)}},onInvoke:(c,u,f,g,v,C,I)=>{try{return Fp(o),c.invoke(f,g,v,C,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),CT(o)}},onHasTask:(c,u,f,g)=>{c.hasTask(f,g),u===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Np(o),B_(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,u,f,g)=>(c.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ms.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(Ms.isInAngularZone())throw new ve(909,!1)}run(a,c,u){return this._inner.run(a,c,u)}runTask(a,c,u,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,Op,xp,xp);try{return g.runTask(v,c,u)}finally{g.cancelTask(v)}}runGuarded(a,c,u){return this._inner.runGuarded(a,c,u)}runOutsideAngular(a){return this._outer.run(a)}}const Op={};function B_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Np(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Fp(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function CT(o){o._nesting--,B_(o)}class m0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xs,this.onMicrotaskEmpty=new xs,this.onStable=new xs,this.onError=new xs}run(a,c,u){return a.apply(c,u)}runGuarded(a,c,u){return a.apply(c,u)}runOutsideAngular(a){return a()}runTask(a,c,u,f){return a.apply(c,u)}}const IT=new jn(""),TT=new jn("");let _0,oR=(()=>{class o{constructor(c,u,f){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_0||(function aR(o){_0=o}(f),f.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ms.assertNotInAngularZone(),p0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())p0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Jt(Ms),Jt(g0),Jt(TT))},o.\u0275prov=wt({token:o,factory:o.\u0275fac}),o})(),g0=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return _0?.findTestabilityInTree(this,c,u)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Ka=!1;let da=null;const y0=new jn("AllowMultipleToken"),v0=new jn("PlatformDestroyListeners"),Kc=new jn("appBootstrapListener");class U_{constructor(a,c){this.name=a,this.token=c}}function E0(o,a,c=[]){const u=`Platform: ${a}`,f=new jn(u);return(g=[])=>{let v=Vp();if(!v||v.injector.get(y0,!1)){const C=[...c,...g,{provide:f,useValue:!0}];o?o(C):function lR(o){if(da&&!da.get(y0,!1))throw new ve(400,!1);da=o;const a=o.get(xT);(function ST(o){const a=o.get(Rp,null);a&&a.forEach(c=>c())})(o)}(function Lp(o=[],a){return sd.create({name:a,providers:[{provide:xl,useValue:"platform"},{provide:v0,useValue:new Set([()=>da=null])},...o]})}(C,u))}return function DT(o){const a=Vp();if(!a)throw new ve(401,!1);return a}()}}function Vp(){return da?.get(xT)??null}let xT=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const f=function j_(o,a){let c;return c="noop"===o?new m0:("zone.js"===o?void 0:o)||new Ms(a),c}(u?.ngZone,function MT(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:Ms,useValue:f}];return f.run(()=>{const v=sd.create({providers:g,parent:this.injector,name:c.moduleType.name}),C=c.create(v),I=C.injector.get(xf,null);if(!I)throw new ve(402,!1);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:M=>{I.handleError(M)}});C.onDestroy(()=>{Bp(this._modules,C),S.unsubscribe()})}),function RT(o,a,c){try{const u=c();return OC(u)?u.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(I,f,()=>{const S=C.injector.get(Wd);return S.runInitializers(),S.donePromise.then(()=>(function ur(o){Et(o,"Expected localeId to be defined"),"string"==typeof o&&(qa=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(N_,Wa)||Wa),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,u=[]){const f=w0({},u);return function Bl(o,a,c){const u=new mp(c);return Promise.resolve(u)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const u=c.injector.get(H_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new ve(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(v0,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Jt(sd))},o.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function w0(o,a){return Array.isArray(a)?a.reduce(w0,o):{...o,...a}}let H_=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,u,f){this._zone=c,this._injector=u,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new L.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new L.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Ms.assertNotInAngularZone(),p0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Ms.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ee.T)(g,v.pipe((0,we.B)()))}bootstrap(c,u){const f=c instanceof zw;if(!this._injector.get(Wd).done){!f&&Rr(c);throw new ve(405,Ka)}let v;v=f?c:this._injector.get(nd).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const C=function b0(o){return o.isBoundToModule}(v)?void 0:this._injector.get(kd),S=v.create(sd.NULL,[],u||v.selector,C),M=S.location.nativeElement,U=S.injector.get(IT,null);return U?.registerApplication(M),S.onDestroy(()=>{this.detachView(S.hostView),Bp(this.components,S),U?.unregisterApplication(M)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ve(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;Bp(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(Kc,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Bp(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ve(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Jt(Ms),Jt(Dc),Jt(xf))},o.\u0275prov=wt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Bp(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}function PT(){return!1}let to=(()=>{class o{}return o.__NG_ELEMENT_ID__=Zc,o})();function Zc(o){return function kT(o,a,c){if(Ea(o)&&!c){const u=Ii(o.index,a);return new Hf(u,u)}return 47&o.type?new Hf(a[it],a):null}(jr(),Te(),16==(16&o))}class FT{constructor(){}supports(a){return zg(a)}create(a){return new LT(a)}}const mR=(o,a)=>a;class LT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||mR}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,u=this._removalsHead,f=0,g=null;for(;c||u;){const v=!u||c&&c.currentIndex<BT(u,f,g)?c:u,C=BT(v,f,g),I=v.currentIndex;if(v===u)f--,u=u._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const S=C-f,M=I-f;if(S!=M){for(let X=0;X<S;X++){const se=X<g.length?g[X]:g[X]=0,Me=se+X;M<=Me&&Me<S&&(g[X]=se+1)}g[v.previousIndex]=M-S}}C!==I&&a(v,C,I)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!zg(a))throw new ve(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,c=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),u=!0),c=c._next}else f=0,function ud(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)a(u.value)}}(a,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),u=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,u,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,f)):a=this._addAfter(new gR(c,u),g,f),a}_verifyReinsertion(a,c,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,c,u),this._addToMoves(a,u),a}_moveAfter(a,c,u){return this._unlink(a),this._insertAfter(a,c,u),this._addToMoves(a,u),a}_addAfter(a,c,u){return this._insertAfter(a,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,u){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new VT),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,u=a._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VT),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class gR{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _R{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const c=a._prevDup,u=a._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class VT{constructor(){this.map=new Map}put(a){const c=a.trackById;let u=this.map.get(c);u||(u=new _R,this.map.set(c,u)),u.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BT(o,a,c){const u=o.previousIndex;if(null===u)return u;let f=0;return c&&u<c.length&&(f=c[u]),u+a+f}class UT{constructor(){}supports(a){return a instanceof Map||Gg(a)}create(){return new yR}}class yR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Gg(a)))throw new ve(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,u);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const u=a._prev;return c._next=a,c._prev=u,a._prev=c,u&&(u._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const u=new vR(a);return this._records.set(a,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(u=>c(a[u],u))}}class vR{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jT(){return new D0([new FT])}let D0=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const f=u.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||jT()),deps:[[o,new It,new Pa]]}}find(c){const u=this.factories.find(f=>f.supports(c));if(null!=u)return u;throw new ve(901,!1)}}return o.\u0275prov=wt({token:o,providedIn:"root",factory:jT}),o})();function HT(){return new A0([new UT])}let A0=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const f=u.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||HT()),deps:[[o,new It,new Pa]]}}find(c){const u=this.factories.find(f=>f.supports(c));if(u)return u;throw new ve(901,!1)}}return o.\u0275prov=wt({token:o,providedIn:"root",factory:HT}),o})();const wR=E0(null,"core",[]);let To=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Jt(H_))},o.\u0275mod=ne({type:o}),o.\u0275inj=Bn({}),o})();function CR(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(Mt,Pe,O)=>{O.d(Pe,{Z:()=>$e});var h=O(2090),j=O(4859),L=O(6881),ee=O(1877);class we{constructor(ve,Ne){this._delegate=ve,this.firebase=Ne,(0,L._addComponent)(ve,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ve,Ne=L._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(ve);return!qe.isInitialized()&&"EXPLICIT"===(null===(Be=qe.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Ne})}_removeServiceInstance(ve,Ne=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Ne)}_addComponent(ve){(0,L._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,L._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Ee(){const ft=function _e(ft){const ve={},Ne={__esModule:!0,initializeApp:function Se(je,ae={}){const lt=L.initializeApp(je,ae);if((0,h.r3)(ve,lt.name))return ve[lt.name];const Ft=new ft(lt,Ne);return ve[lt.name]=Ft,Ft},app:qe,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Re(je){const ae=je.name,lt=ae.replace("-compat","");if(L._registerComponent(je)&&"PUBLIC"===je.type){const Ft=(at=qe())=>{if("function"!=typeof at[lt])throw Ce.create("invalid-app-argument",{appName:ae});return at[lt]()};void 0!==je.serviceProps&&(0,h.ZB)(Ft,je.serviceProps),Ne[lt]=Ft,ft.prototype[lt]=function(...at){return this._getService.bind(this,ae).apply(this,je.multipleInstances?at:[])}}return"PUBLIC"===je.type?Ne[lt]:null},removeApp:function Be(je){delete ve[je]},useAsService:function Ze(je,ae){return"serverAuth"===ae?null:ae},modularAPIs:L}};function qe(je){if(!(0,h.r3)(ve,je=je||L._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:je});return ve[je]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function De(){return Object.keys(ve).map(je=>ve[je])}}),qe.App=ft,Ne}(we);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function ve(Ne){(0,h.ZB)(ft,Ne)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),ft}(),W=new ee.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=K;!function ke(ft){(0,L.registerVersion)("@firebase/app-compat","0.2.9",ft)}()},6881:(Mt,Pe,O)=>{O.r(Pe),O.d(Pe,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>lr,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>et,_addOrOverwriteComponent:()=>ut,_apps:()=>jt,_clearComponents:()=>Qn,_components:()=>At,_getProvider:()=>_n,_registerComponent:()=>kn,_removeServiceInstance:()=>Fn,deleteApp:()=>sr,getApp:()=>ci,getApps:()=>Jt,initializeApp:()=>Qt,onLog:()=>nr,registerVersion:()=>fr,setLogLevel:()=>Sr});var h=O(5861),j=O(4859),L=O(1877),ee=O(2090);const we=(le,ne)=>ne.some(Ve=>le instanceof Ve);let ie,Ce;const K=new WeakMap,W=new WeakMap,Q=new WeakMap,Oe=new WeakMap,ke=new WeakMap;let ve={get(le,ne,Ve){if(le instanceof IDBTransaction){if("done"===ne)return W.get(le);if("objectStoreNames"===ne)return le.objectStoreNames||Q.get(le);if("store"===ne)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Se(le[ne])},set:(le,ne,Ve)=>(le[ne]=Ve,!0),has:(le,ne)=>le instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in le};function qe(le){return"function"==typeof le?function Be(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...ne){return le.apply(De(this),ne),Se(K.get(this))}:function(...ne){return Se(le.apply(De(this),ne))}:function(ne,...Ve){const Ct=le.call(De(this),ne,...Ve);return Q.set(Ct,ne.sort?ne.sort():[ne]),Se(Ct)}}(le):(le instanceof IDBTransaction&&function ft(le){if(W.has(le))return;const ne=new Promise((Ve,Ct)=>{const Rt=()=>{le.removeEventListener("complete",yn),le.removeEventListener("error",xt),le.removeEventListener("abort",xt)},yn=()=>{Ve(),Rt()},xt=()=>{Ct(le.error||new DOMException("AbortError","AbortError")),Rt()};le.addEventListener("complete",yn),le.addEventListener("error",xt),le.addEventListener("abort",xt)});W.set(le,ne)}(le),we(le,function _e(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,ve):le)}function Se(le){if(le instanceof IDBRequest)return function $e(le){const ne=new Promise((Ve,Ct)=>{const Rt=()=>{le.removeEventListener("success",yn),le.removeEventListener("error",xt)},yn=()=>{Ve(Se(le.result)),Rt()},xt=()=>{Ct(le.error),Rt()};le.addEventListener("success",yn),le.addEventListener("error",xt)});return ne.then(Ve=>{Ve instanceof IDBCursor&&K.set(Ve,le)}).catch(()=>{}),ke.set(ne,le),ne}(le);if(Oe.has(le))return Oe.get(le);const ne=qe(le);return ne!==le&&(Oe.set(le,ne),ke.set(ne,le)),ne}const De=le=>ke.get(le),je=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],lt=new Map;function Ft(le,ne){if(!(le instanceof IDBDatabase)||ne in le||"string"!=typeof ne)return;if(lt.get(ne))return lt.get(ne);const Ve=ne.replace(/FromIndex$/,""),Ct=ne!==Ve,Rt=ae.includes(Ve);if(!(Ve in(Ct?IDBIndex:IDBObjectStore).prototype)||!Rt&&!je.includes(Ve))return;const yn=function(){var xt=(0,h.Z)(function*(Ln,...bn){const Rr=this.transaction(Ln,Rt?"readwrite":"readonly");let pr=Rr.store;return Ct&&(pr=pr.index(bn.shift())),(yield Promise.all([pr[Ve](...bn),Rt&&Rr.done]))[0]});return function(bn){return xt.apply(this,arguments)}}();return lt.set(ne,yn),yn}!function Ne(le){ve=le(ve)}(le=>({...le,get:(ne,Ve,Ct)=>Ft(ne,Ve)||le.get(ne,Ve,Ct),has:(ne,Ve)=>!!Ft(ne,Ve)||le.has(ne,Ve)}));class at{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function rn(le){return"VERSION"===le.getComponent()?.type}(Ve)){const Ct=Ve.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(Ve=>Ve).join(" ")}}const _t="@firebase/app",ye=new L.Yd("@firebase/app"),Zt="[DEFAULT]",Tn={[_t]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,At=new Map;function et(le,ne){try{le.container.addComponent(ne)}catch(Ve){ye.debug(`Component ${ne.name} failed to register with FirebaseApp ${le.name}`,Ve)}}function ut(le,ne){le.container.addOrOverwriteComponent(ne)}function kn(le){const ne=le.name;if(At.has(ne))return ye.debug(`There were multiple attempts to register component ${ne}.`),!1;At.set(ne,le);for(const Ve of jt.values())et(Ve,le);return!0}function _n(le,ne){const Ve=le.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),le.container.getProvider(ne)}function Fn(le,ne,Ve=Zt){_n(le,ne).clearInstance(Ve)}function Qn(){At.clear()}const Sn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nt{constructor(ne,Ve,Ct){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const lr="9.21.0";function Qt(le,ne={}){let Ve=le;"object"!=typeof ne&&(ne={name:ne});const Ct=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},ne),Rt=Ct.name;if("string"!=typeof Rt||!Rt)throw Sn.create("bad-app-name",{appName:String(Rt)});if(Ve||(Ve=(0,ee.aH)()),!Ve)throw Sn.create("no-options");const yn=jt.get(Rt);if(yn){if((0,ee.vZ)(Ve,yn.options)&&(0,ee.vZ)(Ct,yn.config))return yn;throw Sn.create("duplicate-app",{appName:Rt})}const xt=new j.H0(Rt);for(const bn of At.values())xt.addComponent(bn);const Ln=new Nt(Ve,Ct,xt);return jt.set(Rt,Ln),Ln}function ci(le=Zt){const ne=jt.get(le);if(!ne&&le===Zt)return Qt();if(!ne)throw Sn.create("no-app",{appName:le});return ne}function Jt(){return Array.from(jt.values())}function sr(le){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(le){const ne=le.name;jt.has(ne)&&(jt.delete(ne),yield Promise.all(le.container.getProviders().map(Ve=>Ve.delete())),le.isDeleted=!0)})).apply(this,arguments)}function fr(le,ne,Ve){var Ct;let Rt=null!==(Ct=Tn[le])&&void 0!==Ct?Ct:le;Ve&&(Rt+=`-${Ve}`);const yn=Rt.match(/\s|\//),xt=ne.match(/\s|\//);if(yn||xt){const Ln=[`Unable to register library "${Rt}" with version "${ne}":`];return yn&&Ln.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),yn&&xt&&Ln.push("and"),xt&&Ln.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void ye.warn(Ln.join(" "))}kn(new j.wA(`${Rt}-version`,()=>({library:Rt,version:ne}),"VERSION"))}function nr(le,ne){if(null!==le&&"function"!=typeof le)throw Sn.create("invalid-log-argument");(0,L.Am)(le,ne)}function Sr(le){(0,L.Ub)(le)}const Mr="firebase-heartbeat-database",ti=1,G="firebase-heartbeat-store";let $=null;function R(){return $||($=function Re(le,ne,{blocked:Ve,upgrade:Ct,blocking:Rt,terminated:yn}={}){const xt=indexedDB.open(le,ne),Ln=Se(xt);return Ct&&xt.addEventListener("upgradeneeded",bn=>{Ct(Se(xt.result),bn.oldVersion,bn.newVersion,Se(xt.transaction),bn)}),Ve&&xt.addEventListener("blocked",bn=>Ve(bn.oldVersion,bn.newVersion,bn)),Ln.then(bn=>{yn&&bn.addEventListener("close",()=>yn()),Rt&&bn.addEventListener("versionchange",Rr=>Rt(Rr.oldVersion,Rr.newVersion,Rr))}).catch(()=>{}),Ln}(Mr,ti,{upgrade:(le,ne)=>{0===ne&&le.createObjectStore(G)}}).catch(le=>{throw Sn.create("idb-open",{originalErrorMessage:le.message})})),$}function x(){return(x=(0,h.Z)(function*(le){try{return(yield R()).transaction(G).objectStore(G).get(Y(le))}catch(ne){if(ne instanceof ee.ZR)ye.warn(ne.message);else{const Ve=Sn.create("idb-get",{originalErrorMessage:ne?.message});ye.warn(Ve.message)}}})).apply(this,arguments)}function Z(le,ne){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,h.Z)(function*(le,ne){try{const Ct=(yield R()).transaction(G,"readwrite");return yield Ct.objectStore(G).put(ne,Y(le)),Ct.done}catch(Ve){if(Ve instanceof ee.ZR)ye.warn(Ve.message);else{const Ct=Sn.create("idb-set",{originalErrorMessage:Ve?.message});ye.warn(Ct.message)}}})).apply(this,arguments)}function Y(le){return`${le.name}!${le.options.appId}`}class Le{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new rt(Ve),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var ne=this;return(0,h.Z)(function*(){const Ct=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=xe();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!ne._heartbeatsCache.heartbeats.some(yn=>yn.date===Rt))return ne._heartbeatsCache.heartbeats.push({date:Rt,agent:Ct}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(yn=>{const xt=new Date(yn.date).valueOf();return Date.now()-xt<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,h.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Ve=xe(),{heartbeatsToSend:Ct,unsentEntries:Rt}=function ht(le,ne=1024){const Ve=[];let Ct=le.slice();for(const Rt of le){const yn=Ve.find(xt=>xt.agent===Rt.agent);if(yn){if(yn.dates.push(Rt.date),Wt(Ve)>ne){yn.dates.pop();break}}else if(Ve.push({agent:Rt.agent,dates:[Rt.date]}),Wt(Ve)>ne){Ve.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:Ct}}(ne._heartbeatsCache.heartbeats),yn=(0,ee.L)(JSON.stringify({version:2,heartbeats:Ct}));return ne._heartbeatsCache.lastSentHeartbeatDate=Ve,Rt.length>0?(ne._heartbeatsCache.heartbeats=Rt,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),yn})()}}function xe(){return(new Date).toISOString().substring(0,10)}class rt{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,h.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function N(le){return x.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Ve=this;return(0,h.Z)(function*(){var Ct;if(yield Ve._canUseIndexedDBPromise){const yn=yield Ve.read();return Z(Ve.app,{lastSentHeartbeatDate:null!==(Ct=ne.lastSentHeartbeatDate)&&void 0!==Ct?Ct:yn.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Ve=this;return(0,h.Z)(function*(){var Ct;if(yield Ve._canUseIndexedDBPromise){const yn=yield Ve.read();return Z(Ve.app,{lastSentHeartbeatDate:null!==(Ct=ne.lastSentHeartbeatDate)&&void 0!==Ct?Ct:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...ne.heartbeats]})}})()}}function Wt(le){return(0,ee.L)(JSON.stringify({version:2,heartbeats:le})).length}!function on(le){kn(new j.wA("platform-logger",ne=>new at(ne),"PRIVATE")),kn(new j.wA("heartbeat",ne=>new Le(ne),"PRIVATE")),fr(_t,"0.9.9",le),fr(_t,"0.9.9","esm2017"),fr("fire-js","")}("")},4859:(Mt,Pe,O)=>{O.d(Pe,{H0:()=>_e,wA:()=>L,zt:()=>we});var h=O(5861),j=O(2090);class L{constructor(K,W,Q){this.name=K,this.instanceFactory=W,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ee="[DEFAULT]";class we{constructor(K,W){this.name=K,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const W=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(W)){const Q=new j.BH;if(this.instancesDeferred.set(W,Q),this.isInitialized(W)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:W});Oe&&Q.resolve(Oe)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(K){var W;const Q=this.normalizeInstanceIdentifier(K?.identifier),Oe=null!==(W=K?.optional)&&void 0!==W&&W;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(ke){if(Oe)return null;throw ke}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Ce(Ee){return"EAGER"===Ee.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[W,Q]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(W);try{const ke=this.getOrInitializeService({instanceIdentifier:Oe});Q.resolve(ke)}catch{}}}}clearInstance(K=ee){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,h.Z)(function*(){const W=Array.from(K.instances.values());yield Promise.all([...W.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...W.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ee){return this.instances.has(K)}getOptions(K=ee){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:W={}}=K,Q=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:Q,options:W});for(const[ke,$e]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(ke)&&$e.resolve(Oe);return Oe}onInit(K,W){var Q;const Oe=this.normalizeInstanceIdentifier(W),ke=null!==(Q=this.onInitCallbacks.get(Oe))&&void 0!==Q?Q:new Set;ke.add(K),this.onInitCallbacks.set(Oe,ke);const $e=this.instances.get(Oe);return $e&&K($e,Oe),()=>{ke.delete(K)}}invokeOnInitCallbacks(K,W){const Q=this.onInitCallbacks.get(W);if(Q)for(const Oe of Q)try{Oe(K,W)}catch{}}getOrInitializeService({instanceIdentifier:K,options:W={}}){let Q=this.instances.get(K);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=K,Ee===ee?void 0:Ee),options:W}),this.instances.set(K,Q),this.instancesOptions.set(K,W),this.invokeOnInitCallbacks(Q,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,Q)}catch{}var Ee;return Q||null}normalizeInstanceIdentifier(K=ee){return this.component?this.component.multipleInstances?K:ee:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const W=this.getProvider(K.name);if(W.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);W.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const W=new we(K,this);return this.providers.set(K,W),W}getProviders(){return Array.from(this.providers.values())}}},4727:(Mt,Pe,O)=>{var h=O(5861),j=O(6881),L=O(4859),ee=O(2090);const we=(H,te)=>te.some(be=>H instanceof be);let ie,Ce;const K=new WeakMap,W=new WeakMap,Q=new WeakMap,Oe=new WeakMap,ke=new WeakMap;let ve={get(H,te,be){if(H instanceof IDBTransaction){if("done"===te)return W.get(H);if("objectStoreNames"===te)return H.objectStoreNames||Q.get(H);if("store"===te)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return Se(H[te])},set:(H,te,be)=>(H[te]=be,!0),has:(H,te)=>H instanceof IDBTransaction&&("done"===te||"store"===te)||te in H};function qe(H){return"function"==typeof H?function Be(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...te){return H.apply(De(this),te),Se(K.get(this))}:function(...te){return Se(H.apply(De(this),te))}:function(te,...be){const it=H.call(De(this),te,...be);return Q.set(it,te.sort?te.sort():[te]),Se(it)}}(H):(H instanceof IDBTransaction&&function ft(H){if(W.has(H))return;const te=new Promise((be,it)=>{const En=()=>{H.removeEventListener("complete",cn),H.removeEventListener("error",mn),H.removeEventListener("abort",mn)},cn=()=>{be(),En()},mn=()=>{it(H.error||new DOMException("AbortError","AbortError")),En()};H.addEventListener("complete",cn),H.addEventListener("error",mn),H.addEventListener("abort",mn)});W.set(H,te)}(H),we(H,function _e(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,ve):H)}function Se(H){if(H instanceof IDBRequest)return function $e(H){const te=new Promise((be,it)=>{const En=()=>{H.removeEventListener("success",cn),H.removeEventListener("error",mn)},cn=()=>{be(Se(H.result)),En()},mn=()=>{it(H.error),En()};H.addEventListener("success",cn),H.addEventListener("error",mn)});return te.then(be=>{be instanceof IDBCursor&&K.set(be,H)}).catch(()=>{}),ke.set(te,H),te}(H);if(Oe.has(H))return Oe.get(H);const te=qe(H);return te!==H&&(Oe.set(H,te),ke.set(te,H)),te}const De=H=>ke.get(H),je=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],lt=new Map;function Ft(H,te){if(!(H instanceof IDBDatabase)||te in H||"string"!=typeof te)return;if(lt.get(te))return lt.get(te);const be=te.replace(/FromIndex$/,""),it=te!==be,En=ae.includes(be);if(!(be in(it?IDBIndex:IDBObjectStore).prototype)||!En&&!je.includes(be))return;const cn=function(){var mn=(0,h.Z)(function*(ir,...br){const hn=this.transaction(ir,En?"readwrite":"readonly");let Yr=hn.store;return it&&(Yr=Yr.index(br.shift())),(yield Promise.all([Yr[be](...br),En&&hn.done]))[0]});return function(br){return mn.apply(this,arguments)}}();return lt.set(te,cn),cn}!function Ne(H){ve=H(ve)}(H=>({...H,get:(te,be,it)=>Ft(te,be)||H.get(te,be,it),has:(te,be)=>!!Ft(te,be)||H.has(te,be)}));const at="@firebase/installations",rn="0.6.4",_t=1e4,me=`w:${rn}`,ye="FIS_v2",Ae="https://firebaseinstallations.googleapis.com/v1",Fe=36e5,ze=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zt(H){return H instanceof ee.ZR&&H.code.includes("request-failed")}function St({projectId:H}){return`${Ae}/projects/${H}/installations`}function Ut(H){return{token:H.token,requestStatus:2,expiresIn:Tr(H.expiresIn),creationTime:Date.now()}}function wt(H,te){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,h.Z)(function*(H,te){const it=(yield te.json()).error;return ze.create("request-failed",{requestName:H,serverCode:it.code,serverMessage:it.message,serverStatus:it.status})})).apply(this,arguments)}function Bn({apiKey:H}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H})}function dr(H){return zn.apply(this,arguments)}function zn(){return(zn=(0,h.Z)(function*(H){const te=yield H();return te.status>=500&&te.status<600?H():te})).apply(this,arguments)}function Tr(H){return Number(H.replace("s","000"))}function ar(){return(ar=(0,h.Z)(function*({appConfig:H,heartbeatServiceProvider:te},{fid:be}){const it=St(H),En=Bn(H),cn=te.getImmediate({optional:!0});if(cn){const hn=yield cn.getHeartbeatsHeader();hn&&En.append("x-firebase-client",hn)}const ir={method:"POST",headers:En,body:JSON.stringify({fid:be,authVersion:ye,appId:H.appId,sdkVersion:me})},br=yield dr(()=>fetch(it,ir));if(br.ok){const hn=yield br.json();return{fid:hn.fid||be,registrationStatus:2,refreshToken:hn.refreshToken,authToken:Ut(hn.authToken)}}throw yield wt("Create Installation",br)})).apply(this,arguments)}function ot(H){return new Promise(te=>{setTimeout(te,H)})}const ce=/^[cdef][\w-]{21}$/,st="";function Lt(){try{const H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;const be=function Vt(H){return function oe(H){return btoa(String.fromCharCode(...H)).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return ce.test(be)?be:st}catch{return st}}function Zt(H){return`${H.appName}!${H.appId}`}const Tn=new Map;function jt(H,te){const be=Zt(H);ut(be,te),function kn(H,te){const be=function Fn(){return!_n&&"BroadcastChannel"in self&&(_n=new BroadcastChannel("[Firebase] FID Change"),_n.onmessage=H=>{ut(H.data.key,H.data.fid)}),_n}();be&&be.postMessage({key:H,fid:te}),function Qn(){0===Tn.size&&_n&&(_n.close(),_n=null)}()}(be,te)}function ut(H,te){const be=Tn.get(H);if(be)for(const it of be)it(te)}let _n=null;const An="firebase-installations-database",Sn=1,Nt="firebase-installations-store";let lr=null;function Qt(){return lr||(lr=function Re(H,te,{blocked:be,upgrade:it,blocking:En,terminated:cn}={}){const mn=indexedDB.open(H,te),ir=Se(mn);return it&&mn.addEventListener("upgradeneeded",br=>{it(Se(mn.result),br.oldVersion,br.newVersion,Se(mn.transaction))}),be&&mn.addEventListener("blocked",()=>be()),ir.then(br=>{cn&&br.addEventListener("close",()=>cn()),En&&br.addEventListener("versionchange",()=>En())}).catch(()=>{}),ir}(An,Sn,{upgrade:(H,te)=>{0===te&&H.createObjectStore(Nt)}})),lr}function ci(H,te){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,h.Z)(function*(H,te){const be=Zt(H),En=(yield Qt()).transaction(Nt,"readwrite"),cn=En.objectStore(Nt),mn=yield cn.get(be);return yield cn.put(te,be),yield En.done,(!mn||mn.fid!==te.fid)&&jt(H,te.fid),te})).apply(this,arguments)}function sr(H){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(H){const te=Zt(H),it=(yield Qt()).transaction(Nt,"readwrite");yield it.objectStore(Nt).delete(te),yield it.done})).apply(this,arguments)}function fr(H,te){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(H,te){const be=Zt(H),En=(yield Qt()).transaction(Nt,"readwrite"),cn=En.objectStore(Nt),mn=yield cn.get(be),ir=te(mn);return void 0===ir?yield cn.delete(be):yield cn.put(ir,be),yield En.done,ir&&(!mn||mn.fid!==ir.fid)&&jt(H,ir.fid),ir})).apply(this,arguments)}function Sr(H){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,h.Z)(function*(H){let te;const be=yield fr(H.appConfig,it=>{const En=function ti(H){return Ie(H||{fid:Lt(),registrationStatus:0})}(it),cn=function G(H,te){if(0===te.registrationStatus){if(!navigator.onLine)return{installationEntry:te,registrationPromise:Promise.reject(ze.create("app-offline"))};const be={fid:te.fid,registrationStatus:1,registrationTime:Date.now()},it=function $(H,te){return R.apply(this,arguments)}(H,be);return{installationEntry:be,registrationPromise:it}}return 1===te.registrationStatus?{installationEntry:te,registrationPromise:N(H)}:{installationEntry:te}}(H,En);return te=cn.registrationPromise,cn.installationEntry});return be.fid===st?{installationEntry:yield te}:{installationEntry:be,registrationPromise:te}}),Mr.apply(this,arguments)}function R(){return R=(0,h.Z)(function*(H,te){try{const be=yield function Kr(H,te){return ar.apply(this,arguments)}(H,te);return ci(H.appConfig,be)}catch(be){throw zt(be)&&409===be.customData.serverCode?yield sr(H.appConfig):yield ci(H.appConfig,{fid:te.fid,registrationStatus:0}),be}}),R.apply(this,arguments)}function N(H){return x.apply(this,arguments)}function x(){return(x=(0,h.Z)(function*(H){let te=yield Z(H.appConfig);for(;1===te.registrationStatus;)yield ot(100),te=yield Z(H.appConfig);if(0===te.registrationStatus){const{installationEntry:be,registrationPromise:it}=yield Sr(H);return it||be}return te})).apply(this,arguments)}function Z(H){return fr(H,te=>{if(!te)throw ze.create("installation-not-found");return Ie(te)})}function Ie(H){return function Y(H){return 1===H.registrationStatus&&H.registrationTime+_t<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function he(){return(he=(0,h.Z)(function*({appConfig:H,heartbeatServiceProvider:te},be){const it=function Le(H,{fid:te}){return`${St(H)}/${te}/authTokens:generate`}(H,be),En=function Un(H,{refreshToken:te}){const be=Bn(H);return be.append("Authorization",function hr(H){return`${ye} ${H}`}(te)),be}(H,be),cn=te.getImmediate({optional:!0});if(cn){const hn=yield cn.getHeartbeatsHeader();hn&&En.append("x-firebase-client",hn)}const ir={method:"POST",headers:En,body:JSON.stringify({installation:{sdkVersion:me,appId:H.appId}})},br=yield dr(()=>fetch(it,ir));if(br.ok)return Ut(yield br.json());throw yield wt("Generate Auth Token",br)})).apply(this,arguments)}function xe(H){return ht.apply(this,arguments)}function ht(){return ht=(0,h.Z)(function*(H,te=!1){let be;const it=yield fr(H.appConfig,cn=>{if(!Ve(cn))throw ze.create("not-registered");const mn=cn.authToken;if(!te&&function Ct(H){return 2===H.requestStatus&&!function Rt(H){const te=Date.now();return te<H.creationTime||H.creationTime+H.expiresIn<te+Fe}(H)}(mn))return cn;if(1===mn.requestStatus)return be=function rt(H,te){return Wt.apply(this,arguments)}(H,te),cn;{if(!navigator.onLine)throw ze.create("app-offline");const ir=function yn(H){const te={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},H),{authToken:te})}(cn);return be=function le(H,te){return ne.apply(this,arguments)}(H,ir),ir}});return be?yield be:it.authToken}),ht.apply(this,arguments)}function Wt(){return(Wt=(0,h.Z)(function*(H,te){let be=yield on(H.appConfig);for(;1===be.authToken.requestStatus;)yield ot(100),be=yield on(H.appConfig);const it=be.authToken;return 0===it.requestStatus?xe(H,te):it})).apply(this,arguments)}function on(H){return fr(H,te=>{if(!Ve(te))throw ze.create("not-registered");return function xt(H){return 1===H.requestStatus&&H.requestTime+_t<Date.now()}(te.authToken)?Object.assign(Object.assign({},te),{authToken:{requestStatus:0}}):te})}function ne(){return ne=(0,h.Z)(function*(H,te){try{const be=yield function ue(H,te){return he.apply(this,arguments)}(H,te),it=Object.assign(Object.assign({},te),{authToken:be});return yield ci(H.appConfig,it),be}catch(be){if(!zt(be)||401!==be.customData.serverCode&&404!==be.customData.serverCode){const it=Object.assign(Object.assign({},te),{authToken:{requestStatus:0}});yield ci(H.appConfig,it)}else yield sr(H.appConfig);throw be}}),ne.apply(this,arguments)}function Ve(H){return void 0!==H&&2===H.registrationStatus}function bn(){return(bn=(0,h.Z)(function*(H){const te=H,{installationEntry:be,registrationPromise:it}=yield Sr(te);return it?it.catch(console.error):xe(te).catch(console.error),be.fid})).apply(this,arguments)}function pr(){return pr=(0,h.Z)(function*(H,te=!1){const be=H;return yield function _a(H){return ya.apply(this,arguments)}(be),(yield xe(be,te)).token}),pr.apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(H){const{registrationPromise:te}=yield Sr(H);te&&(yield te)})).apply(this,arguments)}function cs(H){return ze.create("missing-app-config-values",{valueName:H})}const Kn="installations",Ls=H=>{const te=H.getProvider("app").getImmediate(),be=function ni(H){if(!H||!H.options)throw cs("App Configuration");if(!H.name)throw cs("App Name");const te=["projectId","apiKey","appId"];for(const be of te)if(!H.options[be])throw cs(be);return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(te);return{app:te,appConfig:be,heartbeatServiceProvider:(0,j._getProvider)(te,"heartbeat"),_delete:()=>Promise.resolve()}},dn=H=>{const te=H.getProvider("app").getImmediate(),be=(0,j._getProvider)(te,Kn).getImmediate();return{getId:()=>function Ln(H){return bn.apply(this,arguments)}(be),getToken:En=>function Rr(H){return pr.apply(this,arguments)}(be,En)}};(function Fo(){(0,j._registerComponent)(new L.wA(Kn,Ls,"PUBLIC")),(0,j._registerComponent)(new L.wA("installations-internal",dn,"PRIVATE"))})(),(0,j.registerVersion)(at,rn),(0,j.registerVersion)(at,rn,"esm2017")},1877:(Mt,Pe,O)=>{O.d(Pe,{Am:()=>Ee,Ub:()=>_e,Yd:()=>Ce,in:()=>j});const h=[];var j=(()=>{return(K=j||(j={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",j;var K})();const L={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ee=j.INFO,we={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ie=(K,W,...Q)=>{if(W<K.logLevel)return;const Oe=(new Date).toISOString(),ke=we[W];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[ke](`[${Oe}]  ${K.name}:`,...Q)};class Ce{constructor(W){this.name=W,this._logLevel=ee,this._logHandler=ie,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in j))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?L[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...W),this._logHandler(this,j.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...W),this._logHandler(this,j.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,j.INFO,...W),this._logHandler(this,j.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,j.WARN,...W),this._logHandler(this,j.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...W),this._logHandler(this,j.ERROR,...W)}}function _e(K){h.forEach(W=>{W.setLogLevel(K)})}function Ee(K,W){for(const Q of h){let Oe=null;W&&W.level&&(Oe=L[W.level]),Q.userLogHandler=null===K?null:(ke,$e,...ft)=>{const ve=ft.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");$e>=(Oe??ke.logLevel)&&K({level:j[$e].toLowerCase(),message:ve,args:ft,type:ke.name})}}}},3008:(Mt,Pe,O)=>{O.d(Pe,{IH:()=>ci,Gb:()=>sr,Kz:()=>R,Iv:()=>Mr});var h=O(5861),j=O(6881),L=O(1877),ee=O(2090),we=O(4859);O(4727);const Ce="analytics",_e="firebase_id",Ee="origin",K=6e4,W="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q="https://www.googletagmanager.com/gtag/js",Oe=new L.Yd("@firebase/analytics"),$e=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ft(Y){if(!Y.startsWith(Q)){const ue=$e.create("invalid-gtag-resource",{gtagURL:Y});return Oe.warn(ue.message),""}return Y}function ve(Y){return Promise.all(Y.map(ue=>ue.catch(he=>he)))}function De(){return(De=(0,h.Z)(function*(Y,ue,he,Le,xe,ht){const rt=Le[xe];try{if(rt)yield ue[rt];else{const on=(yield ve(he)).find(le=>le.measurementId===xe);on&&(yield ue[on.appId])}}catch(Wt){Oe.error(Wt)}Y("config",xe,ht)})).apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(Y,ue,he,Le,xe){try{let ht=[];if(xe&&xe.send_to){let rt=xe.send_to;Array.isArray(rt)||(rt=[rt]);const Wt=yield ve(he);for(const on of rt){const le=Wt.find(Ve=>Ve.measurementId===on),ne=le&&ue[le.appId];if(!ne){ht=[];break}ht.push(ne)}}0===ht.length&&(ht=Object.values(ue)),yield Promise.all(ht),Y("event",Le,xe||{})}catch(ht){Oe.error(ht)}})).apply(this,arguments)}const Ft=30,_t=new class rn{constructor(ue={},he=1e3){this.throttleMetadata=ue,this.intervalMillis=he}getThrottleMetadata(ue){return this.throttleMetadata[ue]}setThrottleMetadata(ue,he){this.throttleMetadata[ue]=he}deleteThrottleMetadata(ue){delete this.throttleMetadata[ue]}};function me(Y){return new Headers({Accept:"application/json","x-goog-api-key":Y})}function Ae(){return(Ae=(0,h.Z)(function*(Y){var ue;const{appId:he,apiKey:Le}=Y,xe={method:"GET",headers:me(Le)},ht=W.replace("{app-id}",he),rt=yield fetch(ht,xe);if(200!==rt.status&&304!==rt.status){let Wt="";try{const on=yield rt.json();null!==(ue=on.error)&&void 0!==ue&&ue.message&&(Wt=on.error.message)}catch{}throw $e.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Wt})}return rt.json()})).apply(this,arguments)}function Je(){return(Je=(0,h.Z)(function*(Y,ue=_t,he){const{appId:Le,apiKey:xe,measurementId:ht}=Y.options;if(!Le)throw $e.create("no-app-id");if(!xe){if(ht)return{measurementId:ht,appId:Le};throw $e.create("no-api-key")}const rt=ue.getThrottleMetadata(Le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wt=new St;return setTimeout((0,h.Z)(function*(){Wt.abort()}),void 0!==he?he:K),Ye({appId:Le,apiKey:xe,measurementId:ht},rt,Wt,ue)})).apply(this,arguments)}function Ye(Y,ue,he){return Et.apply(this,arguments)}function Et(){return Et=(0,h.Z)(function*(Y,{throttleEndTimeMillis:ue,backoffCount:he},Le,xe=_t){var ht;const{appId:rt,measurementId:Wt}=Y;try{yield function ze(Y,ue){return new Promise((he,Le)=>{const xe=Math.max(ue-Date.now(),0),ht=setTimeout(he,xe);Y.addEventListener(()=>{clearTimeout(ht),Le($e.create("fetch-throttle",{throttleEndTimeMillis:ue}))})})}(Le,ue)}catch(on){if(Wt)return Oe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${on?.message}]`),{appId:rt,measurementId:Wt};throw on}try{const on=yield function ye(Y){return Ae.apply(this,arguments)}(Y);return xe.deleteThrottleMetadata(rt),on}catch(on){const le=on;if(!function zt(Y){if(!(Y instanceof ee.ZR&&Y.customData))return!1;const ue=Number(Y.customData.httpStatus);return 429===ue||500===ue||503===ue||504===ue}(le)){if(xe.deleteThrottleMetadata(rt),Wt)return Oe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${le?.message}]`),{appId:rt,measurementId:Wt};throw on}const ne=503===Number(null===(ht=le?.customData)||void 0===ht?void 0:ht.httpStatus)?(0,ee.$s)(he,xe.intervalMillis,Ft):(0,ee.$s)(he,xe.intervalMillis),Ve={throttleEndTimeMillis:Date.now()+ne,backoffCount:he+1};return xe.setThrottleMetadata(rt,Ve),Oe.debug(`Calling attemptFetch again in ${ne} millis`),Ye(Y,Ve,Le,xe)}}),Et.apply(this,arguments)}class St{constructor(){this.listeners=[]}addEventListener(ue){this.listeners.push(ue)}abort(){this.listeners.forEach(ue=>ue())}}let Ut,ce;function Kt(){return(Kt=(0,h.Z)(function*(Y,ue,he,Le,xe){if(xe&&xe.global)Y("event",he,Le);else{const ht=yield ue;Y("event",he,Object.assign(Object.assign({},Le),{send_to:ht}))}})).apply(this,arguments)}function zn(){return(zn=(0,h.Z)(function*(Y,ue,he,Le){if(Le&&Le.global)return Y("set",{user_id:he}),Promise.resolve();Y("config",yield ue,{update:!0,user_id:he})})).apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(){if(!(0,ee.hl)())return Oe.warn($e.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(Y){return Oe.warn($e.create("indexeddb-unavailable",{errorInfo:Y?.toString()}).message),!1}return!0})).apply(this,arguments)}function jt(){return jt=(0,h.Z)(function*(Y,ue,he,Le,xe,ht,rt){var Wt;const on=function Fe(Y){return Je.apply(this,arguments)}(Y);on.then(Rt=>{he[Rt.measurementId]=Rt.appId,Y.options.measurementId&&Rt.measurementId!==Y.options.measurementId&&Oe.warn(`The measurement ID in the local Firebase config (${Y.options.measurementId}) does not match the measurement ID fetched from the server (${Rt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Rt=>Oe.error(Rt)),ue.push(on);const le=function Vt(){return Zt.apply(this,arguments)}().then(Rt=>{if(Rt)return Le.getId()}),[ne,Ve]=yield Promise.all([on,le]);(function lt(Y){const ue=window.document.getElementsByTagName("script");for(const he of Object.values(ue))if(he.src&&he.src.includes(Q)&&he.src.includes(Y))return he;return null})(ht)||function Be(Y,ue){const he=function Ne(Y,ue){let he;return window.trustedTypes&&(he=window.trustedTypes.createPolicy(Y,ue)),he}("firebase-js-sdk-policy",{createScriptURL:ft}),Le=document.createElement("script"),xe=`${Q}?l=${Y}&id=${ue}`;Le.src=he?he?.createScriptURL(xe):xe,Le.async=!0,document.head.appendChild(Le)}(ht,ne.measurementId),ce&&(xe("consent","default",ce),function st(Y){ce=Y}(void 0)),xe("js",new Date);const Ct=null!==(Wt=rt?.config)&&void 0!==Wt?Wt:{};return Ct[Ee]="firebase",Ct.update=!0,null!=Ve&&(Ct[_e]=Ve),xe("config",ne.measurementId,Ct),Ut&&(xe("set",Ut),function Lt(Y){Ut=Y}(void 0)),ne.measurementId}),jt.apply(this,arguments)}class At{constructor(ue){this.app=ue}_delete(){return delete et[this.app.options.appId],Promise.resolve()}}let et={},ut=[];const kn={};let Qn,An,_n="dataLayer",Fn="gtag",Sn=!1;function Qt(Y,ue,he){!function lr(){const Y=[];if((0,ee.ru)()&&Y.push("This is a browser extension environment."),(0,ee.zI)()||Y.push("Cookies are not available."),Y.length>0){const ue=Y.map((Le,xe)=>`(${xe+1}) ${Le}`).join(" "),he=$e.create("invalid-analytics-context",{errorInfo:ue});Oe.warn(he.message)}}();const Le=Y.options.appId;if(!Le)throw $e.create("no-app-id");if(!Y.options.apiKey){if(!Y.options.measurementId)throw $e.create("no-api-key");Oe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Y.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=et[Le])throw $e.create("already-exists",{id:Le});if(!Sn){!function qe(Y){let ue=[];Array.isArray(window[Y])?ue=window[Y]:window[Y]=ue}(_n);const{wrappedGtag:ht,gtagCore:rt}=function ae(Y,ue,he,Le,xe){let ht=function(...rt){window[Le].push(arguments)};return window[xe]&&"function"==typeof window[xe]&&(ht=window[xe]),window[xe]=function je(Y,ue,he,Le){function ht(){return ht=(0,h.Z)(function*(rt,...Wt){try{if("event"===rt){const[on,le]=Wt;yield function Re(Y,ue,he,Le,xe){return Ze.apply(this,arguments)}(Y,ue,he,on,le)}else if("config"===rt){const[on,le]=Wt;yield function Se(Y,ue,he,Le,xe,ht){return De.apply(this,arguments)}(Y,ue,he,Le,on,le)}else if("consent"===rt){const[on]=Wt;Y("consent","update",on)}else if("get"===rt){const[on,le,ne]=Wt;Y("get",on,le,ne)}else if("set"===rt){const[on]=Wt;Y("set",on)}else Y(rt,...Wt)}catch(on){Oe.error(on)}}),ht.apply(this,arguments)}return function xe(rt){return ht.apply(this,arguments)}}(ht,Y,ue,he),{gtagCore:ht,wrappedGtag:window[xe]}}(et,ut,kn,_n,Fn);An=ht,Qn=rt,Sn=!0}return et[Le]=function Tn(Y,ue,he,Le,xe,ht,rt){return jt.apply(this,arguments)}(Y,ut,kn,ue,Qn,_n,he),new At(Y)}function ci(Y=(0,j.getApp)()){Y=(0,ee.m9)(Y);const ue=(0,j._getProvider)(Y,Ce);return ue.isInitialized()?ue.getImmediate():function Jt(Y,ue={}){const he=(0,j._getProvider)(Y,Ce);if(he.isInitialized()){const xe=he.getImmediate();if((0,ee.vZ)(ue,he.getOptions()))return xe;throw $e.create("already-initialized")}return he.initialize({options:ue})}(Y)}function sr(){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}function Mr(Y,ue,he){Y=(0,ee.m9)(Y),function dr(Y,ue,he,Le){return zn.apply(this,arguments)}(An,et[Y.app.options.appId],ue,he).catch(Le=>Oe.error(Le))}function R(Y,ue,he,Le){Y=(0,ee.m9)(Y),function wt(Y,ue,he,Le,xe){return Kt.apply(this,arguments)}(An,et[Y.app.options.appId],ue,he,Le).catch(xe=>Oe.error(xe))}const x="@firebase/analytics",Z="0.10.0";!function Ie(){(0,j._registerComponent)(new we.wA(Ce,(ue,{options:he})=>Qt(ue.getProvider("app").getImmediate(),ue.getProvider("installations-internal").getImmediate(),he),"PUBLIC")),(0,j._registerComponent)(new we.wA("analytics-internal",function Y(ue){try{const he=ue.getProvider(Ce).getImmediate();return{logEvent:(Le,xe,ht)=>R(he,Le,xe,ht)}}catch(he){throw $e.create("interop-component-reg-failed",{reason:he})}},"PRIVATE")),(0,j.registerVersion)(x,Z),(0,j.registerVersion)(x,Z,"esm2017")}()},259:(Mt,Pe,O)=>{O.d(Pe,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=O(6881);(0,h.registerVersion)("firebase","9.21.0","app")},9260:(Mt,Pe,O)=>{O.d(Pe,{Z:()=>h.Z});var h=O(3942);h.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(Mt,Pe,O)=>{O.r(Pe);var h=O(5861),j=O(3942),L=O(8502),ee=O(2090),Ce=(O(6881),O(1877),O(4859));function _e(){return window}const Ee=2e3;function W(){return W=(0,h.Z)(function*(R,N,x){var Z;const{BuildInfo:Ie}=_e();(0,L.as)(N.sessionId,"AuthEvent did not contain a session ID");const Y=yield function Ne(R){return Be.apply(this,arguments)}(N.sessionId),ue={};return(0,L.at)()?ue.ibi=Ie.packageName:(0,L.au)()?ue.apn=Ie.packageName:(0,L.av)(R,"operation-not-supported-in-this-environment"),Ie.displayName&&(ue.appDisplayName=Ie.displayName),ue.sessionId=Y,(0,L.aw)(R,x,N.type,void 0,null!==(Z=N.eventId)&&void 0!==Z?Z:void 0,ue)}),W.apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*(R){const{BuildInfo:N}=_e(),x={};(0,L.at)()?x.iosBundleId=N.packageName:(0,L.au)()?x.androidPackageName=N.packageName:(0,L.av)(R,"operation-not-supported-in-this-environment"),yield(0,L.ax)(R,x)})).apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(R,N,x){const{cordova:Z}=_e();let Ie=()=>{};try{yield new Promise((Y,ue)=>{let he=null;function Le(){var rt;Y();const Wt=null===(rt=Z.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Wt&&Wt(),"function"==typeof x?.close&&x.close()}function xe(){he||(he=window.setTimeout(()=>{ue((0,L.az)(R,"redirect-cancelled-by-user"))},Ee))}function ht(){"visible"===document?.visibilityState&&xe()}N.addPassiveListener(Le),document.addEventListener("resume",xe,!1),(0,L.au)()&&document.addEventListener("visibilitychange",ht,!1),Ie=()=>{N.removePassiveListener(Le),document.removeEventListener("resume",xe,!1),document.removeEventListener("visibilitychange",ht,!1),he&&window.clearTimeout(he)}})}finally{Ie()}})).apply(this,arguments)}function Be(){return(Be=(0,h.Z)(function*(R){const N=function qe(R){if((0,L.as)(/[0-9a-zA-Z]+/.test(R),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(R);const N=new ArrayBuffer(R.length),x=new Uint8Array(N);for(let Z=0;Z<R.length;Z++)x[Z]=R.charCodeAt(Z);return x}(R),x=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(x)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Se=20;class De extends L.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(x=>x(N)),super.onEvent(N)}initialized(){var N=this;return(0,h.Z)(function*(){yield N.initPromise})()}}function je(R){return ae.apply(this,arguments)}function ae(){return(ae=(0,h.Z)(function*(R){const N=yield at()._get(rn(R));return N&&(yield at()._remove(rn(R))),N})).apply(this,arguments)}function Ft(){const R=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<Se;x++){const Z=Math.floor(Math.random()*N.length);R.push(N.charAt(Z))}return R.join("")}function at(){return(0,L.aC)(L.b)}function rn(R){return(0,L.aD)("authEvent",R.config.apiKey,R.name)}function ye(R){if(!R?.includes("?"))return{};const[N,...x]=R.split("?");return(0,ee.zd)(x.join("?"))}const Je=class Fe{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aE,this._overrideRedirectResult=L.aF}_initialize(N){var x=this;return(0,h.Z)(function*(){const Z=N._key();let Ie=x.eventManagers.get(Z);return Ie||(Ie=new De(N),x.eventManagers.set(Z,Ie),x.attachCallbackListeners(N,Ie)),Ie})()}_openPopup(N){(0,L.av)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,x,Z,Ie){var Y=this;return(0,h.Z)(function*(){!function ve(R){var N,x,Z,Ie,Y,ue,he,Le,xe,ht;const rt=_e();(0,L.aA)("function"==typeof(null===(N=rt?.universalLinks)||void 0===N?void 0:N.subscribe),R,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aA)(typeof(null===(x=rt?.BuildInfo)||void 0===x?void 0:x.packageName)<"u",R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aA)("function"==typeof(null===(Y=null===(Ie=null===(Z=rt?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===Y?void 0:Y.openUrl),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aA)("function"==typeof(null===(Le=null===(he=null===(ue=rt?.cordova)||void 0===ue?void 0:ue.plugins)||void 0===he?void 0:he.browsertab)||void 0===Le?void 0:Le.isAvailable),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aA)("function"==typeof(null===(ht=null===(xe=rt?.cordova)||void 0===xe?void 0:xe.InAppBrowser)||void 0===ht?void 0:ht.open),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const ue=yield Y._initialize(N);yield ue.initialized(),ue.resetRedirect(),(0,L.aG)(),yield Y._originValidation(N);const he=function Re(R,N,x=null){return{type:N,eventId:x,urlResponse:null,sessionId:Ft(),postBody:null,tenantId:R.tenantId,error:(0,L.az)(R,"no-auth-event")}}(N,Z,Ie);yield function Ze(R,N){return at()._set(rn(R),N)}(N,he);const Le=yield function K(R,N,x){return W.apply(this,arguments)}(N,he,x),xe=yield function ke(R){const{cordova:N}=_e();return new Promise(x=>{N.plugins.browsertab.isAvailable(Z=>{let Ie=null;Z?N.plugins.browsertab.openUrl(R):Ie=N.InAppBrowser.open(R,(0,L.ay)()?"_blank":"_system","location=yes"),x(Ie)})})}(Le);return function $e(R,N,x){return ft.apply(this,arguments)}(N,ue,xe)})()}_isIframeWebStorageSupported(N,x){throw new Error("Method not implemented.")}_originValidation(N){const x=N._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function Q(R){return Oe.apply(this,arguments)}(N)),this.originValidationPromises[x]}attachCallbackListeners(N,x){const{universalLinks:Z,handleOpenURL:Ie,BuildInfo:Y}=_e(),ue=setTimeout((0,h.Z)(function*(){yield je(N),x.onEvent(Ye())}),500),he=function(){var ht=(0,h.Z)(function*(rt){clearTimeout(ue);const Wt=yield je(N);let on=null;Wt&&rt?.url&&(on=function lt(R,N){var x,Z;const Ie=function me(R){const N=ye(R),x=N.link?decodeURIComponent(N.link):void 0,Z=ye(x).link,Ie=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return ye(Ie).link||Ie||Z||x||R}(N);if(Ie.includes("/__/auth/callback")){const Y=ye(Ie),ue=Y.firebaseError?function _t(R){try{return JSON.parse(R)}catch{return null}}(decodeURIComponent(Y.firebaseError)):null,he=null===(Z=null===(x=ue?.code)||void 0===x?void 0:x.split("auth/"))||void 0===Z?void 0:Z[1],Le=he?(0,L.az)(he):null;return Le?{type:R.type,eventId:R.eventId,tenantId:R.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:R.type,eventId:R.eventId,tenantId:R.tenantId,sessionId:R.sessionId,urlResponse:Ie,postBody:null}}return null}(Wt,rt.url)),x.onEvent(on||Ye())});return function(Wt){return ht.apply(this,arguments)}}();typeof Z<"u"&&"function"==typeof Z.subscribe&&Z.subscribe(null,he);const Le=Ie,xe=`${Y.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var ht=(0,h.Z)(function*(rt){if(rt.toLowerCase().startsWith(xe)&&he({url:rt}),"function"==typeof Le)try{Le(rt)}catch(Wt){console.error(Wt)}});return function(rt){return ht.apply(this,arguments)}}()}};function Ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.az)("no-auth-event")}}const St=1e3;function Ut(){var R;return(null===(R=self?.location)||void 0===R?void 0:R.protocol)||null}function Kt(R=(0,ee.z$)()){return!("file:"!==Ut()&&"ionic:"!==Ut()&&"capacitor:"!==Ut()||!R.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tr(){try{const R=self.localStorage,N=L.aL();if(R)return R.setItem(N,"1"),R.removeItem(N),!function zn(R=(0,ee.z$)()){return function Un(){return(0,ee.w1)()&&11===document?.documentMode}()||function dr(R=(0,ee.z$)()){return/Edge\/\d+/.test(R)}(R)}()||(0,ee.hl)()}catch{return hr()&&(0,ee.hl)()}return!1}function hr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kr(){return(function wt(){return"http:"===Ut()||"https:"===Ut()}()||(0,ee.ru)()||Kt())&&!function Bn(){return(0,ee.b$)()||(0,ee.UG)()}()&&Tr()&&!hr()}function ar(){return Kt()&&typeof document<"u"}function oe(){return(oe=(0,h.Z)(function*(){return!!ar()&&new Promise(R=>{const N=setTimeout(()=>{R(!1)},St);document.addEventListener("deviceready",()=>{clearTimeout(N),R(!0)})})})).apply(this,arguments)}const st={LOCAL:"local",NONE:"none",SESSION:"session"},Lt=L.aA,Vt="persistence";function Tn(R){return jt.apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(R){yield R._initializationPromise;const N=et(),x=L.aD(Vt,R.config.apiKey,R.name);N&&N.setItem(x,R._getPersistence())})).apply(this,arguments)}function et(){var R;try{return(null===(R=function ce(){return typeof window<"u"?window:null}())||void 0===R?void 0:R.sessionStorage)||null}catch{return null}}const ut=L.aA;class kn{constructor(){this.browserResolver=L.aC(L.k),this.cordovaResolver=L.aC(Je),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aE,this._overrideRedirectResult=L.aF}_initialize(N){var x=this;return(0,h.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,x,Z,Ie){var Y=this;return(0,h.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(N,x,Z,Ie)})()}_openRedirect(N,x,Z,Ie){var Y=this;return(0,h.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(N,x,Z,Ie)})()}_isIframeWebStorageSupported(N,x){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,x)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return ar()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,h.Z)(function*(){if(N.underlyingResolver)return;const x=yield function ot(){return oe.apply(this,arguments)}();N.underlyingResolver=x?N.cordovaResolver:N.browserResolver})()}}function _n(R){return R.unwrap()}function Qn(R){return Sn(R)}function Sn(R){const{_tokenResponse:N}=R instanceof ee.ZR?R.customData:R;if(!N)return null;if(!(R instanceof ee.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return L.P.credentialFromResult(R);const x=N.providerId;if(!x||x===L.p.PASSWORD)return null;let Z;switch(x){case L.p.GOOGLE:Z=L.V;break;case L.p.FACEBOOK:Z=L.U;break;case L.p.GITHUB:Z=L.W;break;case L.p.TWITTER:Z=L.Z;break;default:const{oauthIdToken:Ie,oauthAccessToken:Y,oauthTokenSecret:ue,pendingToken:he,nonce:Le}=N;return Y||ue||Ie||he?he?x.startsWith("saml.")?L.aO._create(x,he):L.L._fromParams({providerId:x,signInMethod:x,pendingToken:he,idToken:Ie,accessToken:Y}):new L.X(x).credential({idToken:Ie,accessToken:Y,rawNonce:Le}):null}return R instanceof ee.ZR?Z.credentialFromError(R):Z.credentialFromResult(R)}function Nt(R,N){return N.catch(x=>{throw x instanceof ee.ZR&&function An(R,N){var x;const Z=null===(x=N.customData)||void 0===x?void 0:x._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new ci(R,L.aq(R,N));else if(Z){const Ie=Sn(N),Y=N;Ie&&(Y.credential=Ie,Y.tenantId=Z.tenantId||void 0,Y.email=Z.email||void 0,Y.phoneNumber=Z.phoneNumber||void 0)}}(R,x),x}).then(x=>{const Ie=x.user;return{operationType:x.operationType,credential:Qn(x),additionalUserInfo:L.ao(x),user:Jt.getOrCreate(Ie)}})}function lr(R,N){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(R,N){const x=yield N;return{verificationId:x.verificationId,confirm:Z=>Nt(R,x.confirm(Z))}})).apply(this,arguments)}class ci{constructor(N,x){this.resolver=x,this.auth=function Fn(R){return R.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Nt(_n(this.auth),this.resolver.resolveSignIn(N))}}class Jt{constructor(N){this._delegate=N,this.multiFactor=L.ar(N)}static getOrCreate(N){return Jt.USER_MAP.has(N)||Jt.USER_MAP.set(N,new Jt(N)),Jt.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var x=this;return(0,h.Z)(function*(){return Nt(x.auth,L.a0(x._delegate,N))})()}linkWithPhoneNumber(N,x){var Z=this;return(0,h.Z)(function*(){return lr(Z.auth,L.l(Z._delegate,N,x))})()}linkWithPopup(N){var x=this;return(0,h.Z)(function*(){return Nt(x.auth,L.d(x._delegate,N,kn))})()}linkWithRedirect(N){var x=this;return(0,h.Z)(function*(){return yield Tn(L.aH(x.auth)),L.g(x._delegate,N,kn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var x=this;return(0,h.Z)(function*(){return Nt(x.auth,L.a1(x._delegate,N))})()}reauthenticateWithPhoneNumber(N,x){return lr(this.auth,L.r(this._delegate,N,x))}reauthenticateWithPopup(N){return Nt(this.auth,L.e(this._delegate,N,kn))}reauthenticateWithRedirect(N){var x=this;return(0,h.Z)(function*(){return yield Tn(L.aH(x.auth)),L.h(x._delegate,N,kn)})()}sendEmailVerification(N){return L.ae(this._delegate,N)}unlink(N){var x=this;return(0,h.Z)(function*(){return yield L.an(x._delegate,N),x})()}updateEmail(N){return L.aj(this._delegate,N)}updatePassword(N){return L.ak(this._delegate,N)}updatePhoneNumber(N){return L.u(this._delegate,N)}updateProfile(N){return L.ai(this._delegate,N)}verifyBeforeUpdateEmail(N,x){return L.af(this._delegate,N,x)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jt.USER_MAP=new WeakMap;const sr=L.aA;let Hn=(()=>{class R{constructor(x,Z){if(this.app=x,Z.isInitialized())return this._delegate=Z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=x.options;sr(Ie,"invalid-api-key",{appName:x.name}),sr(Ie,"invalid-api-key",{appName:x.name});const Y=typeof window<"u"?kn:void 0;this._delegate=Z.initialize({options:{persistence:nr(Ie,x.name),popupRedirectResolver:Y}}),this._delegate._updateErrorMap(L.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(x){this._delegate.languageCode=x}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(x){this._delegate.tenantId=x}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(x,Z){L.I(this._delegate,x,Z)}applyActionCode(x){return L.a5(this._delegate,x)}checkActionCode(x){return L.a6(this._delegate,x)}confirmPasswordReset(x,Z){return L.a4(this._delegate,x,Z)}createUserWithEmailAndPassword(x,Z){var Ie=this;return(0,h.Z)(function*(){return Nt(Ie._delegate,L.a8(Ie._delegate,x,Z))})()}fetchProvidersForEmail(x){return this.fetchSignInMethodsForEmail(x)}fetchSignInMethodsForEmail(x){return L.ad(this._delegate,x)}isSignInWithEmailLink(x){return L.ab(this._delegate,x)}getRedirectResult(){var x=this;return(0,h.Z)(function*(){sr(Kr(),x._delegate,"operation-not-supported-in-this-environment");const Z=yield L.j(x._delegate,kn);return Z?Nt(x._delegate,Promise.resolve(Z)):{credential:null,user:null}})()}addFrameworkForLogging(x){!function Et(R,N){(0,L.aH)(R)._logFramework(N)}(this._delegate,x)}onAuthStateChanged(x,Z,Ie){const{next:Y,error:ue,complete:he}=fr(x,Z,Ie);return this._delegate.onAuthStateChanged(Y,ue,he)}onIdTokenChanged(x,Z,Ie){const{next:Y,error:ue,complete:he}=fr(x,Z,Ie);return this._delegate.onIdTokenChanged(Y,ue,he)}sendSignInLinkToEmail(x,Z){return L.aa(this._delegate,x,Z)}sendPasswordResetEmail(x,Z){return L.a3(this._delegate,x,Z||void 0)}setPersistence(x){var Z=this;return(0,h.Z)(function*(){let Ie;switch(function Zt(R,N){Lt(Object.values(st).includes(N),R,"invalid-persistence-type"),(0,ee.b$)()?Lt(N!==st.SESSION,R,"unsupported-persistence-type"):(0,ee.UG)()?Lt(N===st.NONE,R,"unsupported-persistence-type"):hr()?Lt(N===st.NONE||N===st.LOCAL&&(0,ee.hl)(),R,"unsupported-persistence-type"):Lt(N===st.NONE||Tr(),R,"unsupported-persistence-type")}(Z._delegate,x),x){case st.SESSION:Ie=L.a;break;case st.LOCAL:Ie=(yield L.aC(L.i)._isAvailable())?L.i:L.b;break;case st.NONE:Ie=L.N;break;default:return L.av("argument-error",{appName:Z._delegate.name})}return Z._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(x){return this.signInWithCredential(x)}signInAnonymously(){return Nt(this._delegate,L._(this._delegate))}signInWithCredential(x){return Nt(this._delegate,L.$(this._delegate,x))}signInWithCustomToken(x){return Nt(this._delegate,L.a2(this._delegate,x))}signInWithEmailAndPassword(x,Z){return Nt(this._delegate,L.a9(this._delegate,x,Z))}signInWithEmailLink(x,Z){return Nt(this._delegate,L.ac(this._delegate,x,Z))}signInWithPhoneNumber(x,Z){return lr(this._delegate,L.s(this._delegate,x,Z))}signInWithPopup(x){var Z=this;return(0,h.Z)(function*(){return sr(Kr(),Z._delegate,"operation-not-supported-in-this-environment"),Nt(Z._delegate,L.c(Z._delegate,x,kn))})()}signInWithRedirect(x){var Z=this;return(0,h.Z)(function*(){return sr(Kr(),Z._delegate,"operation-not-supported-in-this-environment"),yield Tn(Z._delegate),L.f(Z._delegate,x,kn)})()}updateCurrentUser(x){return this._delegate.updateCurrentUser(x)}verifyPasswordResetCode(x){return L.a7(this._delegate,x)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return R.Persistence=st,R})();function fr(R,N,x){let Z=R;"function"!=typeof R&&({next:Z,error:N,complete:x}=R);const Ie=Z;return{next:ue=>Ie(ue&&Jt.getOrCreate(ue)),error:N,complete:x}}function nr(R,N){const x=function At(R,N){const x=et();if(!x)return[];const Z=L.aD(Vt,R,N);switch(x.getItem(Z)){case st.NONE:return[L.N];case st.LOCAL:return[L.i,L.a];case st.SESSION:return[L.a];default:return[]}}(R,N);if(typeof self<"u"&&!x.includes(L.i)&&x.push(L.i),typeof window<"u")for(const Z of[L.b,L.a])x.includes(Z)||x.push(Z);return x.includes(L.N)||x.push(L.N),x}class Sr{constructor(){this.providerId="phone",this._delegate=new L.P(_n(j.Z.auth()))}static credential(N,x){return L.P.credential(N,x)}verifyPhoneNumber(N,x){return this._delegate.verifyPhoneNumber(N,x)}unwrap(){return this._delegate}}Sr.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,Sr.PROVIDER_ID=L.P.PROVIDER_ID;const Mr=L.aA;class ti{constructor(N,x,Z=j.Z.app()){var Ie;Mr(null===(Ie=Z.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:Z.name}),this._delegate=new L.R(N,x,Z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(R){R.INTERNAL.registerComponent(new Ce.wA("auth-compat",N=>{const x=N.getProvider("app-compat").getImmediate(),Z=N.getProvider("auth");return new Hn(x,Z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.Q,FacebookAuthProvider:L.U,GithubAuthProvider:L.W,GoogleAuthProvider:L.V,OAuthProvider:L.X,SAMLAuthProvider:L.Y,PhoneAuthProvider:Sr,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:ti,TwitterAuthProvider:L.Z,Auth:Hn,AuthCredential:L.J,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.4.1")}(j.Z)},4880:(Mt,Pe,O)=>{O.d(Pe,{sN:()=>Be,Gb:()=>Kr});var h=O(5861),j=O(6881),L=O(2090),ee=O(4859),we=O(1877);O(4727);const Ce="@firebase/remote-config",K="remote-config",Q=new L.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Be(ot=(0,j.getApp)()){return ot=(0,L.m9)(ot),(0,j._getProvider)(ot,K).getImmediate()}class me{constructor(oe,ce,st,Lt){this.client=oe,this.storage=ce,this.storageCache=st,this.logger=Lt}isCachedDataFresh(oe,ce){if(!ce)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const st=Date.now()-ce,Lt=st<=oe;return this.logger.debug(`Config fetch cache check. Cache age millis: ${st}. Cache max age millis (minimumFetchIntervalMillis setting): ${oe}. Is cache hit: ${Lt}.`),Lt}fetch(oe){var ce=this;return(0,h.Z)(function*(){const[st,Lt]=yield Promise.all([ce.storage.getLastSuccessfulFetchTimestampMillis(),ce.storage.getLastSuccessfulFetchResponse()]);if(Lt&&ce.isCachedDataFresh(oe.cacheMaxAgeMillis,st))return Lt;oe.eTag=Lt&&Lt.eTag;const Vt=yield ce.client.fetch(oe),Zt=[ce.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Vt.status&&Zt.push(ce.storage.setLastSuccessfulFetchResponse(Vt)),yield Promise.all(Zt),Vt})()}}function ye(ot=navigator){return ot.languages&&ot.languages[0]||ot.language}class Ae{constructor(oe,ce,st,Lt,Vt,Zt){this.firebaseInstallations=oe,this.sdkVersion=ce,this.namespace=st,this.projectId=Lt,this.apiKey=Vt,this.appId=Zt}fetch(oe){var ce=this;return(0,h.Z)(function*(){const[st,Lt]=yield Promise.all([ce.firebaseInstallations.getId(),ce.firebaseInstallations.getToken()]),Zt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ce.projectId}/namespaces/${ce.namespace}:fetch?key=${ce.apiKey}`,Tn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":oe.eTag||"*"},jt={sdk_version:ce.sdkVersion,app_instance_id:st,app_instance_id_token:Lt,app_id:ce.appId,language_code:ye()},At={method:"POST",headers:Tn,body:JSON.stringify(jt)},et=fetch(Zt,At),ut=new Promise((Sn,Nt)=>{oe.signal.addEventListener(()=>{const lr=new Error("The operation was aborted.");lr.name="AbortError",Nt(lr)})});let kn;try{yield Promise.race([et,ut]),kn=yield et}catch(Sn){let Nt="fetch-client-network";throw"AbortError"===Sn?.name&&(Nt="fetch-timeout"),Q.create(Nt,{originalErrorMessage:Sn?.message})}let _n=kn.status;const Fn=kn.headers.get("ETag")||void 0;let Qn,An;if(200===kn.status){let Sn;try{Sn=yield kn.json()}catch(Nt){throw Q.create("fetch-client-parse",{originalErrorMessage:Nt?.message})}Qn=Sn.entries,An=Sn.state}if("INSTANCE_STATE_UNSPECIFIED"===An?_n=500:"NO_CHANGE"===An?_n=304:("NO_TEMPLATE"===An||"EMPTY_CONFIG"===An)&&(Qn={}),304!==_n&&200!==_n)throw Q.create("fetch-status",{httpStatus:_n});return{status:_n,eTag:Fn,config:Qn}})()}}class Ye{constructor(oe,ce){this.client=oe,this.storage=ce}fetch(oe){var ce=this;return(0,h.Z)(function*(){const st=(yield ce.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ce.attemptFetch(oe,st)})()}attemptFetch(oe,{throttleEndTimeMillis:ce,backoffCount:st}){var Lt=this;return(0,h.Z)(function*(){yield function Fe(ot,oe){return new Promise((ce,st)=>{const Lt=Math.max(oe-Date.now(),0),Vt=setTimeout(ce,Lt);ot.addEventListener(()=>{clearTimeout(Vt),st(Q.create("fetch-throttle",{throttleEndTimeMillis:oe}))})})}(oe.signal,ce);try{const Vt=yield Lt.client.fetch(oe);return yield Lt.storage.deleteThrottleMetadata(),Vt}catch(Vt){if(!function Je(ot){if(!(ot instanceof L.ZR&&ot.customData))return!1;const oe=Number(ot.customData.httpStatus);return 429===oe||500===oe||503===oe||504===oe}(Vt))throw Vt;const Zt={throttleEndTimeMillis:Date.now()+(0,L.$s)(st),backoffCount:st+1};return yield Lt.storage.setThrottleMetadata(Zt),Lt.attemptFetch(oe,Zt)}})()}}class zt{constructor(oe,ce,st,Lt,Vt){this.app=oe,this._client=ce,this._storageCache=st,this._storage=Lt,this._logger=Vt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function St(ot,oe){const ce=ot.target.error||void 0;return Q.create(oe,{originalErrorMessage:ce&&ce?.message})}const Ut="app_namespace_store";class Un{constructor(oe,ce,st,Lt=function Bn(){return new Promise((ot,oe)=>{try{const ce=indexedDB.open("firebase_remote_config",1);ce.onerror=st=>{oe(St(st,"storage-open"))},ce.onsuccess=st=>{ot(st.target.result)},ce.onupgradeneeded=st=>{0===st.oldVersion&&st.target.result.createObjectStore(Ut,{keyPath:"compositeKey"})}}catch(ce){oe(Q.create("storage-open",{originalErrorMessage:ce?.message}))}})}()){this.appId=oe,this.appName=ce,this.namespace=st,this.openDbPromise=Lt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(oe){return this.set("last_fetch_status",oe)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(oe){return this.set("last_successful_fetch_timestamp_millis",oe)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(oe){return this.set("last_successful_fetch_response",oe)}getActiveConfig(){return this.get("active_config")}setActiveConfig(oe){return this.set("active_config",oe)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(oe){return this.set("active_config_etag",oe)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(oe){return this.set("throttle_metadata",oe)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(oe){var ce=this;return(0,h.Z)(function*(){const st=yield ce.openDbPromise;return new Promise((Lt,Vt)=>{const Tn=st.transaction([Ut],"readonly").objectStore(Ut),jt=ce.createCompositeKey(oe);try{const At=Tn.get(jt);At.onerror=et=>{Vt(St(et,"storage-get"))},At.onsuccess=et=>{const ut=et.target.result;Lt(ut?ut.value:void 0)}}catch(At){Vt(Q.create("storage-get",{originalErrorMessage:At?.message}))}})})()}set(oe,ce){var st=this;return(0,h.Z)(function*(){const Lt=yield st.openDbPromise;return new Promise((Vt,Zt)=>{const jt=Lt.transaction([Ut],"readwrite").objectStore(Ut),At=st.createCompositeKey(oe);try{const et=jt.put({compositeKey:At,value:ce});et.onerror=ut=>{Zt(St(ut,"storage-set"))},et.onsuccess=()=>{Vt()}}catch(et){Zt(Q.create("storage-set",{originalErrorMessage:et?.message}))}})})()}delete(oe){var ce=this;return(0,h.Z)(function*(){const st=yield ce.openDbPromise;return new Promise((Lt,Vt)=>{const Tn=st.transaction([Ut],"readwrite").objectStore(Ut),jt=ce.createCompositeKey(oe);try{const At=Tn.delete(jt);At.onerror=et=>{Vt(St(et,"storage-delete"))},At.onsuccess=()=>{Lt()}}catch(At){Vt(Q.create("storage-delete",{originalErrorMessage:At?.message}))}})})()}createCompositeKey(oe){return[this.appId,this.appName,this.namespace,oe].join()}}class dr{constructor(oe){this.storage=oe}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var oe=this;return(0,h.Z)(function*(){const ce=oe.storage.getLastFetchStatus(),st=oe.storage.getLastSuccessfulFetchTimestampMillis(),Lt=oe.storage.getActiveConfig(),Vt=yield ce;Vt&&(oe.lastFetchStatus=Vt);const Zt=yield st;Zt&&(oe.lastSuccessfulFetchTimestampMillis=Zt);const Tn=yield Lt;Tn&&(oe.activeConfig=Tn)})()}setLastFetchStatus(oe){return this.lastFetchStatus=oe,this.storage.setLastFetchStatus(oe)}setLastSuccessfulFetchTimestampMillis(oe){return this.lastSuccessfulFetchTimestampMillis=oe,this.storage.setLastSuccessfulFetchTimestampMillis(oe)}setActiveConfig(oe){return this.activeConfig=oe,this.storage.setActiveConfig(oe)}}function Kr(){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(){if(!(0,L.hl)())return!1;try{return yield(0,L.eu)()}catch{return!1}})).apply(this,arguments)}!function zn(){(0,j._registerComponent)(new ee.wA(K,function ot(oe,{instanceIdentifier:ce}){const st=oe.getProvider("app").getImmediate(),Lt=oe.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Q.create("registration-window");if(!(0,L.hl)())throw Q.create("indexed-db-unavailable");const{projectId:Vt,apiKey:Zt,appId:Tn}=st.options;if(!Vt)throw Q.create("registration-project-id");if(!Zt)throw Q.create("registration-api-key");if(!Tn)throw Q.create("registration-app-id");const jt=new Un(Tn,st.name,ce=ce||"firebase"),At=new dr(jt),et=new we.Yd(Ce);et.logLevel=we.in.ERROR;const ut=new Ae(Lt,j.SDK_VERSION,ce,Vt,Zt,Tn),kn=new Ye(ut,jt),_n=new me(kn,jt,At,et),Fn=new zt(st,_n,At,jt,et);return function De(ot){const oe=(0,L.m9)(ot);oe._initializePromise||(oe._initializePromise=oe._storageCache.loadFromStorage().then(()=>{oe._isInitializationComplete=!0}))}(Fn),Fn},"PUBLIC").setMultipleInstances(!0)),(0,j.registerVersion)(Ce,"0.4.4"),(0,j.registerVersion)(Ce,"0.4.4","esm2017")}()},5861:(Mt,Pe,O)=>{function h(L,ee,we,ie,Ce,_e,Ee){try{var K=L[_e](Ee),W=K.value}catch(Q){return void we(Q)}K.done?ee(W):Promise.resolve(W).then(ie,Ce)}function j(L){return function(){var ee=this,we=arguments;return new Promise(function(ie,Ce){var _e=L.apply(ee,we);function Ee(W){h(_e,ie,Ce,Ee,K,"next",W)}function K(W){h(_e,ie,Ce,Ee,K,"throw",W)}Ee(void 0)})}}O.d(Pe,{Z:()=>j})}},Mt=>{Mt(Mt.s=1944)}]);